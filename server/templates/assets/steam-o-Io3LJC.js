import{d as z,y as c,A as y,D as w,z as H,E as m,au as te,K as Q,r as R,T as S,M as ne,Q as J,aQ as le,a7 as se,S as K,V as ie,x as oe,X as M,ar as de,aR as pe,aS as ce,aT as me,L as X,av as I,Z as fe,aU as ge,W as ue,O as ve,J as xe,a9 as he,ad as ye,k as F,o as v,w as $,h as N,c as b,u as C,ak as B,i as O,F as U,e as V,a as d,v as W,t as L,ae as j,aV as we,ab as Z,aW as be}from"./index-DAkhcvNy.js";import{f as Ce,N as ke}from"./Skeleton-BUoS_9Ol.js";import{N as _e}from"./Card-CimJnkoP.js";import"./use-houdini-CqCqhEt-.js";function q(r,i){let{target:l}=r;for(;l;){if(l.dataset&&l.dataset[i]!==void 0)return!0;l=l.parentElement}return!1}const Le=z({name:"ChevronLeft",render:()=>c("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c("path",{d:"M10.3536 3.14645C10.5488 3.34171 10.5488 3.65829 10.3536 3.85355L6.20711 8L10.3536 12.1464C10.5488 12.3417 10.5488 12.6583 10.3536 12.8536C10.1583 13.0488 9.84171 13.0488 9.64645 12.8536L5.14645 8.35355C4.95118 8.15829 4.95118 7.84171 5.14645 7.64645L9.64645 3.14645C9.84171 2.95118 10.1583 2.95118 10.3536 3.14645Z",fill:"currentColor"}))}),$e=z({name:"ChevronRight",render:()=>c("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c("path",{d:"M5.64645 3.14645C5.45118 3.34171 5.45118 3.65829 5.64645 3.85355L9.79289 8L5.64645 12.1464C5.45118 12.3417 5.45118 12.6583 5.64645 12.8536C5.84171 13.0488 6.15829 13.0488 6.35355 12.8536L10.8536 8.35355C11.0488 8.15829 11.0488 7.84171 10.8536 7.64645L6.35355 3.14645C6.15829 2.95118 5.84171 2.95118 5.64645 3.14645Z",fill:"currentColor"}))}),Se=y("collapse","width: 100%;",[y("collapse-item",`
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 margin: var(--n-item-margin);
 `,[w("disabled",[m("header","cursor: not-allowed;",[m("header-main",`
 color: var(--n-title-text-color-disabled);
 `),y("collapse-item-arrow",`
 color: var(--n-arrow-color-disabled);
 `)])]),y("collapse-item","margin-left: 32px;"),H("&:first-child","margin-top: 0;"),H("&:first-child >",[m("header","padding-top: 0;")]),w("left-arrow-placement",[m("header",[y("collapse-item-arrow","margin-right: 4px;")])]),w("right-arrow-placement",[m("header",[y("collapse-item-arrow","margin-left: 4px;")])]),m("content-wrapper",[m("content-inner","padding-top: 16px;"),Ce({duration:"0.15s"})]),w("active",[m("header",[w("active",[y("collapse-item-arrow","transform: rotate(90deg);")])])]),H("&:not(:first-child)","border-top: 1px solid var(--n-divider-color);"),te("disabled",[w("trigger-area-main",[m("header",[m("header-main","cursor: pointer;"),y("collapse-item-arrow","cursor: default;")])]),w("trigger-area-arrow",[m("header",[y("collapse-item-arrow","cursor: pointer;")])]),w("trigger-area-extra",[m("header",[m("header-extra","cursor: pointer;")])])]),m("header",`
 font-size: var(--n-title-font-size);
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 transition: color .3s var(--n-bezier);
 position: relative;
 padding: var(--n-title-padding);
 color: var(--n-title-text-color);
 `,[m("header-main",`
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 flex: 1;
 color: var(--n-title-text-color);
 `),m("header-extra",`
 display: flex;
 align-items: center;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),y("collapse-item-arrow",`
 display: flex;
 transition:
 transform .15s var(--n-bezier),
 color .3s var(--n-bezier);
 font-size: 18px;
 color: var(--n-arrow-color);
 `)])])]),ze=Object.assign(Object.assign({},J.props),{defaultExpandedNames:{type:[Array,String],default:null},expandedNames:[Array,String],arrowPlacement:{type:String,default:"left"},accordion:{type:Boolean,default:!1},displayDirective:{type:String,default:"if"},triggerAreas:{type:Array,default:()=>["main","extra","arrow"]},onItemHeaderClick:[Function,Array],"onUpdate:expandedNames":[Function,Array],onUpdateExpandedNames:[Function,Array],onExpandedNamesChange:{type:[Function,Array],validator:()=>!0,default:void 0}}),G=oe("n-collapse"),De=z({name:"Collapse",props:ze,slots:Object,setup(r,{slots:i}){const{mergedClsPrefixRef:l,inlineThemeDisabled:o,mergedRtlRef:f}=Q(r),s=R(r.defaultExpandedNames),u=S(()=>r.expandedNames),t=ne(u,s),a=J("Collapse","-collapse",Se,le,r,l);function e(x){const{"onUpdate:expandedNames":p,onUpdateExpandedNames:h,onExpandedNamesChange:_}=r;h&&M(h,x),p&&M(p,x),_&&M(_,x),s.value=x}function n(x){const{onItemHeaderClick:p}=r;p&&M(p,x)}se(G,{props:r,mergedClsPrefixRef:l,expandedNamesRef:t,slots:i,toggleItem:function(x,p,h){const{accordion:_}=r,{value:A}=t;if(_)x?(e([p]),n({name:p,expanded:!0,event:h})):(e([]),n({name:p,expanded:!1,event:h}));else if(Array.isArray(A)){const k=A.slice(),P=k.findIndex(E=>p===E);~P?(k.splice(P,1),e(k),n({name:p,expanded:!1,event:h})):(k.push(p),e(k),n({name:p,expanded:!0,event:h}))}else e([p]),n({name:p,expanded:!0,event:h})}});const g=K("Collapse",f,l),D=S(()=>{const{common:{cubicBezierEaseInOut:x},self:{titleFontWeight:p,dividerColor:h,titlePadding:_,titleTextColor:A,titleTextColorDisabled:k,textColor:P,arrowColor:E,fontSize:Y,titleFontSize:ee,arrowColorDisabled:ae,itemMargin:re}}=a.value;return{"--n-font-size":Y,"--n-bezier":x,"--n-text-color":P,"--n-divider-color":h,"--n-title-padding":_,"--n-title-font-size":ee,"--n-title-text-color":A,"--n-title-text-color-disabled":k,"--n-title-font-weight":p,"--n-arrow-color":E,"--n-arrow-color-disabled":ae,"--n-item-margin":re}}),T=o?ie("collapse",void 0,D,r):void 0;return{rtlEnabled:g,mergedTheme:a,mergedClsPrefix:l,cssVars:o?void 0:D,themeClass:T==null?void 0:T.themeClass,onRender:T==null?void 0:T.onRender}},render(){var r;return(r=this.onRender)===null||r===void 0||r.call(this),c("div",{class:[`${this.mergedClsPrefix}-collapse`,this.rtlEnabled&&`${this.mergedClsPrefix}-collapse--rtl`,this.themeClass],style:this.cssVars},this.$slots)}}),Te=z({name:"CollapseItemContent",props:{displayDirective:{type:String,required:!0},show:Boolean,clsPrefix:{type:String,required:!0}},setup:r=>({onceTrue:me(X(r,"show"))}),render(){return c(de,null,{default:()=>{const{show:r,displayDirective:i,onceTrue:l,clsPrefix:o}=this,f=i==="show"&&l,s=c("div",{class:`${o}-collapse-item__content-wrapper`},c("div",{class:`${o}-collapse-item__content-inner`},this.$slots));return f?pe(s,[[ce,r]]):r?s:null}})}}),Ae=z({name:"CollapseItem",props:{title:String,name:[String,Number],disabled:Boolean,displayDirective:String},setup(r){const{mergedRtlRef:i}=Q(r),l=ue(),o=ve(()=>{var n;return(n=r.name)!==null&&n!==void 0?n:l}),f=xe(G);f||he("collapse-item","`n-collapse-item` must be placed inside `n-collapse`.");const{expandedNamesRef:s,props:u,mergedClsPrefixRef:t,slots:a}=f,e=S(()=>{const{value:n}=s;if(Array.isArray(n)){const{value:g}=o;return!~n.findIndex(D=>D===g)}if(n){const{value:g}=o;return g!==n}return!0});return{rtlEnabled:K("Collapse",i,t),collapseSlots:a,randomName:l,mergedClsPrefix:t,collapsed:e,triggerAreas:X(u,"triggerAreas"),mergedDisplayDirective:S(()=>{const{displayDirective:n}=r;return n||u.displayDirective}),arrowPlacement:S(()=>u.arrowPlacement),handleClick(n){let g="main";q(n,"arrow")&&(g="arrow"),q(n,"extra")&&(g="extra"),u.triggerAreas.includes(g)&&f&&!r.disabled&&f.toggleItem(e.value,o.value,n)}}},render(){const{collapseSlots:r,$slots:i,arrowPlacement:l,collapsed:o,mergedDisplayDirective:f,mergedClsPrefix:s,disabled:u,triggerAreas:t}=this,a=I(i.header,{collapsed:o},()=>[this.title]),e=i["header-extra"]||r["header-extra"],n=i.arrow||r.arrow;return c("div",{class:[`${s}-collapse-item`,`${s}-collapse-item--${l}-arrow-placement`,u&&`${s}-collapse-item--disabled`,!o&&`${s}-collapse-item--active`,t.map(g=>`${s}-collapse-item--trigger-area-${g}`)]},c("div",{class:[`${s}-collapse-item__header`,!o&&`${s}-collapse-item__header--active`]},c("div",{class:`${s}-collapse-item__header-main`,onClick:this.handleClick},l==="right"&&a,c("div",{class:`${s}-collapse-item-arrow`,key:this.rtlEnabled?0:1,"data-arrow":!0},I(n,{collapsed:o},()=>[c(fe,{clsPrefix:s},{default:()=>this.rtlEnabled?c(Le,null):c($e,null)})])),l==="left"&&a),ge(e,{collapsed:o},g=>c("div",{class:`${s}-collapse-item__header-extra`,onClick:this.handleClick,"data-extra":!0},g))),c(Te,{clsPrefix:s,displayDirective:f,show:!o},i))}}),Pe={style:{display:"flex"}},Me=["src"],Ne={style:{margin:"0 10px"}},Ee=["href"],He=["innerHTML"],Re={key:0},Fe=["href"],Ie=["innerHTML"],Be={key:1},Oe=["innerHTML"],Ue={style:{display:"flex"}},Ve=["src"],We={style:{margin:"0 10px"}},je=["href"],Ze=["innerHTML"],qe={key:0,style:{margin:"5px"}},Qe=["href"],Je=["innerHTML"],Ke={key:1},Xe=["innerHTML"],Ge={__name:"steaminfo",setup(r){const i=R({steam_enable:!1}),l=R({steam_enable:!1});function o(){we().then(t=>{typeof t!="string"&&(i.value=t)}).catch(t=>{Z(t,{theme:"auto",type:"error"})})}function f(){be().then(t=>{typeof t!="string"&&(l.value=t)}).catch(t=>{Z(t,{theme:"auto",type:"error"})})}function s(t){let a="",e="gray";switch(t){case 0:a="离线",e="gray";break;case 1:a="在线",e="#69D1F5";break;case 2:a="忙碌",e="red";break;case 3:a="离开",e="orange";break;case 4:a="休息",e="blue";break;case 5:a="寻找交易",e="purple";break;case 6:a="寻找游戏",e="yellow";break;default:a="未知状态",e="gray"}return`<span style="color: ${e};">${a}</span>`}function u(t){let a="",e="gray";return 1&t&&(a+="离线 ",e="gray"),2&t&&(a+="在线 ",e="green"),4&t&&(a+="金牌用户 ",e="gold"),64&t&&(a+="通过Steam大画面模式在线 "),256&t&&(a+="通过Web客户端在线 "),512&t&&(a+="通过移动设备在线 "),1024&t&&(a+="通过Steam控制器在线 "),a=a.trim(),`<span style="color: ${e};">${a}</span>`}return ye(()=>{o(),f()}),(t,a)=>i.value.steam_enable?(v(),F(C(_e),{key:0,title:"Steam Status",style:{"min-width":"200px"}},{default:$(()=>[N(C(B),{onClick:o,text:"",style:{margin:"10px 0",float:"right","font-size":"20px"},title:"刷新"},{default:$(()=>a[0]||(a[0]=[O("↻")])),_:1}),i.value.status_code==200?(v(!0),b(U,{key:0},V(i.value.data.response.players,(e,n)=>(v(),b("div",{style:{margin:"5px"},key:n},[d("div",Pe,[d("img",{src:e.avatarfull,alt:"头像",style:{width:"70px",height:"70px"}},null,8,Me),d("div",Ne,[d("a",{href:e.profileurl,target:"_blank",style:{padding:"0",color:"#69D1F5"}},L(e.personaname),9,Ee),d("div",{innerHTML:s(e.personastate)},null,8,He),e.gameextrainfo?(v(),b("div",Re,[d("a",{href:"https://store.steampowered.com/app/"+e.gameid,target:"_blank",style:{padding:"0"}},L(e.gameextrainfo),9,Fe)])):W("",!0),d("div",{innerHTML:u(e.personastateflags)},null,8,Ie),d("div",null,"最后登录时间: "+L(C(j)(new Date(1e3*e.lastlogoff).toLocaleString())),1)])])]))),128)):(v(),b("div",Be,[d("div",{innerHTML:i.value.text||"未知错误"},null,8,Oe)])),N(C(De),{"default-expanded-names":["1"]},{default:$(()=>[N(C(Ae),{title:"好友",name:"1"},{default:$(()=>[N(C(B),{onClick:f,text:"",style:{margin:"10px 10px",float:"right","font-size":"20px"},title:"刷新好友"},{default:$(()=>a[1]||(a[1]=[O("↻")])),_:1}),l.value.status_code==200?(v(!0),b(U,{key:0},V(l.value.data.response.players,(e,n)=>(v(),b("div",{style:{margin:"5px"},key:n},[d("div",Ue,[d("img",{src:e.avatarfull,alt:"头像",style:{width:"70px",height:"70px"}},null,8,Ve),d("div",We,[d("a",{href:e.profileurl,target:"_blank",style:{padding:"0",color:"#69D1F5"}},L(e.personaname),9,je),a[2]||(a[2]=d("br",null,null,-1)),d("span",{innerHTML:s(e.personastate)},null,8,Ze),e.gameextrainfo?(v(),b("span",qe,[d("a",{href:"https://store.steampowered.com/app/"+e.gameid,target:"_blank",style:{padding:"0"}},L(e.gameextrainfo),9,Qe)])):W("",!0),d("div",{innerHTML:u(e.personastateflags)},null,8,Je),d("div",null,L(C(j)(new Date(1e3*e.lastlogoff).toLocaleString())),1)])])]))),128)):(v(),b("div",Ke,[d("div",{innerHTML:i.value.text||"未知错误"},null,8,Xe)]))]),_:1})]),_:1})]),_:1})):(v(),F(C(ke),{key:1,text:"",repeat:5}))}},ta={__name:"steam",setup:r=>(i,l)=>(v(),F(Ge))};export{ta as default};
