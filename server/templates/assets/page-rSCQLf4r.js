const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ccip-CpaRAIMl.js","assets/index-DAkhcvNy.js","assets/index-DkwXj5ZV.css","assets/index-BEF1Fh9r.js"])))=>i.map(i=>d[i]);
var ip=Object.defineProperty;var lo=e=>{throw TypeError(e)};var op=(e,t,n)=>t in e?ip(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var re=(e,t,n)=>op(e,typeof t!="symbol"?t+"":t,n),Fr=(e,t,n)=>t.has(e)||lo("Cannot "+n);var ja=(e,t,n)=>(Fr(e,t,"read from private field"),n?n.call(e):t.get(e)),Gn=(e,t,n)=>t.has(e)?lo("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Da=(e,t,n,a)=>(Fr(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n),Be=(e,t,n)=>(Fr(e,t,"access private method"),n);import{n as ki,_ as cp,r as zr,p as up,q as dp,c as At,o as ht,a as yn,t as mn,F as Ur,e as po,u as jr,j as ho,s as lp,v as pp,k as hp}from"./index-DAkhcvNy.js";import{M as yp}from"./index-BEF1Fh9r.js";const yo=(e,t,n)=>{let a;const r=t,s={ok:!1,pos:t,value:""};for(a=e.charAt(t);t<n&&/\d/.test(a)||a==="%";)a=e.charAt(++t);return s.ok=!0,s.pos=t,s.value=e.slice(r,t),s},mp=(e,t)=>{const n=e.env,a=e.pos,r=e.posMax;if(e.src.charAt(e.pos)!=="!"||e.src.charAt(e.pos+1)!=="[")return!1;const s=e.pos+2,i=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(i<0)return!1;let o,c=i+1,u="",l="",d="",p="";if(c<r&&e.src.charAt(c)==="("){for(c++;c<r&&(o=e.src.charAt(c),o===" "||o==="	");)c++;if(c>=r)return!1;let h;h=e.md.helpers.parseLinkDestination(e.src,c,e.posMax),h.ok&&(u=e.md.normalizeLink(h.str),e.md.validateLink(u)?c=h.pos:u="");const b=c;for(;c<r&&(o=e.src.charAt(c),o===" "||o==="	");c++);if(h=e.md.helpers.parseLinkTitle(e.src,c,e.posMax),c<r&&b!==c&&h.ok)for(l=h.str,c=h.pos;c<r&&(o=e.src.charAt(c),o===" "||o==="	");c++);else l="";if(c-1>=0&&(o=e.src.charAt(c-1),o===" "&&(h=((y,m,f)=>{const g={ok:!1,pos:0,width:"",height:""};if(m>=f||y.charAt(m)!=="=")return g;m++;const w=y.charAt(m);if(w!=="x"&&!/\d/.test(w))return g;const k=yo(y,m,f);if(m=k.pos,y.charAt(m)!=="x")return g;m++;const I=yo(y,m,f);return m=I.pos,g.width=k.value,g.height=I.value,g.pos=m,g.ok=!0,g})(e.src,c,e.posMax),h.ok)))for(d=h.width,p=h.height,c=h.pos;c<r&&(o=e.src.charAt(c),o===" "||o===`
`);c++);if(c>=r||e.src.charAt(c)!==")")return e.pos=a,!1;c++}else{let h="";if(typeof n.references>"u")return!1;for(;c<r&&(o=e.src.charAt(c),o===" "||o==="	");c++);if(c<r&&e.src.charAt(c)==="["){const y=c+1;c=e.md.helpers.parseLinkLabel(e,c),c>=0?h=e.src.slice(y,c++):c=i+1}else c=i+1;h||(h=e.src.slice(s,i));const b=n.references[e.md.utils.normalizeReference(h)];if(!b)return e.pos=a,!1;u=b.href,l=b.title??""}if(!t){e.pos=s,e.posMax=i;const h=e.src.slice(s,i),b=[];e.md.inline.parse(h,e.md,e.env,b);const y=e.push("image","img",0);y.attrs=[["src",u],["alt",""]],l&&y.attrs.push(["title",l]),d&&y.attrs.push(["width",d]),p&&y.attrs.push(["height",p]),y.children=b,y.content=h}return e.pos=c,e.posMax=r,!0},fp=e=>{e.inline.ruler.before("emphasis","image",mp)};var Pu=["https://4everland.xyz/ipfs/{cid}{pathToResource}","https://w3s.link/ipfs/{cid}{pathToResource}","https://ipfs.io/ipfs/{cid}{pathToResource}","https://dweb.link/ipfs/{cid}{pathToResource}"],Mu=/^ipfs:\/\/([^/]+)(.*)$/;function bp(e,t){let n=t.pathToResource===""||t.pathToResource.startsWith("/")?t.pathToResource:`/${t.pathToResource}`;return e.replace(/{cid}/g,t.cid).replace(/\/?{pathToResource}/g,n)}function gp(e,t=Pu){let n=function(a){let[,r="",s=""]=Mu.exec(a)??[];return r?{cid:r,pathToResource:s}:null}(e);return n?t.map(a=>({gateway:a,url:bp(a,n)})):[]}var mo,wp=((mo=wp||{}).allFailed="ipfsFetch all failed",mo),vp=class extends Error{constructor(t,n,a){super(t);re(this,"name","IpfsFetchError");this.url=n,this.web2InfoList=a}},kp=new Promise(()=>{});function mr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dr,fo,bo,go,wo,Hr,vo,ko={};function xp(){return bo||(bo=1,e=ko,t=function(){if(fo)return Dr;function n(a,r){typeof r=="boolean"&&(r={forever:r}),this._originalTimeouts=JSON.parse(JSON.stringify(a)),this._timeouts=a,this._options=r||{},this._maxRetryTime=r&&r.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return fo=1,Dr=n,n.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},n.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},n.prototype.retry=function(a){if(this._timeout&&clearTimeout(this._timeout),!a)return!1;var r=new Date().getTime();if(a&&r-this._operationStart>=this._maxRetryTime)return this._errors.push(a),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(a);var s=this._timeouts.shift();if(s===void 0){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),s=this._cachedTimeouts.slice(-1)}var i=this;return this._timer=setTimeout(function(){i._attempts++,i._operationTimeoutCb&&(i._timeout=setTimeout(function(){i._operationTimeoutCb(i._attempts)},i._operationTimeout),i._options.unref&&i._timeout.unref()),i._fn(i._attempts)},s),this._options.unref&&this._timer.unref(),!0},n.prototype.attempt=function(a,r){this._fn=a,r&&(r.timeout&&(this._operationTimeout=r.timeout),r.cb&&(this._operationTimeoutCb=r.cb));var s=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){s._operationTimeoutCb()},s._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},n.prototype.try=function(a){this.attempt(a)},n.prototype.start=function(a){this.attempt(a)},n.prototype.start=n.prototype.try,n.prototype.errors=function(){return this._errors},n.prototype.attempts=function(){return this._attempts},n.prototype.mainError=function(){if(this._errors.length===0)return null;for(var a={},r=null,s=0,i=0;i<this._errors.length;i++){var o=this._errors[i],c=o.message,u=(a[c]||0)+1;a[c]=u,u>=s&&(r=o,s=u)}return r},Dr}(),e.operation=function(n){var a=e.timeouts(n);return new t(a,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},e.timeouts=function(n){if(n instanceof Array)return[].concat(n);var a={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in n)a[r]=n[r];if(a.minTimeout>a.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var s=[],i=0;i<a.retries;i++)s.push(this.createTimeout(i,a));return n&&n.forever&&!s.length&&s.push(this.createTimeout(i,a)),s.sort(function(o,c){return o-c}),s},e.createTimeout=function(n,a){var r=a.randomize?Math.random()+1:1,s=Math.round(r*Math.max(a.minTimeout,1)*Math.pow(a.factor,n));return s=Math.min(s,a.maxTimeout)},e.wrap=function(n,a,r){if(a instanceof Array&&(r=a,a=null),!r)for(var s in r=[],n)typeof n[s]=="function"&&r.push(s);for(var i=0;i<r.length;i++){var o=r[i],c=n[o];n[o]=(function(u){var l=e.operation(a),d=Array.prototype.slice.call(arguments,1),p=d.pop();d.push(function(h){l.retry(h)||(h&&(arguments[0]=l.mainError()),p.apply(this,arguments))}),l.attempt(function(){u.apply(n,d)})}).bind(n,c),n[o].options=a}}),ko;var e,t}var Ip=function(){if(vo)return Hr;vo=1;var e=wo?go:(wo=1,go=xp());return Hr=function(t,n){return new Promise(function(a,r){var s,i=n||{};function o(u){r(u||new Error("Aborted"))}function c(u,l){u.bail?o(u):s.retry(u)?i.onRetry&&i.onRetry(u,l):r(s.mainError())}"randomize"in i||(i.randomize=!0),(s=e.operation(i)).attempt(function(u){var l;try{l=t(o,u)}catch(d){return void c(d,u)}Promise.resolve(l).then(a).catch(function(d){c(d,u)})})})},Hr}();const Nu=mr(Ip);function Bu(e){return e&&{...e,connected_accounts:Ep(e.connected_accounts)}}function Ep(e){return Array.isArray(e)?e.map(t=>{switch(typeof t){case"string":return t;case"object":return t&&"uri"in t&&typeof t.uri=="string"?t.uri:"";default:return""}}).filter(Boolean):[]}async function Ap(e){var a;const t=await(n=e,Nu(async()=>await fetch("https://ipfs-relay.crossbell.io/json",{method:"POST",body:JSON.stringify(n)}).then(r=>r.json()),{retries:3}));var n;if(!((a=t==null?void 0:t.url)!=null&&a.startsWith("ipfs://")))throw new Error("upload to IPFS failed");return t.url}function xi(e){return Nu(async()=>{if(t=e,Mu.test(t)){const a=await function(r,{gateways:s=Pu,signal:i,...o}={}){let c=gp(r,s),u=new Set,l=0;return Promise.race(c.map(d=>{let p=new AbortController;u.add(p),i==null||i.addEventListener("abort",()=>p.abort());let h=()=>(l+=1,l>=c.length?Promise.reject(new vp("ipfsFetch all failed",r,c)):kp);return fetch(d.url,{...o,signal:p.signal}).then(b=>b.ok?(u.delete(p),Object.assign(b,{_info:d})):h()).catch(b=>b instanceof Error&&b.name==="AbortError"?Promise.reject(b):h())})).finally(()=>{u.forEach(d=>d.abort()),u.clear()})}(e).then(r=>r.text());try{return JSON.parse(a)}catch{throw new Error(`Failed to parse metadata from uri: ${e}`)}}var t;let n="";try{return n=await fetch(e).then(a=>a.text()),n=JSON.parse(n),n}catch{throw new Error(`Failed to fetch metadata from uri: ${e} . Response: ${n}`)}},{retries:3})}async function Xn(e,t,n=!1){if(t==="")return{uri:"",metadata:void 0};let a,r;return typeof t=="string"?(a=t,r=n?await xi(a):void 0):(r=t,r.type||(r.type=e),a=await Ap(r)),r&&e==="character"&&(r=Bu(r)),{metadata:r,uri:a}}function $u(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const Ou="2.23.8";let Gr=({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,xo=`viem@${Ou}`,R=class Ss extends Error{constructor(t,n={}){var i;const a=n.cause instanceof Ss?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,r=n.cause instanceof Ss&&n.cause.docsPath||n.docsPath,s=Gr==null?void 0:Gr({...n,docsPath:r});super([t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...a?[`Details: ${a}`]:[],...xo?[`Version: ${xo}`]:[]].join(`
`),n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=a,this.docsPath=r,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=Ou}walk(t){return Su(this,t)}};function Su(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?Su(e.cause,t):t?null:e}let Ru=class extends R{constructor({max:e,min:t,signed:n,size:a,value:r}){super(`Number "${r}" is not in safe ${a?`${8*a}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}};class Cp extends R{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class Tp extends R{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Pp=class extends R{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function vt(e,{strict:t=!0}={}){return!!e&&typeof e=="string"&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}function ge(e){return vt(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function Qe(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,a=0;for(let r=0;r<n.length-1&&n[t==="left"?r:n.length-r-1].toString()==="0";r++)a++;return n=t==="left"?n.slice(a):n.slice(0,n.length-a),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2==1?`0${n}`:n}`):n}let _u=class extends R{constructor({offset:e,position:t,size:n}){super(`Slice ${t==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}},Lu=class extends R{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}};class Io extends R{constructor({size:t,targetSize:n,type:a}){super(`${a.charAt(0).toUpperCase()}${a.slice(1).toLowerCase()} is expected to be ${n} ${a} long, but is ${t} ${a} long.`,{name:"InvalidBytesLengthError"})}}function Ot(e,{dir:t,size:n=32}={}){return typeof e=="string"?Ht(e,{dir:t,size:n}):function(a,{dir:r,size:s=32}={}){if(s===null)return a;if(a.length>s)throw new Lu({size:a.length,targetSize:s,type:"bytes"});const i=new Uint8Array(s);for(let o=0;o<s;o++){const c=r==="right";i[c?o:s-o-1]=a[c?o:a.length-o-1]}return i}(e,{dir:t,size:n})}function Ht(e,{dir:t,size:n=32}={}){if(n===null)return e;const a=e.replace("0x","");if(a.length>2*n)throw new Lu({size:Math.ceil(a.length/2),targetSize:n,type:"hex"});return`0x${a[t==="right"?"padEnd":"padStart"](2*n,"0")}`}const Mp=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function te(e,t={}){return typeof e=="number"||typeof e=="bigint"?W(e,t):typeof e=="string"?he(e,t):typeof e=="boolean"?Ii(e,t):Ee(e,t)}function Ii(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(nt(n,{size:t.size}),Ot(n,{size:t.size})):n}function Ee(e,t={}){let n="";for(let r=0;r<e.length;r++)n+=Mp[e[r]];const a=`0x${n}`;return typeof t.size=="number"?(nt(a,{size:t.size}),Ot(a,{dir:"right",size:t.size})):a}function W(e,t={}){const{signed:n,size:a}=t,r=BigInt(e);let s;a?s=n?(1n<<8n*BigInt(a)-1n)-1n:2n**(8n*BigInt(a))-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof s=="bigint"&&n?-s-1n:0;if(s&&r>s||r<i){const c=typeof e=="bigint"?"n":"";throw new Ru({max:s?`${s}${c}`:void 0,min:`${i}${c}`,signed:n,size:a,value:`${e}${c}`})}const o=`0x${(n&&r<0?(1n<<BigInt(8*a))+BigInt(r):r).toString(16)}`;return a?Ot(o,{size:a}):o}const Np=new TextEncoder;function he(e,t={}){return Ee(Np.encode(e),t)}const Bp=new TextEncoder;function Ln(e,t={}){return typeof e=="number"||typeof e=="bigint"?function(n,a){const r=W(n,a);return et(r)}(e,t):typeof e=="boolean"?function(n,a={}){const r=new Uint8Array(1);return r[0]=Number(n),typeof a.size=="number"?(nt(r,{size:a.size}),Ot(r,{size:a.size})):r}(e,t):vt(e)?et(e,t):Qt(e,t)}const Ct={zero:48,nine:57,A:65,F:70,a:97,f:102};function Eo(e){return e>=Ct.zero&&e<=Ct.nine?e-Ct.zero:e>=Ct.A&&e<=Ct.F?e-(Ct.A-10):e>=Ct.a&&e<=Ct.f?e-(Ct.a-10):void 0}function et(e,t={}){let n=e;t.size&&(nt(n,{size:t.size}),n=Ot(n,{dir:"right",size:t.size}));let a=n.slice(2);a.length%2&&(a=`0${a}`);const r=a.length/2,s=new Uint8Array(r);for(let i=0,o=0;i<r;i++){const c=Eo(a.charCodeAt(o++)),u=Eo(a.charCodeAt(o++));if(c===void 0||u===void 0)throw new R(`Invalid byte sequence ("${a[o-2]}${a[o-1]}" in "${a}").`);s[i]=16*c+u}return s}function Qt(e,t={}){const n=Bp.encode(e);return typeof t.size=="number"?(nt(n,{size:t.size}),Ot(n,{dir:"right",size:t.size})):n}function nt(e,{size:t}){if(ge(e)>t)throw new Pp({givenSize:ge(e),maxSize:t})}function kt(e,t={}){const{signed:n}=t;t.size&&nt(e,{size:t.size});const a=BigInt(e);if(!n)return a;const r=(e.length-2)/2;return a<=(1n<<8n*BigInt(r)-1n)-1n?a:a-BigInt(`0x${"f".padStart(2*r,"f")}`)-1n}function xt(e,t={}){return Number(kt(e,t))}const Fu={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function zu(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?xt(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?xt(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Fu[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=e.authorizationList.map(n=>({contractAddress:n.address,chainId:Number(n.chainId),nonce:Number(n.nonce),r:n.r,s:n.s,yParity:Number(n.yParity)}))),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}function Uu(e){const t=(e.transactions??[]).map(n=>typeof n=="string"?n:zu(n));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}function St(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}const $p={"0x0":"reverted","0x1":"success"};function Op(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>St(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?xt(e.transactionIndex):null,status:e.status?$p[e.status]:null,type:e.type?Fu[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const Sp={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Fn(e){const t={};return e.authorizationList!==void 0&&(t.authorizationList=e.authorizationList.map(n=>({address:n.contractAddress,r:n.r,s:n.s,chainId:W(n.chainId),nonce:W(n.nonce),...n.yParity!==void 0?{yParity:W(n.yParity)}:{},...n.v!==void 0&&n.yParity===void 0?{v:W(n.v)}:{}}))),e.accessList!==void 0&&(t.accessList=e.accessList),e.blobVersionedHashes!==void 0&&(t.blobVersionedHashes=e.blobVersionedHashes),e.blobs!==void 0&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>Ee(n)):t.blobs=e.blobs),e.data!==void 0&&(t.data=e.data),e.from!==void 0&&(t.from=e.from),e.gas!==void 0&&(t.gas=W(e.gas)),e.gasPrice!==void 0&&(t.gasPrice=W(e.gasPrice)),e.maxFeePerBlobGas!==void 0&&(t.maxFeePerBlobGas=W(e.maxFeePerBlobGas)),e.maxFeePerGas!==void 0&&(t.maxFeePerGas=W(e.maxFeePerGas)),e.maxPriorityFeePerGas!==void 0&&(t.maxPriorityFeePerGas=W(e.maxPriorityFeePerGas)),e.nonce!==void 0&&(t.nonce=W(e.nonce)),e.to!==void 0&&(t.to=e.to),e.type!==void 0&&(t.type=Sp[e.type]),e.value!==void 0&&(t.value=W(e.value)),t}const cr=2n**256n-1n;function Nt(e){return typeof e[0]=="string"?it(e):function(t){let n=0;for(const s of t)n+=s.length;const a=new Uint8Array(n);let r=0;for(const s of t)a.set(s,r),r+=s.length;return a}(e)}function it(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}class Ao extends R{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class ju extends R{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}}class Rp extends R{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}}const _p={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Rp({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new ju({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Ao({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Ao({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Ei(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(_p);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function xn(e,t="hex"){const n=Du(e),a=Ei(new Uint8Array(n.length));return n.encode(a),t==="hex"?Ee(a.bytes):a.bytes}function Du(e){return Array.isArray(e)?function(t){const n=t.reduce((r,s)=>r+s.length,0),a=Co(n);return{length:n<=55?1+n:1+a+n,encode(r){n<=55?r.pushByte(192+n):(r.pushByte(247+a),a===1?r.pushUint8(n):a===2?r.pushUint16(n):a===3?r.pushUint24(n):r.pushUint32(n));for(const{encode:s}of t)s(r)}}}(e.map(t=>Du(t))):function(t){const n=typeof t=="string"?et(t):t,a=Co(n.length);return{length:n.length===1&&n[0]<128?1:n.length<=55?1+n.length:1+a+n.length,encode(s){n.length===1&&n[0]<128?s.pushBytes(n):n.length<=55?(s.pushByte(128+n.length),s.pushBytes(n)):(s.pushByte(183+a),a===1?s.pushUint8(n.length):a===2?s.pushUint16(n.length):a===3?s.pushUint24(n.length):s.pushUint32(n.length),s.pushBytes(n))}}}(e)}function Co(e){if(e<256)return 1;if(e<65536)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new R("Length is too large.")}const Lp={gwei:9,wei:18},Fp={ether:-9,wei:9};function Hu(e,t){let n=e.toString();const a=n.startsWith("-");a&&(n=n.slice(1)),n=n.padStart(t,"0");let[r,s]=[n.slice(0,n.length-t),n.slice(n.length-t)];return s=s.replace(/(0+)$/,""),`${a?"-":""}${r||"0"}${s?`.${s}`:""}`}function Ai(e,t="wei"){return Hu(e,Lp[t])}function Ve(e,t="wei"){return Hu(e,Fp[t])}function Ia(e){const t=Object.entries(e).map(([a,r])=>r===void 0||r===!1?null:[a,r]).filter(Boolean),n=t.reduce((a,[r])=>Math.max(a,r.length),0);return t.map(([a,r])=>`  ${`${a}:`.padEnd(n+1)}  ${r}`).join(`
`)}class zp extends R{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class Up extends R{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class jp extends R{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Ia(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Dp extends R{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class Hp extends R{constructor(t,{account:n,docsPath:a,chain:r,data:s,gas:i,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:p}){var b;const h=Ia({chain:r&&`${r==null?void 0:r.name} (id: ${r==null?void 0:r.id})`,from:n==null?void 0:n.address,to:d,value:p!==void 0&&`${Ai(p)} ${((b=r==null?void 0:r.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:s,gas:i,gasPrice:o!==void 0&&`${Ve(o)} gwei`,maxFeePerGas:c!==void 0&&`${Ve(c)} gwei`,maxPriorityFeePerGas:u!==void 0&&`${Ve(u)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:a,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Gu extends R{constructor({blockHash:t,blockNumber:n,blockTag:a,hash:r,index:s}){let i="Transaction";a&&s!==void 0&&(i=`Transaction at block time "${a}" at index "${s}"`),t&&s!==void 0&&(i=`Transaction at block hash "${t}" at index "${s}"`),n&&s!==void 0&&(i=`Transaction at block number "${n}" at index "${s}"`),r&&(i=`Transaction with hash "${r}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class qu extends R{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Gp extends R{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}function Ci(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),a=typeof e.blobs[0]=="string"?e.blobs.map(s=>et(s)):e.blobs,r=[];for(const s of a)r.push(Uint8Array.from(t.blobToKzgCommitment(s)));return n==="bytes"?r:r.map(s=>Ee(s))}function Ti(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),a=typeof e.blobs[0]=="string"?e.blobs.map(i=>et(i)):e.blobs,r=typeof e.commitments[0]=="string"?e.commitments.map(i=>et(i)):e.commitments,s=[];for(let i=0;i<a.length;i++){const o=a[i],c=r[i];s.push(Uint8Array.from(t.computeBlobKzgProof(o,c)))}return n==="bytes"?s:s.map(i=>Ee(i))}function ur(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Ea(e,...t){if(!((n=e)instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"))throw new Error("Uint8Array expected");var n;if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function $n(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ku(e,t){Ea(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const fn=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function qr(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function dt(e,t){return e<<32-t|e>>>t}const To=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Po(e){for(let n=0;n<e.length;n++)e[n]=(t=e[n])<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;var t}function fr(e){return typeof e=="string"&&(e=function(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}(e)),Ea(e),e}class Pi{clone(){return this._cloneInto()}}function Vu(e){const t=a=>e().update(fr(a)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function qp(e=32){if(fn&&typeof fn.getRandomValues=="function")return fn.getRandomValues(new Uint8Array(e));if(fn&&typeof fn.randomBytes=="function")return fn.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function Kp(e,t,n){return e&t^~e&n}function Vp(e,t,n){return e&t^e&n^t&n}class Wp extends Pi{constructor(t,n,a,r){super(),this.blockLen=t,this.outputLen=n,this.padOffset=a,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=qr(this.buffer)}update(t){$n(this);const{view:n,buffer:a,blockLen:r}=this,s=(t=fr(t)).length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);if(o!==r)a.set(t.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(n,0),this.pos=0);else{const c=qr(t);for(;r<=s-i;i+=r)this.process(c,i)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){$n(this),Ku(t,this),this.finished=!0;const{buffer:n,view:a,blockLen:r,isLE:s}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(a,0),i=0);for(let d=i;d<r;d++)n[d]=0;(function(d,p,h,b){if(typeof d.setBigUint64=="function")return d.setBigUint64(p,h,b);const y=BigInt(32),m=BigInt(4294967295),f=Number(h>>y&m),g=Number(h&m),w=b?4:0,k=b?0:4;d.setUint32(p+w,f,b),d.setUint32(p+k,g,b)})(a,r-8,BigInt(8*this.length),s),this.process(a,0);const o=qr(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)o.setUint32(4*d,l[d],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const a=t.slice(0,n);return this.destroy(),a}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:a,length:r,finished:s,destroyed:i,pos:o}=this;return t.length=r,t.pos=o,t.finished=s,t.destroyed=i,r%n&&t.buffer.set(a),t}}const Zp=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),zt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ut=new Uint32Array(64);class Jp extends Wp{constructor(){super(64,32,8,!1),this.A=0|zt[0],this.B=0|zt[1],this.C=0|zt[2],this.D=0|zt[3],this.E=0|zt[4],this.F=0|zt[5],this.G=0|zt[6],this.H=0|zt[7]}get(){const{A:t,B:n,C:a,D:r,E:s,F:i,G:o,H:c}=this;return[t,n,a,r,s,i,o,c]}set(t,n,a,r,s,i,o,c){this.A=0|t,this.B=0|n,this.C=0|a,this.D=0|r,this.E=0|s,this.F=0|i,this.G=0|o,this.H=0|c}process(t,n){for(let d=0;d<16;d++,n+=4)Ut[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const p=Ut[d-15],h=Ut[d-2],b=dt(p,7)^dt(p,18)^p>>>3,y=dt(h,17)^dt(h,19)^h>>>10;Ut[d]=y+Ut[d-7]+b+Ut[d-16]|0}let{A:a,B:r,C:s,D:i,E:o,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const p=l+(dt(o,6)^dt(o,11)^dt(o,25))+Kp(o,c,u)+Zp[d]+Ut[d]|0,h=(dt(a,2)^dt(a,13)^dt(a,22))+Vp(a,r,s)|0;l=u,u=c,c=o,o=i+p|0,i=s,s=r,r=a,a=p+h|0}a=a+this.A|0,r=r+this.B|0,s=s+this.C|0,i=i+this.D|0,o=o+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(a,r,s,i,o,c,u,l)}roundClean(){Ut.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Wu=Vu(()=>new Jp);function Yp(e){const{commitment:t,version:n=1}=e,a=e.to??(typeof t=="string"?"hex":"bytes"),r=Wu(vt(s=t,{strict:!1})?Ln(s):s);var s;return r.set([n],0),a==="bytes"?r:Ee(r)}function Zu(e){const{commitments:t,version:n}=e,a=e.to??(typeof t[0]=="string"?"hex":"bytes"),r=[];for(const s of t)r.push(Yp({commitment:s,to:a,version:n}));return r}const Xp=4096,Qp=131072,Mo=761855;class eh extends R{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Ju extends R{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class th extends R{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class nh extends R{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:["Expected: 1",`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function Yu(e){const{data:t,kzg:n,to:a}=e,r=e.blobs??function(c){const u=c.to??(typeof c.data=="string"?"hex":"bytes"),l=typeof c.data=="string"?et(c.data):c.data,d=ge(l);if(!d)throw new Ju;if(d>Mo)throw new eh({maxSize:Mo,size:d});const p=[];let h=!0,b=0;for(;h;){const y=Ei(new Uint8Array(Qp));let m=0;for(;m<Xp;){const f=l.slice(b,b+31);if(y.pushByte(0),y.pushBytes(f),f.length<31){y.pushByte(128),h=!1;break}m++,b+=31}p.push(y)}return u==="bytes"?p.map(y=>y.bytes):p.map(y=>Ee(y.bytes))}({data:t,to:a}),s=e.commitments??Ci({blobs:r,kzg:n,to:a}),i=e.proofs??Ti({blobs:r,commitments:s,kzg:n,to:a}),o=[];for(let c=0;c<r.length;c++)o.push({blob:r[c],commitment:s[c],proof:i[c]});return o}let ze=class extends R{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}};class Rs extends R{constructor({blockNumber:t,chain:n,contract:a}){super(`Chain "${n.name}" does not support contract "${a.name}".`,{metaMessages:["This could be due to any of the following:",...t&&a.blockCreated&&a.blockCreated>t?[`- The contract "${a.name}" was not deployed until block ${a.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${a.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class ah extends R{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id} – ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id} – ${t.name}`],name:"ChainMismatchError"})}}class rh extends R{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class No extends R{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class ar extends R{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}class An extends R{constructor({cause:t,message:n}={}){var r;const a=(r=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:r.replace("execution reverted","");super(`Execution reverted ${a?`with reason: ${a}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(An,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(An,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class an extends R{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ve(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(an,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class _s extends R{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ve(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(_s,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Ls extends R{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Ls,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Fs extends R{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Fs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class zs extends R{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(zs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Us extends R{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Us,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class js extends R{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(js,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Ds extends R{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Ds,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Hs extends R{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Hs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class aa extends R{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:a}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Ve(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${a?` = ${Ve(a)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(aa,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Aa extends R{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}let Ca=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&t!==void 0&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const Ha=BigInt(2**32-1),Bo=BigInt(32);function sh(e,t=!1){return t?{h:Number(e&Ha),l:Number(e>>Bo&Ha)}:{h:0|Number(e>>Bo&Ha),l:0|Number(e&Ha)}}function ih(e,t=!1){let n=new Uint32Array(e.length),a=new Uint32Array(e.length);for(let r=0;r<e.length;r++){const{h:s,l:i}=sh(e[r],t);[n[r],a[r]]=[s,i]}return[n,a]}const Xu=[],Qu=[],ed=[],oh=BigInt(0),qn=BigInt(1),ch=BigInt(2),uh=BigInt(7),dh=BigInt(256),lh=BigInt(113);for(let e=0,t=qn,n=1,a=0;e<24;e++){[n,a]=[a,(2*n+3*a)%5],Xu.push(2*(5*a+n)),Qu.push((e+1)*(e+2)/2%64);let r=oh;for(let s=0;s<7;s++)t=(t<<qn^(t>>uh)*lh)%dh,t&ch&&(r^=qn<<(qn<<BigInt(s))-qn);ed.push(r)}const[ph,hh]=ih(ed,!0),$o=(e,t,n)=>n>32?((a,r,s)=>r<<s-32|a>>>64-s)(e,t,n):((a,r,s)=>a<<s|r>>>32-s)(e,t,n),Oo=(e,t,n)=>n>32?((a,r,s)=>a<<s-32|r>>>64-s)(e,t,n):((a,r,s)=>r<<s|a>>>32-s)(e,t,n);class Mi extends Pi{constructor(t,n,a,r=!1,s=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=a,this.enableXOF=r,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ur(a),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var i;this.state=new Uint8Array(200),this.state32=(i=this.state,new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4)))}keccak(){To||Po(this.state32),function(t,n=24){const a=new Uint32Array(10);for(let r=24-n;r<24;r++){for(let o=0;o<10;o++)a[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const c=(o+8)%10,u=(o+2)%10,l=a[u],d=a[u+1],p=$o(l,d,1)^a[c],h=Oo(l,d,1)^a[c+1];for(let b=0;b<50;b+=10)t[o+b]^=p,t[o+b+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const c=Qu[o],u=$o(s,i,c),l=Oo(s,i,c),d=Xu[o];s=t[d],i=t[d+1],t[d]=u,t[d+1]=l}for(let o=0;o<50;o+=10){for(let c=0;c<10;c++)a[c]=t[o+c];for(let c=0;c<10;c++)t[o+c]^=~a[(c+2)%10]&a[(c+4)%10]}t[0]^=ph[r],t[1]^=hh[r]}a.fill(0)}(this.state32,this.rounds),To||Po(this.state32),this.posOut=0,this.pos=0}update(t){$n(this);const{blockLen:n,state:a}=this,r=(t=fr(t)).length;for(let s=0;s<r;){const i=Math.min(n-this.pos,r-s);for(let o=0;o<i;o++)a[this.pos++]^=t[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:a,blockLen:r}=this;t[a]^=n,128&n&&a===r-1&&this.keccak(),t[r-1]^=128,this.keccak()}writeInto(t){$n(this,!1),Ea(t),this.finish();const n=this.state,{blockLen:a}=this;for(let r=0,s=t.length;r<s;){this.posOut>=a&&this.keccak();const i=Math.min(a-this.posOut,s-r);t.set(n.subarray(this.posOut,this.posOut+i),r),this.posOut+=i,r+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return ur(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Ku(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:a,outputLen:r,rounds:s,enableXOF:i}=this;return t||(t=new Mi(n,a,r,i,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=a,t.outputLen=r,t.enableXOF=i,t.destroyed=this.destroyed,t}}const td=((e,t,n)=>Vu(()=>new Mi(t,e,n)))(1,136,32);function ye(e,t){const n=t||"hex",a=td(vt(e,{strict:!1})?Ln(e):e);return n==="bytes"?a:te(a)}const Kr=new Ca(8192);function Ta(e,t){if(Kr.has(`${e}.${t}`))return Kr.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),a=ye(Qt(n),"bytes"),r=n.split("");for(let i=0;i<40;i+=2)a[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(15&a[i>>1])>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const s=`0x${r.join("")}`;return Kr.set(`${e}.${t}`,s),s}function nd(e,t){if(!Se(e,{strict:!1}))throw new ze({address:e});return Ta(e,t)}const yh=/^0x[a-fA-F0-9]{40}$/,Vr=new Ca(8192);function Se(e,t){const{strict:n=!0}=t??{},a=`${e}.${n}`;if(Vr.has(a))return Vr.get(a);const r=!(!yh.test(e)||e.toLowerCase()!==e&&n&&Ta(e)!==e);return Vr.set(a,r),r}function ra(e,t,n,{strict:a}={}){return vt(e,{strict:!1})?id(e,t,n,{strict:a}):sd(e,t,n,{strict:a})}function ad(e,t){if(typeof t=="number"&&t>0&&t>ge(e)-1)throw new _u({offset:t,position:"start",size:ge(e)})}function rd(e,t,n){if(typeof t=="number"&&typeof n=="number"&&ge(e)!==n-t)throw new _u({offset:n,position:"end",size:ge(e)})}function sd(e,t,n,{strict:a}={}){ad(e,t);const r=e.slice(t,n);return a&&rd(r,t,n),r}function id(e,t,n,{strict:a}={}){ad(e,t);const r=`0x${e.replace("0x","").slice(2*(t??0),2*(n??e.length))}`;return a&&rd(r,t,n),r}function Wr(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:a,to:r}=e;if(t<=0)throw new ar({chainId:t});if(r&&!Se(r))throw new ze({address:r});if(a&&a>cr)throw new an({maxFeePerGas:a});if(n&&a&&n>a)throw new aa({maxFeePerGas:a,maxPriorityFeePerGas:n})}function od(e){if(e.type)return e.type;if(e.authorizationList!==void 0)return"eip7702";if(e.blobs!==void 0||e.blobVersionedHashes!==void 0||e.maxFeePerBlobGas!==void 0||e.sidecars!==void 0)return"eip4844";if(e.maxFeePerGas!==void 0||e.maxPriorityFeePerGas!==void 0)return"eip1559";if(e.gasPrice!==void 0)return e.accessList!==void 0?"eip2930":"legacy";throw new jp({transaction:e})}function Ga(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:a,storageKeys:r}=e[n];for(let s=0;s<r.length;s++)if(r[s].length-2!=64)throw new Dp({storageKey:r[s]});if(!Se(a,{strict:!1}))throw new ze({address:a});t.push([a,r])}return t}function mh(e,t){const n=od(e);return n==="eip1559"?function(a,r){const{chainId:s,gas:i,nonce:o,to:c,value:u,maxFeePerGas:l,maxPriorityFeePerGas:d,accessList:p,data:h}=a;Wr(a);const b=Ga(p),y=[te(s),o?te(o):"0x",d?te(d):"0x",l?te(l):"0x",i?te(i):"0x",c??"0x",u?te(u):"0x",h??"0x",b,...Kn(a,r)];return it(["0x02",xn(y)])}(e,t):n==="eip2930"?function(a,r){const{chainId:s,gas:i,data:o,nonce:c,to:u,value:l,accessList:d,gasPrice:p}=a;(function(y){const{chainId:m,maxPriorityFeePerGas:f,gasPrice:g,maxFeePerGas:w,to:k}=y;if(m<=0)throw new ar({chainId:m});if(k&&!Se(k))throw new ze({address:k});if(f||w)throw new R("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(g&&g>cr)throw new an({maxFeePerGas:g})})(a);const h=Ga(d),b=[te(s),c?te(c):"0x",p?te(p):"0x",i?te(i):"0x",u??"0x",l?te(l):"0x",o??"0x",h,...Kn(a,r)];return it(["0x01",xn(b)])}(e,t):n==="eip4844"?function(a,r){const{chainId:s,gas:i,nonce:o,to:c,value:u,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:p,accessList:h,data:b}=a;(function(A){const{blobVersionedHashes:C}=A;if(C){if(C.length===0)throw new Ju;for(const P of C){const x=ge(P),v=xt(ra(P,0,1));if(x!==32)throw new th({hash:P,size:x});if(v!==1)throw new nh({hash:P,version:v})}}Wr(A)})(a);let y=a.blobVersionedHashes,m=a.sidecars;if(a.blobs&&(y===void 0||m===void 0)){const A=typeof a.blobs[0]=="string"?a.blobs:a.blobs.map(x=>Ee(x)),C=a.kzg,P=Ci({blobs:A,kzg:C});y===void 0&&(y=Zu({commitments:P})),m===void 0&&(m=Yu({blobs:A,commitments:P,proofs:Ti({blobs:A,commitments:P,kzg:C})}))}const f=Ga(h),g=[te(s),o?te(o):"0x",p?te(p):"0x",d?te(d):"0x",i?te(i):"0x",c??"0x",u?te(u):"0x",b??"0x",f,l?te(l):"0x",y??[],...Kn(a,r)],w=[],k=[],I=[];if(m)for(let A=0;A<m.length;A++){const{blob:C,commitment:P,proof:x}=m[A];w.push(C),k.push(P),I.push(x)}return it(["0x03",xn(m?[g,w,k,I]:g)])}(e,t):n==="eip7702"?function(a,r){const{authorizationList:s,chainId:i,gas:o,nonce:c,to:u,value:l,maxFeePerGas:d,maxPriorityFeePerGas:p,accessList:h,data:b}=a;(function(f){const{authorizationList:g}=f;if(g)for(const w of g){const{contractAddress:k,chainId:I}=w;if(!Se(k))throw new ze({address:k});if(I<0)throw new ar({chainId:I})}Wr(f)})(a);const y=Ga(h),m=function(f){if(!f||f.length===0)return[];const g=[];for(const w of f){const{contractAddress:k,chainId:I,nonce:A,...C}=w;g.push([I?te(I):"0x",k,A?te(A):"0x",...Kn({},C)])}return g}(s);return it(["0x04",xn([te(i),c?te(c):"0x",p?te(p):"0x",d?te(d):"0x",o?te(o):"0x",u??"0x",l?te(l):"0x",b??"0x",y,m,...Kn(a,r)])])}(e,t):function(a,r){const{chainId:s=0,gas:i,data:o,nonce:c,to:u,value:l,gasPrice:d}=a;(function(h){const{chainId:b,maxPriorityFeePerGas:y,gasPrice:m,maxFeePerGas:f,to:g}=h;if(g&&!Se(g))throw new ze({address:g});if(b!==void 0&&b<=0)throw new ar({chainId:b});if(y||f)throw new R("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(m&&m>cr)throw new an({maxFeePerGas:m})})(a);let p=[c?te(c):"0x",d?te(d):"0x",i?te(i):"0x",u??"0x",l?te(l):"0x",o??"0x"];if(r){const h=(()=>{if(r.v>=35n)return(r.v-35n)/2n>0?r.v:27n+(r.v===35n?0n:1n);if(s>0)return BigInt(2*s)+BigInt(35n+r.v-27n);const m=27n+(r.v===27n?0n:1n);if(r.v!==m)throw new Up({v:r.v});return m})(),b=Qe(r.r),y=Qe(r.s);p=[...p,te(h),b==="0x00"?"0x":b,y==="0x00"?"0x":y]}else s>0&&(p=[...p,te(s),"0x","0x"]);return xn(p)}(e,t)}function Kn(e,t){const n=t??e,{v:a,yParity:r}=n;if(n.r===void 0)return[];if(n.s===void 0)return[];if(a===void 0&&r===void 0)return[];const s=Qe(n.r),i=Qe(n.s);return[typeof r=="number"?r?te(1):"0x":a===0n?"0x":a===1n?te(1):a===27n?"0x":te(1),s==="0x00"?"0x":s,i==="0x00"?"0x":i]}async function So(e,{address:t,blockNumber:n,blockTag:a="latest"}){const r=n!==void 0?W(n):void 0,s=await e.request({method:"eth_getCode",params:[t,r||a]},{dedupe:!!r});if(s!=="0x")return s}const Ro=$u({id:3737,name:"Crossbell",nativeCurrency:{decimals:18,name:"CSB",symbol:"CSB"},rpcUrls:{default:{http:["https://rpc.crossbell.io"]}},blockExplorers:{default:{name:"CrossScan",url:"https://scan.crossbell.io",apiUrl:"https://scan.crossbell.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:38246031}}});function cd({chain:e,currentChainId:t}){if(!e)throw new rh;if(t!==e.id)throw new ah({chain:e,currentChainId:t})}function Cn({blockNumber:e,chain:t,contract:n}){var r;const a=(r=t==null?void 0:t.contracts)==null?void 0:r[n];if(!a)throw new Rs({chain:t,contract:{name:n}});if(e&&a.blockCreated&&a.blockCreated>e)throw new Rs({blockNumber:e,chain:t,contract:{name:n,blockCreated:a.blockCreated}});return a.address}function Ue(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}class sa extends R{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class Zr extends R{constructor({docsPath:t,metaMessages:n,type:a}){super(`Account type "${a}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}const ud={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},fh={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},bh={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function Rt(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Th(e.type);return`${e.name}(${br(e.inputs,{includeName:t})})`}function br(e,{includeName:t=!1}={}){return e?e.map(n=>function(a,{includeName:r}){return a.type.startsWith("tuple")?`(${br(a.components,{includeName:r})})${a.type.slice(5)}`:a.type+(r&&a.name?` ${a.name}`:"")}(n,{includeName:t})).join(t?", ":","):""}class gh extends R{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class _o extends R{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class dd extends R{constructor({data:t,params:n,size:a}){super([`Data size of ${a} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${br(n,{includeName:!0})})`,`Data:   ${t} (${a} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=a}}class Pa extends R{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class wh extends R{constructor({expectedLength:t,givenLength:n,type:a}){super([`ABI encoding array length mismatch for type ${a}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class vh extends R{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${ge(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class ld extends R{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class pd extends R{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class kh extends R{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class hd extends R{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Lo extends R{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class dr extends R{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class xh extends R{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class Ih extends R{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Rt(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Rt(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let yd=class extends R{constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`,{name:"BytesSizeMismatchError"})}};class ia extends R{constructor({abiItem:t,data:n,params:a,size:r}){super([`Data size of ${r} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${br(a,{includeName:!0})})`,`Data:   ${n} (${r} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=a,this.size=r}}class gr extends R{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Rt(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Eh extends R{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Ah extends R{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let Ch=class extends R{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class Th extends R{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Ph extends R{constructor(t){super(`Type "${t}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}function Mh(e){return ye(Ln(e))}let Ze=class Gs extends Error{constructor(t,n={}){var s;const a=n.cause instanceof Gs?n.cause.details:(s=n.cause)!=null&&s.message?n.cause.message:n.details,r=n.cause instanceof Gs&&n.cause.docsPath||n.docsPath;super([t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...r?[`Docs: https://abitype.dev${r}`]:[],...a?[`Details: ${a}`]:[],"Version: abitype@1.0.8"].join(`
`)),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=a,this.docsPath=r,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Bt(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const md=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,fd=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,bd=/^\(.+?\).*?$/,Fo=/^tuple(?<array>(\[(\d*)\])*)$/;function qs(e){let t=e.type;if(Fo.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let r=0;r<n;r++)t+=qs(e.components[r]),r<n-1&&(t+=", ");const a=Bt(Fo,e.type);return t+=`)${(a==null?void 0:a.array)??""}`,qs({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Vn(e){let t="";const n=e.length;for(let a=0;a<n;a++)t+=qs(e[a]),a!==n-1&&(t+=", ");return t}function lr(e){var t;return e.type==="function"?`function ${e.name}(${Vn(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${Vn(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Vn(e.inputs)})`:e.type==="error"?`error ${e.name}(${Vn(e.inputs)})`:e.type==="constructor"?`constructor(${Vn(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback() external"+(e.stateMutability==="payable"?" payable":""):"receive() external payable"}const zo=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/,Uo=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/,jo=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/,gd=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Ni(e){return gd.test(e)}function Nh(e){return Bt(gd,e)}const Do=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/,Ho=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/,Bh=/^receive\(\) external payable$/,$h=new Set(["indexed"]),Ks=new Set(["calldata","memory","storage"]);class Oh extends Ze{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Sh extends Ze{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Rh extends Ze{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class _h extends Ze{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Lh extends Ze{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Fh extends Ze{constructor({param:t,type:n,modifier:a}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${a}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class zh extends Ze{constructor({param:t,type:n,modifier:a}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${a}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${a}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Uh extends Ze{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class In extends Ze{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class jh extends Ze{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Dh extends Ze{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Hh extends Ze{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Gh extends Ze{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}const Jr=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Vs(e,t={}){if(function(n){return jo.test(n)}(e))return function(n,a={}){const r=function(u){return Bt(jo,u)}(n);if(!r)throw new In({signature:n,type:"function"});const s=st(r.parameters),i=[],o=s.length;for(let u=0;u<o;u++)i.push(Zt(s[u],{modifiers:Ks,structs:a,type:"function"}));const c=[];if(r.returns){const u=st(r.returns),l=u.length;for(let d=0;d<l;d++)c.push(Zt(u[d],{modifiers:Ks,structs:a,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:i,outputs:c}}(e,t);if(function(n){return Uo.test(n)}(e))return function(n,a={}){const r=function(c){return Bt(Uo,c)}(n);if(!r)throw new In({signature:n,type:"event"});const s=st(r.parameters),i=[],o=s.length;for(let c=0;c<o;c++)i.push(Zt(s[c],{modifiers:$h,structs:a,type:"event"}));return{name:r.name,type:"event",inputs:i}}(e,t);if(function(n){return zo.test(n)}(e))return function(n,a={}){const r=function(c){return Bt(zo,c)}(n);if(!r)throw new In({signature:n,type:"error"});const s=st(r.parameters),i=[],o=s.length;for(let c=0;c<o;c++)i.push(Zt(s[c],{structs:a,type:"error"}));return{name:r.name,type:"error",inputs:i}}(e,t);if(function(n){return Do.test(n)}(e))return function(n,a={}){const r=function(c){return Bt(Do,c)}(n);if(!r)throw new In({signature:n,type:"constructor"});const s=st(r.parameters),i=[],o=s.length;for(let c=0;c<o;c++)i.push(Zt(s[c],{structs:a,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:i}}(e,t);if(function(n){return Ho.test(n)}(e))return function(n){const a=function(r){return Bt(Ho,r)}(n);if(!a)throw new In({signature:n,type:"fallback"});return{type:"fallback",stateMutability:a.stateMutability??"nonpayable"}}(e);if(function(n){return Bh.test(n)}(e))return{type:"receive",stateMutability:"payable"};throw new jh({signature:e})}const qh=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Kh=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Vh=/^u?int$/;function Zt(e,t){var d,p;const n=function(h,b,y){let m="";if(y)for(const f of Object.entries(y)){if(!f)continue;let g="";for(const w of f[1])g+=`[${w.type}${w.name?`:${w.name}`:""}]`;m+=`(${f[0]}{${g}})`}return b?`${b}:${h}${m}`:h}(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(Jr.has(n))return Jr.get(n);const a=bd.test(e),r=Bt(a?Kh:qh,e);if(!r)throw new _h({param:e});if(r.name&&function(h){return h==="address"||h==="bool"||h==="function"||h==="string"||h==="tuple"||md.test(h)||fd.test(h)||Wh.test(h)}(r.name))throw new Lh({param:e,name:r.name});const s=r.name?{name:r.name}:{},i=r.modifier==="indexed"?{indexed:!0}:{},o=(t==null?void 0:t.structs)??{};let c,u={};if(a){c="tuple";const h=st(r.type),b=[],y=h.length;for(let m=0;m<y;m++)b.push(Zt(h[m],{structs:o}));u={components:b}}else if(r.type in o)c="tuple",u={components:o[r.type]};else if(Vh.test(r.type))c=`${r.type}256`;else if(c=r.type,(t==null?void 0:t.type)!=="struct"&&!wd(c))throw new Rh({type:c});if(r.modifier){if(!((p=(d=t==null?void 0:t.modifiers)==null?void 0:d.has)!=null&&p.call(d,r.modifier)))throw new Fh({param:e,type:t==null?void 0:t.type,modifier:r.modifier});if(Ks.has(r.modifier)&&!function(h,b){return b||h==="bytes"||h==="string"||h==="tuple"}(c,!!r.array))throw new zh({param:e,type:t==null?void 0:t.type,modifier:r.modifier})}const l={type:`${c}${r.array??""}`,...s,...i,...u};return Jr.set(n,l),l}function st(e,t=[],n="",a=0){const r=e.trim().length;for(let s=0;s<r;s++){const i=e[s],o=e.slice(s+1);switch(i){case",":return a===0?st(o,[...t,n.trim()]):st(o,t,`${n}${i}`,a);case"(":return st(o,t,`${n}${i}`,a+1);case")":return st(o,t,`${n}${i}`,a-1);default:return st(o,t,`${n}${i}`,a)}}if(n==="")return t;if(a!==0)throw new Gh({current:n,depth:a});return t.push(n.trim()),t}function wd(e){return e==="address"||e==="bool"||e==="function"||e==="string"||md.test(e)||fd.test(e)}const Wh=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function vd(e){const t={},n=e.length;for(let i=0;i<n;i++){const o=e[i];if(!Ni(o))continue;const c=Nh(o);if(!c)throw new In({signature:o,type:"struct"});const u=c.properties.split(";"),l=[],d=u.length;for(let p=0;p<d;p++){const h=u[p].trim();if(!h)continue;const b=Zt(h,{type:"struct"});l.push(b)}if(!l.length)throw new Dh({signature:o});t[c.name]=l}const a={},r=Object.entries(t),s=r.length;for(let i=0;i<s;i++){const[o,c]=r[i];a[o]=kd(c,t)}return a}const Zh=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function kd(e,t,n=new Set){const a=[],r=e.length;for(let s=0;s<r;s++){const i=e[s];if(bd.test(i.type))a.push(i);else{const o=Bt(Zh,i.type);if(!(o!=null&&o.type))throw new Uh({abiParameter:i});const{array:c,type:u}=o;if(u in t){if(n.has(u))throw new Hh({type:u});a.push({...i,type:`tuple${c??""}`,components:kd(t[u]??[],t,new Set([...n,u]))})}else{if(!wd(u))throw new Sh({type:u});a.push(i)}}}return a}function Go(e){const t=vd(e),n=[],a=e.length;for(let r=0;r<a;r++){const s=e[r];Ni(s)||n.push(Vs(s,t))}return n}function Jh(e){let t;if(typeof e=="string")t=Vs(e);else{const n=vd(e),a=e.length;for(let r=0;r<a;r++){const s=e[r];if(!Ni(s)){t=Vs(s,n);break}}}if(!t)throw new Oh({signature:e});return t}const Yh=e=>function(t){let n=!0,a="",r=0,s="",i=!1;for(let o=0;o<t.length;o++){const c=t[o];if(["(",")",","].includes(c)&&(n=!0),c==="("&&r++,c===")"&&r--,n){if(r!==0)c!==" "?(s+=c,a+=c):t[o-1]!==","&&a!==","&&a!==",("&&(a="",n=!1);else if(c===" "&&["event","function",""].includes(s))s="";else if(s+=c,c===")"){i=!0;break}}}if(!i)throw new R("Unable to normalize signature.");return s}(typeof e=="string"?e:lr(e));function xd(e){return Mh(Yh(e))}const Bi=e=>ra(xd(e),0,4);function Xh(e,t={}){return t.size!==void 0&&nt(e,{size:t.size}),kt(Ee(e,t),t)}function Qh(e,t={}){let n=e;if(t.size!==void 0&&(nt(n,{size:t.size}),n=Qe(n)),n.length>1||n[0]>1)throw new Cp(n);return!!n[0]}function Tt(e,t={}){return t.size!==void 0&&nt(e,{size:t.size}),xt(Ee(e,t),t)}const ey=/^(.*)\[([0-9]*)\]$/,Id=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,$i=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function ot(e,t){if(e.length!==t.length)throw new ld({expectedLength:e.length,givenLength:t.length});const n=function({params:r,values:s}){const i=[];for(let o=0;o<r.length;o++)i.push(Ws({param:r[o],value:s[o]}));return i}({params:e,values:t}),a=Zs(n);return a.length===0?"0x":a}function Ws({param:e,value:t}){const n=Oi(e.type);if(n){const[a,r]=n;return function(s,{length:i,param:o}){const c=i===null;if(!Array.isArray(s))throw new Ch(s);if(!c&&s.length!==i)throw new wh({expectedLength:i,givenLength:s.length,type:`${o.type}[${i}]`});let u=!1;const l=[];for(let d=0;d<s.length;d++){const p=Ws({param:o,value:s[d]});p.dynamic&&(u=!0),l.push(p)}if(c||u){const d=Zs(l);if(c){const p=W(l.length,{size:32});return{dynamic:!0,encoded:l.length>0?Nt([p,d]):p}}if(u)return{dynamic:!0,encoded:d}}return{dynamic:!1,encoded:Nt(l.map(({encoded:d})=>d))}}(t,{length:a,param:{...e,type:r}})}if(e.type==="tuple")return function(a,{param:r}){let s=!1;const i=[];for(let o=0;o<r.components.length;o++){const c=r.components[o],u=Ws({param:c,value:a[Array.isArray(a)?o:c.name]});i.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Zs(i):Nt(i.map(({encoded:o})=>o))}}(t,{param:e});if(e.type==="address")return function(a){if(!Se(a))throw new ze({address:a});return{dynamic:!1,encoded:Ht(a.toLowerCase())}}(t);if(e.type==="bool")return function(a){if(typeof a!="boolean")throw new R(`Invalid boolean value: "${a}" (type: ${typeof a}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ht(Ii(a))}}(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const a=e.type.startsWith("int"),[,,r="256"]=$i.exec(e.type)??[];return function(s,{signed:i,size:o=256}){if(typeof o=="number"){const c=2n**(BigInt(o)-(i?1n:0n))-1n,u=i?-c-1n:0n;if(s>c||s<u)throw new Ru({max:c.toString(),min:u.toString(),signed:i,size:o/8,value:s.toString()})}return{dynamic:!1,encoded:W(s,{size:32,signed:i})}}(t,{signed:a,size:Number(r)})}if(e.type.startsWith("bytes"))return function(a,{param:r}){const[,s]=r.type.split("bytes"),i=ge(a);if(!s){let o=a;return i%32!=0&&(o=Ht(o,{dir:"right",size:32*Math.ceil((a.length-2)/2/32)})),{dynamic:!0,encoded:Nt([Ht(W(i,{size:32})),o])}}if(i!==Number.parseInt(s))throw new vh({expectedSize:Number.parseInt(s),value:a});return{dynamic:!1,encoded:Ht(a,{dir:"right"})}}(t,{param:e});if(e.type==="string")return function(a){const r=he(a),s=Math.ceil(ge(r)/32),i=[];for(let o=0;o<s;o++)i.push(Ht(ra(r,32*o,32*(o+1)),{dir:"right"}));return{dynamic:!0,encoded:Nt([Ht(W(ge(r),{size:32})),...i])}}(t);throw new Eh(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Zs(e){let t=0;for(let s=0;s<e.length;s++){const{dynamic:i,encoded:o}=e[s];t+=i?32:ge(o)}const n=[],a=[];let r=0;for(let s=0;s<e.length;s++){const{dynamic:i,encoded:o}=e[s];i?(n.push(W(t+r,{size:32})),a.push(o),r+=ge(o)):n.push(o)}return Nt([...n,...a])}function Oi(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function wr(e,t){const n=typeof t=="string"?et(t):t,a=Ei(n);if(ge(n)===0&&e.length>0)throw new Pa;if(ge(t)&&ge(t)<32)throw new dd({data:typeof t=="string"?t:Ee(t),params:e,size:ge(t)});let r=0;const s=[];for(let i=0;i<e.length;++i){const o=e[i];a.setPosition(r);const[c,u]=En(a,o,{staticPosition:0});r+=u,s.push(c)}return s}function En(e,t,{staticPosition:n}){const a=Oi(t.type);if(a){const[r,s]=a;return function(i,o,{length:c,staticPosition:u}){if(!c){const p=u+Tt(i.readBytes(Yr)),h=p+qo;i.setPosition(p);const b=Tt(i.readBytes(qo)),y=Qn(o);let m=0;const f=[];for(let g=0;g<b;++g){i.setPosition(h+(y?32*g:m));const[w,k]=En(i,o,{staticPosition:h});m+=k,f.push(w)}return i.setPosition(u+32),[f,32]}if(Qn(o)){const p=u+Tt(i.readBytes(Yr)),h=[];for(let b=0;b<c;++b){i.setPosition(p+32*b);const[y]=En(i,o,{staticPosition:p});h.push(y)}return i.setPosition(u+32),[h,32]}let l=0;const d=[];for(let p=0;p<c;++p){const[h,b]=En(i,o,{staticPosition:u+l});l+=b,d.push(h)}return[d,l]}(e,{...t,type:s},{length:r,staticPosition:n})}if(t.type==="tuple")return function(r,s,{staticPosition:i}){const o=s.components.length===0||s.components.some(({name:l})=>!l),c=o?[]:{};let u=0;if(Qn(s)){const l=i+Tt(r.readBytes(Yr));for(let d=0;d<s.components.length;++d){const p=s.components[d];r.setPosition(l+u);const[h,b]=En(r,p,{staticPosition:l});u+=b,c[o?d:p==null?void 0:p.name]=h}return r.setPosition(i+32),[c,32]}for(let l=0;l<s.components.length;++l){const d=s.components[l],[p,h]=En(r,d,{staticPosition:i});c[o?l:d==null?void 0:d.name]=p,u+=h}return[c,u]}(e,t,{staticPosition:n});if(t.type==="address")return function(r){const s=r.readBytes(32);return[Ta(Ee(sd(s,-20))),32]}(e);if(t.type==="bool")return function(r){return[Qh(r.readBytes(32),{size:32}),32]}(e);if(t.type.startsWith("bytes"))return function(r,s,{staticPosition:i}){const[o,c]=s.type.split("bytes");if(!c){const l=Tt(r.readBytes(32));r.setPosition(i+l);const d=Tt(r.readBytes(32));if(d===0)return r.setPosition(i+32),["0x",32];const p=r.readBytes(d);return r.setPosition(i+32),[Ee(p),32]}return[Ee(r.readBytes(Number.parseInt(c),32)),32]}(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return function(r,s){const i=s.type.startsWith("int"),o=Number.parseInt(s.type.split("int")[1]||"256"),c=r.readBytes(32);return[o>48?Xh(c,{signed:i}):Tt(c,{signed:i}),32]}(e,t);if(t.type==="string")return function(r,{staticPosition:s}){const i=Tt(r.readBytes(32)),o=s+i;r.setPosition(o);const c=Tt(r.readBytes(32));if(c===0)return r.setPosition(s+32),["",32];const u=r.readBytes(c,32),l=function(d,p={}){let h=d;return p.size!==void 0&&(nt(h,{size:p.size}),h=Qe(h,{dir:"right"})),new TextDecoder().decode(h)}(Qe(u));return r.setPosition(s+32),[l,32]}(e,{staticPosition:n});throw new Ah(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const qo=32,Yr=32;function Qn(e){var a;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(a=e.components)==null?void 0:a.some(Qn);const n=Oi(e.type);return!(!n||!Qn({...e,type:n[1]}))}function ty(e){const{abi:t,data:n}=e,a=ra(n,0,4);if(a==="0x")throw new Pa;const r=[...t||[],fh,bh].find(s=>s.type==="error"&&a===Bi(Rt(s)));if(!r)throw new pd(a,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:r,args:"inputs"in r&&r.inputs&&r.inputs.length>0?wr(r.inputs,ra(n,4)):void 0,errorName:r.name}}const Te=(e,t,n)=>JSON.stringify(e,(a,r)=>typeof r=="bigint"?r.toString():r,n);function Ed({abiItem:e,args:t,includeFunctionName:n=!0,includeName:a=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((r,s)=>`${a&&r.name?`${r.name}: `:""}${typeof t[s]=="object"?Te(t[s]):t[s]}`).join(", ")})`}const vr=xd;function Ma(e){const{abi:t,args:n=[],name:a}=e,r=vt(a,{strict:!1}),s=t.filter(o=>r?o.type==="function"?Bi(o)===a:o.type==="event"&&vr(o)===a:"name"in o&&o.name===a);if(s.length===0)return;if(s.length===1)return s[0];let i;for(const o of s){if(!("inputs"in o))continue;if(!n||n.length===0){if(!o.inputs||o.inputs.length===0)return o;continue}if(!o.inputs||o.inputs.length===0||o.inputs.length!==n.length)continue;if(n.every((u,l)=>{const d="inputs"in o&&o.inputs[l];return!!d&&Js(u,d)})){if(i&&"inputs"in i&&i.inputs){const u=Ad(o.inputs,i.inputs,n);if(u)throw new Ih({abiItem:o,type:u[0]},{abiItem:i,type:u[1]})}i=o}}return i||s[0]}function Js(e,t){const n=typeof e,a=t.type;switch(a){case"address":return Se(e,{strict:!1});case"bool":return n==="boolean";case"function":case"string":return n==="string";default:return a==="tuple"&&"components"in t?Object.values(t.components).every((r,s)=>Js(Object.values(e)[s],r)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(a)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(a)?n==="string"||e instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(a)&&Array.isArray(e)&&e.every(r=>Js(r,{...t,type:a.replace(/(\[[0-9]{0,}\])$/,"")}))}}function Ad(e,t,n){for(const a in e){const r=e[a],s=t[a];if(r.type==="tuple"&&s.type==="tuple"&&"components"in r&&"components"in s)return Ad(r.components,s.components,n[a]);const i=[r.type,s.type];if(!(!i.includes("address")||!i.includes("bytes20"))||(i.includes("address")&&i.includes("string")||!(!i.includes("address")||!i.includes("bytes")))&&Se(n[a],{strict:!1}))return i}}class ny extends R{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class ay extends R{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Ko(e){return e.reduce((t,{slot:n,value:a})=>`${t}        ${n}: ${a}
`,"")}const p0=e=>e;class Cd extends R{constructor(t,{account:n,docsPath:a,chain:r,data:s,gas:i,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:p,stateOverride:h}){var m;const b=n?Ue(n):void 0;let y=Ia({from:b==null?void 0:b.address,to:d,value:p!==void 0&&`${Ai(p)} ${((m=r==null?void 0:r.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:s,gas:i,gasPrice:o!==void 0&&`${Ve(o)} gwei`,maxFeePerGas:c!==void 0&&`${Ve(c)} gwei`,maxPriorityFeePerGas:u!==void 0&&`${Ve(u)} gwei`,nonce:l});h&&(y+=`
${function(f){return f.reduce((g,{address:w,...k})=>{let I=`${g}    ${w}:
`;return k.nonce&&(I+=`      nonce: ${k.nonce}
`),k.balance&&(I+=`      balance: ${k.balance}
`),k.code&&(I+=`      code: ${k.code}
`),k.state&&(I+=`      state:
`,I+=Ko(k.state)),k.stateDiff&&(I+=`      stateDiff:
`,I+=Ko(k.stateDiff)),I},`  State Override:
`).slice(0,-1)}(h)}`),super(t.shortMessage,{cause:t,docsPath:a,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",y].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class ry extends R{constructor(t,{abi:n,args:a,contractAddress:r,docsPath:s,functionName:i,sender:o}){const c=Ma({abi:n,args:a,name:i}),u=c?Ed({abiItem:c,args:a,includeFunctionName:!1,includeName:!1}):void 0,l=Ia({address:r&&r,function:c?Rt(c,{includeName:!0}):void 0,args:u&&u!=="()"&&`${[...Array((i==null?void 0:i.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:o});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],l&&"Contract Call:",l].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=a,this.cause=t,this.contractAddress=r,this.functionName=i,this.sender=o}}class Ys extends R{constructor({abi:t,data:n,functionName:a,message:r}){let s,i,o,c,u;if(n&&n!=="0x")try{i=ty({abi:t,data:n});const{abiItem:l,errorName:d,args:p}=i;if(d==="Error")c=p[0];else if(d==="Panic"){const[h]=p;c=ud[h]}else{const h=l?Rt(l,{includeName:!0}):void 0,b=l&&p?Ed({abiItem:l,args:p,includeFunctionName:!1,includeName:!1}):void 0;o=[h?`Error: ${h}`:"",b&&b!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(l){s=l}else r&&(c=r);s instanceof pd&&(u=s.signature,o=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${a}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${a}" reverted.`,{cause:s,metaMessages:o,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=c,this.signature=u}}class sy extends R{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class iy extends R{constructor({factory:t}){super("Deployment for counterfactual contract call failed"+(t?` for factory "${t}".`:""),{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class kr extends R{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class ea extends R{constructor({body:t,cause:n,details:a,headers:r,status:s,url:i}){super("HTTP request failed.",{cause:n,details:a,metaMessages:[s&&`Status: ${s}`,`URL: ${i}`,t&&`Request body: ${Te(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=r,this.status=s,this.url=i}}class Vo extends R{constructor({body:t,cause:n,details:a,url:r}){super("WebSocket request failed.",{cause:n,details:a,metaMessages:[`URL: ${r}`,t&&`Request body: ${Te(t)}`].filter(Boolean),name:"WebSocketRequestError"})}}class xr extends R{constructor({body:t,error:n,url:a}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${a}`,`Request body: ${Te(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class qa extends R{constructor({url:t}={}){super("The socket has been closed.",{metaMessages:[t&&`URL: ${t}`].filter(Boolean),name:"SocketClosedError"})}}class Xs extends R{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${n}`,`Request body: ${Te(t)}`],name:"TimeoutError"})}}class We extends R{constructor(t,{code:n,docsPath:a,metaMessages:r,name:s,shortMessage:i}){super(i,{cause:t,docsPath:a,metaMessages:r||(t==null?void 0:t.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||t.name,this.code=t instanceof xr?t.code:n??-1}}class zn extends We{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class oa extends We{constructor(t){super(t,{code:oa.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(oa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class ca extends We{constructor(t){super(t,{code:ca.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(ca,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class ua extends We{constructor(t,{method:n}={}){super(t,{code:ua.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(ua,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class da extends We{constructor(t){super(t,{code:da.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(da,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class en extends We{constructor(t){super(t,{code:en.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(en,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class rn extends We{constructor(t){super(t,{code:rn.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(rn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class la extends We{constructor(t){super(t,{code:la.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(la,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class pa extends We{constructor(t){super(t,{code:pa.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(pa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class ha extends We{constructor(t){super(t,{code:ha.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(ha,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Jt extends We{constructor(t,{method:n}={}){super(t,{code:Jt.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Jt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Mn extends We{constructor(t){super(t,{code:Mn.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Mn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class ya extends We{constructor(t){super(t,{code:ya.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(ya,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Nn extends zn{constructor(t){super(t,{code:Nn.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Nn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class ma extends zn{constructor(t){super(t,{code:ma.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(ma,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class fa extends zn{constructor(t,{method:n}={}){super(t,{code:fa.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(fa,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ba extends zn{constructor(t){super(t,{code:ba.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(ba,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ga extends zn{constructor(t){super(t,{code:ga.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(ga,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class wa extends zn{constructor(t){super(t,{code:wa.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(wa,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class oy extends We{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function Ir(e,t){const n=(e.details||"").toLowerCase(),a=e instanceof R?e.walk(r=>(r==null?void 0:r.code)===An.code):e;return a instanceof R?new An({cause:e,message:a.details}):An.nodeMessage.test(n)?new An({cause:e,message:e.details}):an.nodeMessage.test(n)?new an({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):_s.nodeMessage.test(n)?new _s({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Ls.nodeMessage.test(n)?new Ls({cause:e,nonce:t==null?void 0:t.nonce}):Fs.nodeMessage.test(n)?new Fs({cause:e,nonce:t==null?void 0:t.nonce}):zs.nodeMessage.test(n)?new zs({cause:e,nonce:t==null?void 0:t.nonce}):Us.nodeMessage.test(n)?new Us({cause:e}):js.nodeMessage.test(n)?new js({cause:e,gas:t==null?void 0:t.gas}):Ds.nodeMessage.test(n)?new Ds({cause:e,gas:t==null?void 0:t.gas}):Hs.nodeMessage.test(n)?new Hs({cause:e}):aa.nodeMessage.test(n)?new aa({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Aa({cause:e})}function Td(e,{docsPath:t,...n}){const a=(()=>{const r=Ir(e,n);return r instanceof Aa?e:r})();return new Cd(a,{docsPath:t,...n})}function Er(e,{format:t}){if(!t)return{};const n={};return function a(r){const s=Object.keys(r);for(const i of s)i in e&&(n[i]=e[i]),r[i]&&typeof r[i]=="object"&&!Array.isArray(r[i])&&a(r[i])}(t(e||{})),n}function un(e){const{account:t,gasPrice:n,maxFeePerGas:a,maxPriorityFeePerGas:r,to:s}=e,i=t?Ue(t):void 0;if(i&&!Se(i.address))throw new ze({address:i.address});if(s&&!Se(s))throw new ze({address:s});if(n!==void 0&&(a!==void 0||r!==void 0))throw new zp;if(a&&a>cr)throw new an({maxFeePerGas:a});if(r&&a&&r>a)throw new aa({maxFeePerGas:a,maxPriorityFeePerGas:r})}var Wo,Zo=$u({id:3636,name:"Crossbell L2 Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.testnet.crossbell.io"]}},blockExplorers:{default:{name:"CrossScan Testnet",url:"https://scan.testnet.crossbell.io/"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0}},testnet:!0}),cy="0xa6f969045641Cf486a747A2688F3a5A6d43cd0D8",uy="0x96e96b7af62d628ce7eb2016d2c1d2786614ea73",dy="0xD0c83f0BB2c61D55B3d33950b70C59ba2f131caA",ly="0x3D1b588a6Bcd728Bb61570ced6656eA4C05e404f",py="0x0058be0845952D887D1668B5545de995E12e8783",hy="0xF1375C069998d06E123B800cF0566e44DA1BE30E",yy="0xf3158018f932981d0005701dDC22Ce51477E436d",my="0xAfB95CC0BD320648B3E8Df6223d9CDD05EbeDC64",fy="0xFc8C75bD5c26F50798758f387B698f207a016b6A",by="0x4200000000000000000000000000000000000301",Pd=Object.defineProperty,gy=Object.getOwnPropertyDescriptor,Md=(e,t)=>{for(var n in t)Pd(e,n,{get:t[n],enumerable:!0})},J=(e,t,n,a)=>{for(var r,s=gy(t,n),i=e.length-1;i>=0;i--)(r=e[i])&&(s=r(t,n,s)||s);return s&&Pd(t,n,s),s},jt={},bn={},Jo,Ka={},lt={},Va={},Wa={},Xr={},Yo,Xo,Qo,ec,Qr={};function wy(){if(Xo)return Wa;Xo=1,Object.defineProperty(Wa,"__esModule",{value:!0});var e=(Jo||(Jo=1,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.fullJitter=function(n){var a=Math.random()*n;return Math.round(a)}),Xr),t=(Yo||(Yo=1,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.noJitter=function(n){return n}),Qr);return Wa.JitterFactory=function(n){return n.jitter==="full"?e.fullJitter:t.noJitter},Wa}function Nd(){if(Qo)return Va;Qo=1,Object.defineProperty(Va,"__esModule",{value:!0});var e=wy(),t=function(){function n(a){this.options=a,this.attempt=0}return n.prototype.apply=function(){var a=this;return new Promise(function(r){return setTimeout(r,a.jitteredDelay)})},n.prototype.setAttemptNumber=function(a){this.attempt=a},Object.defineProperty(n.prototype,"jitteredDelay",{get:function(){return e.JitterFactory(this.options)(this.delay)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"delay",{get:function(){var a=this.options.startingDelay,r=this.options.timeMultiple,s=this.numOfDelayedAttempts,i=a*Math.pow(r,s);return Math.min(i,this.options.maxDelay)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt},enumerable:!0,configurable:!0}),n}();return Va.Delay=t,Va}function vy(){if(ec)return lt;ec=1;var e,t=lt&&lt.__extends||(e=function(s,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var u in c)c.hasOwnProperty(u)&&(o[u]=c[u])},e(s,i)},function(s,i){function o(){this.constructor=s}e(s,i),s.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}),n=lt&&lt.__awaiter||function(s,i,o,c){return new(o||(o=Promise))(function(u,l){function d(b){try{h(c.next(b))}catch(y){l(y)}}function p(b){try{h(c.throw(b))}catch(y){l(y)}}function h(b){var y;b.done?u(b.value):(y=b.value,y instanceof o?y:new o(function(m){m(y)})).then(d,p)}h((c=c.apply(s,i||[])).next())})},a=lt&&lt.__generator||function(s,i){var o,c,u,l,d={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return l={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function p(h){return function(b){return function(y){if(o)throw new TypeError("Generator is already executing.");for(;d;)try{if(o=1,c&&(u=2&y[0]?c.return:y[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,y[1])).done)return u;switch(c=0,u&&(y=[2&y[0],u.value]),y[0]){case 0:case 1:u=y;break;case 4:return d.label++,{value:y[1],done:!1};case 5:d.label++,c=y[1],y=[0];continue;case 7:y=d.ops.pop(),d.trys.pop();continue;default:if(u=d.trys,!((u=u.length>0&&u[u.length-1])||y[0]!==6&&y[0]!==2)){d=0;continue}if(y[0]===3&&(!u||y[1]>u[0]&&y[1]<u[3])){d.label=y[1];break}if(y[0]===6&&d.label<u[1]){d.label=u[1],u=y;break}if(u&&d.label<u[2]){d.label=u[2],d.ops.push(y);break}u[2]&&d.ops.pop(),d.trys.pop();continue}y=i.call(s,d)}catch(m){y=[6,m],c=0}finally{o=u=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([h,b])}}};Object.defineProperty(lt,"__esModule",{value:!0});var r=function(s){function i(){return s!==null&&s.apply(this,arguments)||this}return t(i,s),i.prototype.apply=function(){return n(this,void 0,void 0,function(){return a(this,function(o){return[2,!!this.isFirstAttempt||s.prototype.apply.call(this)]})})},Object.defineProperty(i.prototype,"isFirstAttempt",{get:function(){return this.attempt===0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt-1},enumerable:!0,configurable:!0}),i}(Nd().Delay);return lt.SkipFirstDelay=r,lt}var tc,nc,ac,gn={};function ky(){if(nc)return Ka;nc=1,Object.defineProperty(Ka,"__esModule",{value:!0});var e=vy(),t=function(){if(tc)return gn;tc=1;var n,a=gn&&gn.__extends||(n=function(s,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var u in c)c.hasOwnProperty(u)&&(o[u]=c[u])},n(s,i)},function(s,i){function o(){this.constructor=s}n(s,i),s.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)});Object.defineProperty(gn,"__esModule",{value:!0});var r=function(s){function i(){return s!==null&&s.apply(this,arguments)||this}return a(i,s),i}(Nd().Delay);return gn.AlwaysDelay=r,gn}();return Ka.DelayFactory=function(n,a){var r=function(s){return s.delayFirstAttempt?new t.AlwaysDelay(s):new e.SkipFirstDelay(s)}(n);return r.setAttemptNumber(a),r},Ka}var xy=function(){if(ac)return jt;ac=1;var e=jt&&jt.__awaiter||function(s,i,o,c){return new(o||(o=Promise))(function(u,l){function d(b){try{h(c.next(b))}catch(y){l(y)}}function p(b){try{h(c.throw(b))}catch(y){l(y)}}function h(b){var y;b.done?u(b.value):(y=b.value,y instanceof o?y:new o(function(m){m(y)})).then(d,p)}h((c=c.apply(s,i||[])).next())})},t=jt&&jt.__generator||function(s,i){var o,c,u,l,d={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return l={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function p(h){return function(b){return function(y){if(o)throw new TypeError("Generator is already executing.");for(;d;)try{if(o=1,c&&(u=2&y[0]?c.return:y[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,y[1])).done)return u;switch(c=0,u&&(y=[2&y[0],u.value]),y[0]){case 0:case 1:u=y;break;case 4:return d.label++,{value:y[1],done:!1};case 5:d.label++,c=y[1],y=[0];continue;case 7:y=d.ops.pop(),d.trys.pop();continue;default:if(u=d.trys,!((u=u.length>0&&u[u.length-1])||y[0]!==6&&y[0]!==2)){d=0;continue}if(y[0]===3&&(!u||y[1]>u[0]&&y[1]<u[3])){d.label=y[1];break}if(y[0]===6&&d.label<u[1]){d.label=u[1],u=y;break}if(u&&d.label<u[2]){d.label=u[2],d.ops.push(y);break}u[2]&&d.ops.pop(),d.trys.pop();continue}y=i.call(s,d)}catch(m){y=[6,m],c=0}finally{o=u=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([h,b])}}};Object.defineProperty(jt,"__esModule",{value:!0});var n=function(){if(Wo)return bn;Wo=1;var s=bn&&bn.__assign||function(){return s=Object.assign||function(o){for(var c,u=1,l=arguments.length;u<l;u++)for(var d in c=arguments[u])Object.prototype.hasOwnProperty.call(c,d)&&(o[d]=c[d]);return o},s.apply(this,arguments)};Object.defineProperty(bn,"__esModule",{value:!0});var i={delayFirstAttempt:!1,jitter:"none",maxDelay:1/0,numOfAttempts:10,retry:function(){return!0},startingDelay:100,timeMultiple:2};return bn.getSanitizedOptions=function(o){var c=s(s({},i),o);return c.numOfAttempts<1&&(c.numOfAttempts=1),c},bn}(),a=ky();jt.backOff=function(s,i){return i===void 0&&(i={}),e(this,void 0,void 0,function(){var o;return t(this,function(c){switch(c.label){case 0:return o=n.getSanitizedOptions(i),[4,new r(s,o).execute()];case 1:return[2,c.sent()]}})})};var r=function(){function s(i,o){this.request=i,this.options=o,this.attemptNumber=0}return s.prototype.execute=function(){return e(this,void 0,void 0,function(){var i;return t(this,function(o){switch(o.label){case 0:if(this.attemptLimitReached)return[3,7];o.label=1;case 1:return o.trys.push([1,4,,6]),[4,this.applyDelay()];case 2:return o.sent(),[4,this.request()];case 3:return[2,o.sent()];case 4:return i=o.sent(),this.attemptNumber++,[4,this.options.retry(i,this.attemptNumber)];case 5:if(!o.sent()||this.attemptLimitReached)throw i;return[3,6];case 6:return[3,0];case 7:throw new Error("Something went wrong.")}})})},Object.defineProperty(s.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!0,configurable:!0}),s.prototype.applyDelay=function(){return e(this,void 0,void 0,function(){return t(this,function(i){switch(i.label){case 0:return[4,a.DelayFactory(this.options,this.attemptNumber).apply()];case 1:return i.sent(),[2]}})})},s}();return jt}();function G(e,t,n){const a=e[t.name];if(typeof a=="function")return a;const r=e[n];return typeof r=="function"?r:s=>t(e,s)}class Iy extends R{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const rc="/docs/contract/encodeEventTopics";function Na(e){var c;const{abi:t,eventName:n,args:a}=e;let r=t[0];if(n){const u=Ma({abi:t,name:n});if(!u)throw new Lo(n,{docsPath:rc});r=u}if(r.type!=="event")throw new Lo(void 0,{docsPath:rc});const s=Rt(r),i=vr(s);let o=[];if(a&&"inputs"in r){const u=(c=r.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),l=Array.isArray(a)?a:Object.values(a).length>0?(u==null?void 0:u.map(d=>a[d.name]))??[]:[];l.length>0&&(o=(u==null?void 0:u.map((d,p)=>Array.isArray(l[p])?l[p].map((h,b)=>sc({param:d,value:l[p][b]})):l[p]!==void 0&&l[p]!==null?sc({param:d,value:l[p]}):null))??[])}return[i,...o]}function sc({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return ye(Ln(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Iy(e.type);return ot([e],[t])}function Ar(e,{method:t}){var a,r;const n={};return e.transport.type==="fallback"&&((r=(a=e.transport).onResponse)==null||r.call(a,({method:s,response:i,status:o,transport:c})=>{o==="success"&&t===s&&(n[i]=c.request)})),s=>n[s]||e.request}async function Si(e,t){const{address:n,abi:a,args:r,eventName:s,fromBlock:i,strict:o,toBlock:c}=t,u=Ar(e,{method:"eth_newFilter"}),l=s?Na({abi:a,args:r,eventName:s}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?W(i):i,toBlock:typeof c=="bigint"?W(c):c,topics:l}]});return{abi:a,args:r,eventName:s,id:d,request:u(d),strict:!!o,type:"event"}}const ic="/docs/contract/encodeFunctionData";function tt(e){var s;const{args:t}=e,{abi:n,functionName:a}=e.abi.length===1&&((s=e.functionName)!=null&&s.startsWith("0x"))?e:function(i){const{abi:o,args:c,functionName:u}=i;let l=o[0];if(u){const d=Ma({abi:o,args:c,name:u});if(!d)throw new dr(u,{docsPath:ic});l=d}if(l.type!=="function")throw new dr(void 0,{docsPath:ic});return{abi:[l],functionName:Bi(Rt(l))}}(e),r=n[0];return it([a,("inputs"in r&&r.inputs?ot(r.inputs,t??[]):void 0)??"0x"])}const Ey=3;function sn(e,{abi:t,address:n,args:a,docsPath:r,functionName:s,sender:i}){const o=e instanceof kr?e:e instanceof R?e.walk(b=>"data"in b)||e.walk():{},{code:c,data:u,details:l,message:d,shortMessage:p}=o,h=e instanceof Pa?new sy({functionName:s}):[Ey,en.code].includes(c)&&(u||l||d||p)?new Ys({abi:t,data:typeof u=="object"?u.data:u,functionName:s,message:o instanceof xr?l:p??d}):e;return new ry(h,{abi:t,args:a,contractAddress:n,docsPath:r,functionName:s,sender:i})}function Bd(e){return Ta(`0x${ye(`0x${e.substring(4)}`).substring(26)}`)}function oc(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function $d({hash:e,signature:t}){return Bd(await async function({hash:n,signature:a}){const r=vt(n)?n:te(n),{secp256k1:s}=await ki(async()=>{const{secp256k1:i}=await Promise.resolve().then(()=>Ym);return{secp256k1:i}},void 0);return`0x${(()=>{if(typeof a=="object"&&"r"in a&&"s"in a){const{r:c,s:u,v:l,yParity:d}=a,p=oc(Number(d??l));return new s.Signature(kt(c),kt(u)).addRecoveryBit(p)}const i=vt(a)?a:te(a),o=oc(xt(`0x${i.slice(130)}`));return s.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(o)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}({hash:e,signature:t}))}function Od(e){const{chainId:t,contractAddress:n,nonce:a,to:r}=e,s=ye(it(["0x05",xn([t?W(t):"0x",n,a?W(a):"0x"])]));return r==="bytes"?et(s):s}async function Sd(e){const{authorization:t,signature:n}=e;return $d({hash:Od(t),signature:n??t})}class Ay extends R{constructor(t,{account:n,docsPath:a,chain:r,data:s,gas:i,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:p}){var b;const h=Ia({from:n==null?void 0:n.address,to:d,value:p!==void 0&&`${Ai(p)} ${((b=r==null?void 0:r.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:s,gas:i,gasPrice:o!==void 0&&`${Ve(o)} gwei`,maxFeePerGas:c!==void 0&&`${Ve(c)} gwei`,maxPriorityFeePerGas:u!==void 0&&`${Ve(u)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:a,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function cc(e){if(e&&e.length!==0)return e.reduce((t,{slot:n,value:a})=>{if(n.length!==66)throw new Io({size:n.length,targetSize:66,type:"hex"});if(a.length!==66)throw new Io({size:a.length,targetSize:66,type:"hex"});return t[n]=a,t},{})}function Cy(e){const{balance:t,nonce:n,state:a,stateDiff:r,code:s}=e,i={};if(s!==void 0&&(i.code=s),t!==void 0&&(i.balance=W(t)),n!==void 0&&(i.nonce=W(n)),a!==void 0&&(i.state=cc(a)),r!==void 0){if(i.state)throw new ay;i.stateDiff=cc(r)}return i}function Ri(e){if(!e)return;const t={};for(const{address:n,...a}of e){if(!Se(n,{strict:!1}))throw new ze({address:n});if(t[n])throw new ny({address:n});t[n]=Cy(a)}return t}class Ty extends R{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class _i extends R{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Py extends R{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Ve(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Rd extends R{constructor({blockHash:t,blockNumber:n}){let a="Block";t&&(a=`Block at hash "${t}"`),n&&(a=`Block at number "${n}"`),super(`${a} could not be found.`,{name:"BlockNotFoundError"})}}async function bt(e,{blockHash:t,blockNumber:n,blockTag:a,includeTransactions:r}={}){var u,l,d;const s=a??"latest",i=r??!1,o=n!==void 0?W(n):void 0;let c=null;if(c=t?await e.request({method:"eth_getBlockByHash",params:[t,i]},{dedupe:!0}):await e.request({method:"eth_getBlockByNumber",params:[o||s,i]},{dedupe:!!o}),!c)throw new Rd({blockHash:t,blockNumber:n});return(((d=(l=(u=e.chain)==null?void 0:u.formatters)==null?void 0:l.block)==null?void 0:d.format)||Uu)(c)}async function Li(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function _d(e,t){var s,i;const{block:n,chain:a=e.chain,request:r}=t||{};try{const o=((s=a==null?void 0:a.fees)==null?void 0:s.maxPriorityFeePerGas)??((i=a==null?void 0:a.fees)==null?void 0:i.defaultPriorityFee);if(typeof o=="function"){const c=n||await G(e,bt,"getBlock")({}),u=await o({block:c,client:e,request:r});if(u===null)throw new Error;return u}return o!==void 0?o:kt(await e.request({method:"eth_maxPriorityFeePerGas"}))}catch{const[o,c]=await Promise.all([n?Promise.resolve(n):G(e,bt,"getBlock")({}),G(e,Li,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new _i;const u=c-o.baseFeePerGas;return u<0n?0n:u}}async function Qs(e,t){var l,d;const{block:n,chain:a=e.chain,request:r,type:s="eip1559"}=t||{},i=await(async()=>{var p,h;return typeof((p=a==null?void 0:a.fees)==null?void 0:p.baseFeeMultiplier)=="function"?a.fees.baseFeeMultiplier({block:n,client:e,request:r}):((h=a==null?void 0:a.fees)==null?void 0:h.baseFeeMultiplier)??1.2})();if(i<1)throw new Ty;const o=10**(((l=i.toString().split(".")[1])==null?void 0:l.length)??0),c=p=>p*BigInt(Math.ceil(i*o))/BigInt(o),u=n||await G(e,bt,"getBlock")({});if(typeof((d=a==null?void 0:a.fees)==null?void 0:d.estimateFeesPerGas)=="function"){const p=await a.fees.estimateFeesPerGas({block:n,client:e,multiply:c,request:r,type:s});if(p!==null)return p}if(s==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new _i;const p=typeof(r==null?void 0:r.maxPriorityFeePerGas)=="bigint"?r.maxPriorityFeePerGas:await _d(e,{block:u,chain:a,request:r}),h=c(u.baseFeePerGas);return{maxFeePerGas:(r==null?void 0:r.maxFeePerGas)??h+p,maxPriorityFeePerGas:p}}return{gasPrice:(r==null?void 0:r.gasPrice)??c(await G(e,Li,"getGasPrice")({}))}}async function Fi(e,{address:t,blockTag:n="latest",blockNumber:a}){return xt(await e.request({method:"eth_getTransactionCount",params:[t,a?W(a):n]},{dedupe:!!a}))}async function va(e){return xt(await e.request({method:"eth_chainId"},{dedupe:!0}))}const Ld=["blobVersionedHashes","chainId","fees","gas","nonce","type"],uc=new Map;async function Cr(e,t){const{account:n=e.account,blobs:a,chain:r,gas:s,kzg:i,nonce:o,nonceManager:c,parameters:u=Ld,type:l}=t,d=n&&Ue(n),p={...t,...d?{from:d==null?void 0:d.address}:{}};let h,b;async function y(){return h||(h=await G(e,bt,"getBlock")({blockTag:"latest"}),h)}async function m(){return b||(r?r.id:t.chainId!==void 0?t.chainId:(b=await G(e,va,"getChainId")({}),b))}if(u.includes("nonce")&&o===void 0&&d)if(c){const f=await m();p.nonce=await c.consume({address:d.address,chainId:f,client:e})}else p.nonce=await G(e,Fi,"getTransactionCount")({address:d.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&a&&i){const f=Ci({blobs:a,kzg:i});if(u.includes("blobVersionedHashes")){const g=Zu({commitments:f,to:"hex"});p.blobVersionedHashes=g}if(u.includes("sidecars")){const g=Yu({blobs:a,commitments:f,proofs:Ti({blobs:a,commitments:f,kzg:i}),to:"hex"});p.sidecars=g}}if(u.includes("chainId")&&(p.chainId=await m()),(u.includes("fees")||u.includes("type"))&&l===void 0)try{p.type=od(p)}catch{let f=uc.get(e.uid);if(f===void 0){const g=await y();f=typeof(g==null?void 0:g.baseFeePerGas)=="bigint",uc.set(e.uid,f)}p.type=f?"eip1559":"legacy"}if(u.includes("fees"))if(p.type!=="legacy"&&p.type!=="eip2930"){if(p.maxFeePerGas===void 0||p.maxPriorityFeePerGas===void 0){const f=await y(),{maxFeePerGas:g,maxPriorityFeePerGas:w}=await Qs(e,{block:f,chain:r,request:p});if(t.maxPriorityFeePerGas===void 0&&t.maxFeePerGas&&t.maxFeePerGas<w)throw new Py({maxPriorityFeePerGas:w});p.maxPriorityFeePerGas=w,p.maxFeePerGas=g}}else{if(t.maxFeePerGas!==void 0||t.maxPriorityFeePerGas!==void 0)throw new _i;if(t.gasPrice===void 0){const f=await y(),{gasPrice:g}=await Qs(e,{block:f,chain:r,request:p,type:"legacy"});p.gasPrice=g}}return u.includes("gas")&&s===void 0&&(p.gas=await G(e,zi,"estimateGas")({...p,account:d&&{address:d.address,type:"json-rpc"}})),un(p),delete p.parameters,p}async function Fd(e,{address:t,blockNumber:n,blockTag:a="latest"}){const r=n?W(n):void 0,s=await e.request({method:"eth_getBalance",params:[t,r||a]});return BigInt(s)}async function zi(e,t){var r,s,i;const{account:n=e.account}=t,a=n?Ue(n):void 0;try{let M=function(S){const{block:T,request:$,rpcStateOverride:_}=S;return e.request({method:"eth_estimateGas",params:_?[$,T??"latest",_]:T?[$,T]:[$]})};const{accessList:o,authorizationList:c,blobs:u,blobVersionedHashes:l,blockNumber:d,blockTag:p,data:h,gas:b,gasPrice:y,maxFeePerBlobGas:m,maxFeePerGas:f,maxPriorityFeePerGas:g,nonce:w,value:k,stateOverride:I,...A}=await Cr(e,{...t,parameters:(a==null?void 0:a.type)==="local"?void 0:["blobVersionedHashes"]}),C=(d?W(d):void 0)||p,P=Ri(I),x=await(async()=>A.to?A.to:c&&c.length>0?await Sd({authorization:c[0]}).catch(()=>{throw new R("`to` is required. Could not infer from `authorizationList`")}):void 0)();un(t);const v=(i=(s=(r=e.chain)==null?void 0:r.formatters)==null?void 0:s.transactionRequest)==null?void 0:i.format,E=(v||Fn)({...Er(A,{format:v}),from:a==null?void 0:a.address,accessList:o,authorizationList:c,blobs:u,blobVersionedHashes:l,data:h,gas:b,gasPrice:y,maxFeePerBlobGas:m,maxFeePerGas:f,maxPriorityFeePerGas:g,nonce:w,to:x,value:k});let B=BigInt(await M({block:C,request:E,rpcStateOverride:P}));if(c){const S=await Fd(e,{address:E.from}),T=await Promise.all(c.map(async $=>{const{contractAddress:_}=$,L=await M({block:C,request:{authorizationList:void 0,data:h,from:a==null?void 0:a.address,to:_,value:W(S)},rpcStateOverride:P}).catch(()=>100000n);return 2n*BigInt(L)}));B+=T.reduce(($,_)=>$+_,0n)}return B}catch(o){throw function(c,{docsPath:u,...l}){const d=(()=>{const p=Ir(c,l);return p instanceof Aa?c:p})();return new Ay(d,{docsPath:u,...l})}(o,{...t,account:a,chain:e.chain})}}async function zd(e,t){const{abi:n,address:a,args:r,functionName:s,dataSuffix:i,...o}=t,c=tt({abi:n,args:r,functionName:s});try{return await G(e,zi,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:a,...o})}catch(u){const l=o.account?Ue(o.account):void 0;throw sn(u,{abi:n,address:a,args:r,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:l==null?void 0:l.address})}}function Ba(e,t){if(!Se(e,{strict:!1}))throw new ze({address:e});if(!Se(t,{strict:!1}))throw new ze({address:t});return e.toLowerCase()===t.toLowerCase()}const dc="/docs/contract/decodeEventLog";function Tr(e){const{abi:t,data:n,strict:a,topics:r}=e,s=a??!0,[i,...o]=r;if(!i)throw new kh({docsPath:dc});const c=t.length===1?t[0]:t.find(y=>y.type==="event"&&i===vr(Rt(y)));if(!c||!("name"in c)||c.type!=="event")throw new hd(i,{docsPath:dc});const{name:u,inputs:l}=c,d=l==null?void 0:l.some(y=>!("name"in y&&y.name));let p=d?[]:{};const h=l.filter(y=>"indexed"in y&&y.indexed);for(let y=0;y<h.length;y++){const m=h[y],f=o[y];if(!f)throw new gr({abiItem:c,param:m});p[d?y:m.name||y]=My({param:m,value:f})}const b=l.filter(y=>!("indexed"in y&&y.indexed));if(b.length>0){if(n&&n!=="0x")try{const y=wr(b,n);if(y)if(d)p=[...p,...y];else for(let m=0;m<b.length;m++)p[b[m].name]=y[m]}catch(y){if(s)throw y instanceof dd||y instanceof ju?new ia({abiItem:c,data:n,params:b,size:ge(n)}):y}else if(s)throw new ia({abiItem:c,data:"0x",params:b,size:0})}return{eventName:u,args:Object.values(p).length>0?p:void 0}}function My({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(wr([e],t)||[])[0]}function Ui(e){const{abi:t,args:n,logs:a,strict:r=!0}=e,s=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return a.map(i=>{var o;try{const c=t.find(l=>l.type==="event"&&i.topics[0]===vr(l));if(!c)return null;const u=Tr({...i,abi:[c],strict:r});return s&&!s.includes(u.eventName)?null:function(l){const{args:d,inputs:p,matchArgs:h}=l;if(!h)return!0;if(!d)return!1;function b(y,m,f){try{return y.type==="address"?Ba(m,f):y.type==="string"||y.type==="bytes"?ye(Ln(m))===f:m===f}catch{return!1}}return Array.isArray(d)&&Array.isArray(h)?h.every((y,m)=>{if(y==null)return!0;const f=p[m];return f?(Array.isArray(y)?y:[y]).some(g=>b(f,g,d[m])):!1}):typeof d=="object"&&!Array.isArray(d)&&typeof h=="object"&&!Array.isArray(h)&&Object.entries(h).every(([y,m])=>{if(m==null)return!0;const f=p.find(g=>g.name===y);return f?(Array.isArray(m)?m:[m]).some(g=>b(f,g,d[y])):!1})}({args:u.args,inputs:c.inputs,matchArgs:n})?{...u,...i}:null}catch(c){let u,l;if(c instanceof hd)return null;if(c instanceof ia||c instanceof gr){if(r)return null;u=c.abiItem.name,l=(o=c.abiItem.inputs)==null?void 0:o.some(d=>!("name"in d&&d.name))}return{...i,args:l?[]:{},eventName:u}}}).filter(Boolean)}async function ei(e,{address:t,blockHash:n,fromBlock:a,toBlock:r,event:s,events:i,args:o,strict:c}={}){const u=c??!1,l=i??(s?[s]:void 0);let d,p=[];l&&(p=[l.flatMap(y=>Na({abi:[y],eventName:y.name,args:i?void 0:o}))],s&&(p=p[0])),d=n?await e.request({method:"eth_getLogs",params:[{address:t,topics:p,blockHash:n}]}):await e.request({method:"eth_getLogs",params:[{address:t,topics:p,fromBlock:typeof a=="bigint"?W(a):a,toBlock:typeof r=="bigint"?W(r):r}]});const h=d.map(b=>St(b));return l?Ui({abi:l,args:o,logs:h,strict:u}):h}async function ji(e,t){const{abi:n,address:a,args:r,blockHash:s,eventName:i,fromBlock:o,toBlock:c,strict:u}=t,l=i?Ma({abi:n,name:i}):void 0,d=l?void 0:n.filter(p=>p.type==="event");return G(e,ei,"getLogs")({address:a,args:r,blockHash:s,event:l,events:d,fromBlock:o,toBlock:c,strict:u})}const es="/docs/contract/decodeFunctionResult";function on(e){const{abi:t,args:n,functionName:a,data:r}=e;let s=t[0];if(a){const o=Ma({abi:t,args:n,name:a});if(!o)throw new dr(a,{docsPath:es});s=o}if(s.type!=="function")throw new dr(void 0,{docsPath:es});if(!s.outputs)throw new xh(s.name,{docsPath:es});const i=wr(s.outputs,r);return i&&i.length>1?i:i&&i.length===1?i[0]:void 0}const ti=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Ud=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],jd=[...Ud,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Ny=[...Ud,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],lc=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],pc=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],hc=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],By=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],$y="0x82ad56cb",Dd="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Oy="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",ts="/docs/contract/encodeDeployData";function pr(e){const{abi:t,args:n,bytecode:a}=e;if(!n||n.length===0)return a;const r=t.find(s=>"type"in s&&s.type==="constructor");if(!r)throw new gh({docsPath:ts});if(!("inputs"in r))throw new _o({docsPath:ts});if(!r.inputs||r.inputs.length===0)throw new _o({docsPath:ts});return it([a,ot(r.inputs,n)])}function Hd(){let e=()=>{},t=()=>{};return{promise:new Promise((n,a)=>{e=n,t=a}),resolve:e,reject:t}}const ns=new Map;function Di({fn:e,id:t,shouldSplitBatch:n,wait:a=0,sort:r}){const s=async()=>{const u=o();i();const l=u.map(({args:d})=>d);l.length!==0&&e(l).then(d=>{r&&Array.isArray(d)&&d.sort(r);for(let p=0;p<u.length;p++){const{resolve:h}=u[p];h==null||h([d[p],d])}}).catch(d=>{for(let p=0;p<u.length;p++){const{reject:h}=u[p];h==null||h(d)}})},i=()=>ns.delete(t),o=()=>ns.get(t)||[],c=u=>ns.set(t,[...o(),u]);return{flush:i,async schedule(u){const{promise:l,resolve:d,reject:p}=Hd();return(n==null?void 0:n([...o().map(({args:b})=>b),u]))&&s(),o().length>0?(c({args:u,resolve:d,reject:p}),l):(c({args:u,resolve:d,reject:p}),setTimeout(s,a),l)}}}async function Pr(e,t){var E,M,B,S;const{account:n=e.account,batch:a=!!((E=e.batch)!=null&&E.multicall),blockNumber:r,blockTag:s="latest",accessList:i,blobs:o,code:c,data:u,factory:l,factoryData:d,gas:p,gasPrice:h,maxFeePerBlobGas:b,maxFeePerGas:y,maxPriorityFeePerGas:m,nonce:f,to:g,value:w,stateOverride:k,...I}=t,A=n?Ue(n):void 0;if(c&&(l||d))throw new R("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(c&&g)throw new R("Cannot provide both `code` & `to` as parameters.");const C=c&&u,P=l&&d&&g&&u,x=C||P,v=C?function(T){const{code:$,data:_}=T;return pr({abi:Go(["constructor(bytes, bytes)"]),bytecode:Dd,args:[$,_]})}({code:c,data:u}):P?function(T){const{data:$,factory:_,factoryData:L,to:F}=T;return pr({abi:Go(["constructor(address, bytes, address, bytes)"]),bytecode:Oy,args:[F,$,_,L]})}({data:u,factory:l,factoryData:d,to:g}):u;try{un(t);const T=(r?W(r):void 0)||s,$=Ri(k),_=(S=(B=(M=e.chain)==null?void 0:M.formatters)==null?void 0:B.transactionRequest)==null?void 0:S.format,L=(_||Fn)({...Er(I,{format:_}),from:A==null?void 0:A.address,accessList:i,blobs:o,data:v,gas:p,gasPrice:h,maxFeePerBlobGas:b,maxFeePerGas:y,maxPriorityFeePerGas:m,nonce:f,to:x?void 0:g,value:w});if(a&&function({request:K}){const{data:q,to:ae,...we}=K;return!!q&&!q.startsWith($y)&&!!ae&&!(Object.values(we).filter(de=>de!==void 0).length>0)}({request:L})&&!$)try{return await async function(K,q){var Un;const{batchSize:ae=1024,wait:we=0}=typeof((Un=K.batch)==null?void 0:Un.multicall)=="object"?K.batch.multicall:{},{blockNumber:de,blockTag:Ie="latest",data:Ae,multicallAddress:He,to:It}=q;let Je=He;if(!Je){if(!K.chain)throw new No;Je=Cn({blockNumber:de,chain:K.chain,contract:"multicall3"})}const _t=de?W(de):void 0,Sa=_t||Ie,{schedule:Ra}=Di({id:`${K.uid}.${Sa}`,wait:we,shouldSplitBatch(jn){return jn.reduce((ln,{data:Hn})=>ln+(Hn.length-2),0)>2*ae},fn:async jn=>{const Dn=jn.map(pn=>({allowFailure:!0,callData:pn.data,target:pn.to})),ln=tt({abi:ti,args:[Dn],functionName:"aggregate3"}),Hn=await K.request({method:"eth_call",params:[{data:ln,to:Je},Sa]});return on({abi:ti,args:[Dn],functionName:"aggregate3",data:Hn||"0x"})}}),[{returnData:ct,success:dn}]=await Ra({data:Ae,to:It});if(!dn)throw new kr({data:ct});return ct==="0x"?{data:void 0}:{data:ct}}(e,{...L,blockNumber:r,blockTag:s})}catch(K){if(!(K instanceof No||K instanceof Rs))throw K}const F=await e.request({method:"eth_call",params:$?[L,T,$]:[L,T]});return F==="0x"?{data:void 0}:{data:F}}catch(T){const $=function(F){var q;if(!(F instanceof R))return;const K=F.walk();return typeof(K==null?void 0:K.data)=="object"?(q=K.data)==null?void 0:q.data:K.data}(T),{offchainLookup:_,offchainLookupSignature:L}=await ki(async()=>{const{offchainLookup:F,offchainLookupSignature:K}=await import("./ccip-CpaRAIMl.js");return{offchainLookup:F,offchainLookupSignature:K}},__vite__mapDeps([0,1,2,3]));if(e.ccipRead!==!1&&($==null?void 0:$.slice(0,10))===L&&g)return{data:await _(e,{data:$,to:g})};throw x&&($==null?void 0:$.slice(0,10))==="0x101bb98d"?new iy({factory:l}):Td(T,{...t,account:A,chain:e.chain})}}async function gt(e,t){const{abi:n,address:a,args:r,functionName:s,...i}=t,o=tt({abi:n,args:r,functionName:s});try{const{data:c}=await G(e,Pr,"call")({...i,data:o,to:a});return on({abi:n,args:r,functionName:s,data:c||"0x"})}catch(c){throw sn(c,{abi:n,address:a,args:r,docsPath:"/docs/contract/readContract",functionName:s})}}async function Gd(e,t){const{abi:n,address:a,args:r,dataSuffix:s,functionName:i,...o}=t,c=o.account?Ue(o.account):e.account,u=tt({abi:n,args:r,functionName:i});try{const{data:l}=await G(e,Pr,"call")({batch:!1,data:`${u}${s?s.replace("0x",""):""}`,to:a,...o,account:c});return{result:on({abi:n,args:r,functionName:i,data:l||"0x"}),request:{abi:n.filter(p=>"name"in p&&p.name===t.functionName),address:a,args:r,dataSuffix:s,functionName:i,...o,account:c}}}catch(l){throw sn(l,{abi:n,address:a,args:r,docsPath:"/docs/contract/simulateContract",functionName:i,sender:c==null?void 0:c.address})}}const as=new Map,yc=new Map;let Sy=0;function qt(e,t,n){const a=++Sy,r=()=>as.get(e)||[],s=()=>{const u=r();if(!u.some(d=>d.id===a))return;const l=yc.get(e);u.length===1&&l&&l(),(()=>{const d=r();as.set(e,d.filter(p=>p.id!==a))})()},i=r();if(as.set(e,[...i,{id:a,fns:t}]),i&&i.length>0)return s;const o={};for(const u in t)o[u]=(...l)=>{var p,h;const d=r();if(d.length!==0)for(const b of d)(h=(p=b.fns)[u])==null||h.call(p,...l)};const c=n(o);return typeof c=="function"&&yc.set(e,c),s}async function ni(e){return new Promise(t=>setTimeout(t,e))}function ta(e,{emitOnBegin:t,initialWaitTime:n,interval:a}){let r=!0;const s=()=>r=!1;return(async()=>{let i;t&&(i=await e({unpoll:s}));const o=await(n==null?void 0:n(i))??a;await ni(o);const c=async()=>{r&&(await e({unpoll:s}),await ni(a),c())};c()})(),s}const Ry=new Map,_y=new Map;async function Ly(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const a=function(i){const o=(l,d)=>({clear:()=>d.delete(l),get:()=>d.get(l),set:p=>d.set(l,p)}),c=o(i,Ry),u=o(i,_y);return{clear:()=>{c.clear(),u.clear()},promise:c,response:u}}(t),r=a.response.get();if(r&&n>0&&new Date().getTime()-r.created.getTime()<n)return r.data;let s=a.promise.get();s||(s=e(),a.promise.set(s));try{const i=await s;return a.response.set({created:new Date,data:i}),i}finally{a.promise.clear()}}async function na(e,{cacheTime:t=e.cacheTime}={}){const n=await Ly(()=>e.request({method:"eth_blockNumber"}),{cacheKey:(a=e.uid,`blockNumber.${a}`),cacheTime:t});var a;return BigInt(n)}async function rr(e,{filter:t}){const n="strict"in t&&t.strict,a=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof a[0]=="string")return a;const r=a.map(s=>St(s));return"abi"in t&&t.abi?Ui({abi:t.abi,logs:r,strict:n}):r}async function sr(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function qd(e,t){const{abi:n,address:a,args:r,batch:s=!0,eventName:i,fromBlock:o,onError:c,onLogs:u,poll:l,pollingInterval:d=e.pollingInterval,strict:p}=t;return(l!==void 0?l:typeof o=="bigint"||e.transport.type!=="webSocket"&&(e.transport.type!=="fallback"||e.transport.transports[0].config.type!=="webSocket"))?(()=>{const h=p??!1;return qt(Te(["watchContractEvent",a,r,s,e.uid,i,d,h,o]),{onLogs:u,onError:c},b=>{let y,m;o!==void 0&&(y=o-1n);let f=!1;const g=ta(async()=>{var w;if(f)try{let k;if(m)k=await G(e,rr,"getFilterChanges")({filter:m});else{const I=await G(e,na,"getBlockNumber")({});k=y&&y<I?await G(e,ji,"getContractEvents")({abi:n,address:a,args:r,eventName:i,fromBlock:y+1n,toBlock:I,strict:h}):[],y=I}if(k.length===0)return;if(s)b.onLogs(k);else for(const I of k)b.onLogs([I])}catch(k){m&&k instanceof rn&&(f=!1),(w=b.onError)==null||w.call(b,k)}else{try{m=await G(e,Si,"createContractEventFilter")({abi:n,address:a,args:r,eventName:i,strict:h,fromBlock:o})}catch{}f=!0}},{emitOnBegin:!0,interval:d});return async()=>{m&&await G(e,sr,"uninstallFilter")({filter:m}),g()}})})():(()=>{const h=p??!1,b=Te(["watchContractEvent",a,r,s,e.uid,i,d,h]);let y=!0,m=()=>y=!1;return qt(b,{onLogs:u,onError:c},f=>((async()=>{try{const g=(()=>{if(e.transport.type==="fallback"){const I=e.transport.transports.find(A=>A.config.type==="webSocket");return I?I.value:e.transport}return e.transport})(),w=i?Na({abi:n,eventName:i,args:r}):[],{unsubscribe:k}=await g.subscribe({params:["logs",{address:a,topics:w}],onData(I){var C;if(!y)return;const A=I.result;try{const{eventName:P,args:x}=Tr({abi:n,data:A.data,topics:A.topics,strict:p}),v=St(A,{args:x,eventName:P});f.onLogs([v])}catch(P){let x,v;if(P instanceof ia||P instanceof gr){if(p)return;x=P.abiItem.name,v=(C=P.abiItem.inputs)==null?void 0:C.some(M=>!("name"in M&&M.name))}const E=St(A,{args:v?[]:{},eventName:x});f.onLogs([E])}},onError(I){var A;(A=f.onError)==null||A.call(f,I)}});m=k,y||m()}catch(g){c==null||c(g)}})(),()=>m()))})()}async function Hi(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const rs=new Ca(128);async function ai(e,t){var f,g,w,k;const{account:n=e.account,chain:a=e.chain,accessList:r,authorizationList:s,blobs:i,data:o,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:h,value:b,...y}=t;if(n===void 0)throw new sa({docsPath:"/docs/actions/wallet/sendTransaction"});const m=n?Ue(n):null;try{un(t);const I=await(async()=>t.to?t.to:t.to!==null&&s&&s.length>0?await Sd({authorization:s[0]}).catch(()=>{throw new R("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if((m==null?void 0:m.type)==="json-rpc"||m===null){let A;a!==null&&(A=await G(e,va,"getChainId")({}),cd({currentChainId:A,chain:a}));const C=(w=(g=(f=e.chain)==null?void 0:f.formatters)==null?void 0:g.transactionRequest)==null?void 0:w.format,P=(C||Fn)({...Er(y,{format:C}),accessList:r,authorizationList:s,blobs:i,chainId:A,data:o,from:m==null?void 0:m.address,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:h,to:I,value:b}),x=rs.get(e.uid),v=x?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:v,params:[P]},{retryCount:0})}catch(E){if(x===!1)throw E;const M=E;if(M.name==="InvalidInputRpcError"||M.name==="InvalidParamsRpcError"||M.name==="MethodNotFoundRpcError"||M.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[P]},{retryCount:0}).then(B=>(rs.set(e.uid,!0),B)).catch(B=>{const S=B;throw S.name==="MethodNotFoundRpcError"||S.name==="MethodNotSupportedRpcError"?(rs.set(e.uid,!1),M):S});throw M}}if((m==null?void 0:m.type)==="local"){const A=await G(e,Cr,"prepareTransactionRequest")({account:m,accessList:r,authorizationList:s,blobs:i,chain:a,data:o,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:h,nonceManager:m.nonceManager,parameters:[...Ld,"sidecars"],value:b,...y,to:I}),C=(k=a==null?void 0:a.serializers)==null?void 0:k.transaction,P=await m.signTransaction(A,{serializer:C});return await G(e,Hi,"sendRawTransaction")({serializedTransaction:P})}throw(m==null?void 0:m.type)==="smart"?new Zr({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Zr({docsPath:"/docs/actions/wallet/sendTransaction",type:m==null?void 0:m.type})}catch(I){throw I instanceof Zr?I:function(A,{docsPath:C,...P}){const x=(()=>{const v=Ir(A,P);return v instanceof Aa?A:v})();return new Hp(x,{docsPath:C,...P})}(I,{...t,account:m,chain:t.chain||void 0})}}async function Kd(e,t){const{abi:n,account:a=e.account,address:r,args:s,dataSuffix:i,functionName:o,...c}=t;if(a===void 0)throw new sa({docsPath:"/docs/contract/writeContract"});const u=a?Ue(a):null,l=tt({abi:n,args:s,functionName:o});try{return await G(e,ai,"sendTransaction")({data:`${l}${i?i.replace("0x",""):""}`,to:r,account:u,...c})}catch(d){throw sn(d,{abi:n,address:r,args:s,docsPath:"/docs/contract/writeContract",functionName:o,sender:u==null?void 0:u.address})}}function Pt({abi:e,address:t,client:n}){const a=n,[r,s]=a?"public"in a&&"wallet"in a?[a.public,a.wallet]:"public"in a?[a.public,void 0]:"wallet"in a?[void 0,a.wallet]:[a,a]:[void 0,void 0],i=r!=null,o=s!=null,c={};let u=!1,l=!1,d=!1;for(const p of e)if(p.type==="function"?p.stateMutability==="view"||p.stateMutability==="pure"?u=!0:l=!0:p.type==="event"&&(d=!0),u&&l&&d)break;return i&&(u&&(c.read=new Proxy({},{get:(p,h)=>(...b)=>{const{args:y,options:m}=Za(b);return G(r,gt,"readContract")({abi:e,address:t,functionName:h,args:y,...m})}})),l&&(c.simulate=new Proxy({},{get:(p,h)=>(...b)=>{const{args:y,options:m}=Za(b);return G(r,Gd,"simulateContract")({abi:e,address:t,functionName:h,args:y,...m})}})),d&&(c.createEventFilter=new Proxy({},{get:(p,h)=>(...b)=>{const y=e.find(g=>g.type==="event"&&g.name===h),{args:m,options:f}=ss(b,y);return G(r,Si,"createContractEventFilter")({abi:e,address:t,eventName:h,args:m,...f})}}),c.getEvents=new Proxy({},{get:(p,h)=>(...b)=>{const y=e.find(g=>g.type==="event"&&g.name===h),{args:m,options:f}=ss(b,y);return G(r,ji,"getContractEvents")({abi:e,address:t,eventName:h,args:m,...f})}}),c.watchEvent=new Proxy({},{get:(p,h)=>(...b)=>{const y=e.find(g=>g.type==="event"&&g.name===h),{args:m,options:f}=ss(b,y);return G(r,qd,"watchContractEvent")({abi:e,address:t,eventName:h,args:m,...f})}}))),o&&l&&(c.write=new Proxy({},{get:(p,h)=>(...b)=>{const{args:y,options:m}=Za(b);return G(s,Kd,"writeContract")({abi:e,address:t,functionName:h,args:y,...m})}})),(i||o)&&l&&(c.estimateGas=new Proxy({},{get:(p,h)=>(...b)=>{const{args:y,options:m}=Za(b);return G(r??s,zd,"estimateContractGas")({abi:e,address:t,functionName:h,args:y,...m,account:m.account??s.account})}})),c.address=t,c.abi=e,c}function Za(e){const t=e.length&&Array.isArray(e[0]);return{args:t?e[0]:[],options:(t?e[1]:e[0])??{}}}function ss(e,t){let n=!1;return Array.isArray(e[0])?n=!0:e.length===1?n=t.inputs.some(a=>a.indexed):e.length===2&&(n=!0),{args:n?e[0]:void 0,options:(n?e[1]:e[0])??{}}}class Fy extends R{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}const zy=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];let Ja,Ya=256;function Vd(e=11){if(!Ja||Ya+e>512){Ja="",Ya=0;for(let t=0;t<256;t++)Ja+=(256+256*Math.random()|0).toString(16).substring(1)}return Ja.substring(Ya,Ya+++e)}function Wd(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,ccipRead:a,key:r="base",name:s="Base Client",pollingInterval:i=4e3,type:o="base"}=e,c=e.chain,u=e.account?Ue(e.account):void 0,{config:l,request:d,value:p}=e.transport({chain:c,pollingInterval:i}),h={account:u,batch:t,cacheTime:n,ccipRead:a,chain:c,key:r,name:s,pollingInterval:i,request:d,transport:{...l,...p},type:o,uid:Vd()};return Object.assign(h,{extend:function b(y){return m=>{const f=m(y);for(const w in h)delete f[w];const g={...y,...f};return Object.assign(g,{extend:b(g)})}}(h)})}const Xa=new Ca(8192);function ri(e,{delay:t=100,retryCount:n=2,shouldRetry:a=()=>!0}={}){return new Promise((r,s)=>{const i=async({count:o=0}={})=>{try{const c=await e();r(c)}catch(c){if(o<n&&await a({count:o,error:c}))return(async({error:u})=>{const l=typeof t=="function"?t({count:o,error:u}):t;l&&await ni(l),i({count:o+1})})({error:c});s(c)}};i()})}function Uy(e,t={}){return async(n,a={})=>{var l;const{dedupe:r=!1,methods:s,retryDelay:i=150,retryCount:o=3,uid:c}={...t,...a},{method:u}=n;if((l=s==null?void 0:s.exclude)!=null&&l.includes(u))throw new Jt(new Error("method not supported"),{method:u});if(s!=null&&s.include&&!s.include.includes(u))throw new Jt(new Error("method not supported"),{method:u});return function(d,{enabled:p=!0,id:h}){if(!p||!h)return d();if(Xa.get(h))return Xa.get(h);const b=d().finally(()=>Xa.delete(h));return Xa.set(h,b),b}(()=>ri(async()=>{try{return await e(n)}catch(d){const p=d;switch(p.code){case oa.code:throw new oa(p);case ca.code:throw new ca(p);case ua.code:throw new ua(p,{method:n.method});case da.code:throw new da(p);case en.code:throw new en(p);case rn.code:throw new rn(p);case la.code:throw new la(p);case pa.code:throw new pa(p);case ha.code:throw new ha(p);case Jt.code:throw new Jt(p,{method:n.method});case Mn.code:throw new Mn(p);case ya.code:throw new ya(p);case Nn.code:throw new Nn(p);case ma.code:throw new ma(p);case fa.code:throw new fa(p);case ba.code:throw new ba(p);case ga.code:throw new ga(p);case wa.code:throw new wa(p);case 5e3:throw new Nn(p);default:throw d instanceof R?d:new oy(p)}}},{delay:({count:d,error:p})=>{var h;if(p&&p instanceof ea){const b=(h=p==null?void 0:p.headers)==null?void 0:h.get("Retry-After");if(b!=null&&b.match(/\d/))return 1e3*Number.parseInt(b)}return(1<<d)*i},retryCount:o,shouldRetry:({error:d})=>function(p){return"code"in p&&typeof p.code=="number"?p.code===-1||p.code===Mn.code||p.code===en.code:p instanceof ea&&p.status?p.status===403||p.status===408||p.status===413||p.status===429||p.status===500||p.status===502||p.status===503||p.status===504:!0}(d)}),{enabled:r,id:r?he(`${c}.${Te(n)}`):void 0})}}function Gi({key:e,methods:t,name:n,request:a,retryCount:r=3,retryDelay:s=150,timeout:i,type:o},c){return{config:{key:e,methods:t,name:n,request:a,retryCount:r,retryDelay:s,timeout:i,type:o},request:Uy(a,{methods:t,retryCount:r,retryDelay:s,uid:Vd()}),value:c}}function jy(e,t={}){const{key:n="custom",methods:a,name:r="Custom Provider",retryDelay:s}=t;return({retryCount:i})=>Gi({key:n,methods:a,name:r,request:e.request.bind(e),retryCount:t.retryCount??i,retryDelay:s,type:"custom"})}class Zd extends R{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Jd(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:a}){return new Promise((r,s)=>{(async()=>{let i;try{const o=new AbortController;n>0&&(i=setTimeout(()=>{a?o.abort():s(t)},n)),r(await e({signal:(o==null?void 0:o.signal)||null}))}catch(o){(o==null?void 0:o.name)==="AbortError"&&s(t),s(o)}finally{clearTimeout(i)}})()})}function Dy(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const si=Dy();function Hy(e,t={}){const{batch:n,fetchOptions:a,key:r="http",methods:s,name:i="HTTP JSON-RPC",onFetchRequest:o,onFetchResponse:c,retryDelay:u,raw:l}=t;return({chain:d,retryCount:p,timeout:h})=>{const{batchSize:b=1e3,wait:y=0}=typeof n=="object"?n:{},m=t.retryCount??p,f=h??t.timeout??1e4,g=e||(d==null?void 0:d.rpcUrls.default.http[0]);if(!g)throw new Zd;const w=function(k,I={}){return{async request(A){var T;const{body:C,onRequest:P=I.onRequest,onResponse:x=I.onResponse,timeout:v=I.timeout??1e4}=A,E={...I.fetchOptions??{},...A.fetchOptions??{}},{headers:M,method:B,signal:S}=E;try{const $=await Jd(async({signal:L})=>{const F={...E,body:Array.isArray(C)?Te(C.map(ae=>({jsonrpc:"2.0",id:ae.id??si.take(),...ae}))):Te({jsonrpc:"2.0",id:C.id??si.take(),...C}),headers:{"Content-Type":"application/json",...M},method:B||"POST",signal:S||(v>0?L:null)},K=new Request(k,F),q=await(P==null?void 0:P(K,F))??{...F,url:k};return await fetch(q.url??k,q)},{errorInstance:new Xs({body:C,url:k}),timeout:v,signal:!0});let _;if(x&&await x($),(T=$.headers.get("Content-Type"))==null?void 0:T.startsWith("application/json"))_=await $.json();else{_=await $.text();try{_=JSON.parse(_||"{}")}catch(L){if($.ok)throw L;_={error:_}}}if(!$.ok)throw new ea({body:C,details:Te(_.error)||$.statusText,headers:$.headers,status:$.status,url:k});return _}catch($){throw $ instanceof ea||$ instanceof Xs?$:new ea({body:C,cause:$,url:k})}}}}(g,{fetchOptions:a,onRequest:o,onResponse:c,timeout:f});return Gi({key:r,methods:s,name:i,async request({method:k,params:I}){const A={method:k,params:I},{schedule:C}=Di({id:g,wait:y,shouldSplitBatch:v=>v.length>b,fn:v=>w.request({body:v}),sort:(v,E)=>v.id-E.id}),[{error:P,result:x}]=await(async v=>n?C(v):[await w.request({body:v})])(A);if(l)return{error:P,result:x};if(P)throw new xr({body:A,error:P,url:g});return x},retryCount:m,retryDelay:u,timeout:f,type:"http"},{fetchOptions:a,url:g})}}function ii(e,t){var a,r,s,i,o,c;if(!(e instanceof R))return!1;const n=e.walk(u=>u instanceof Ys);return n instanceof Ys&&(((a=n.data)==null?void 0:a.errorName)==="ResolverNotFound"||((r=n.data)==null?void 0:r.errorName)==="ResolverWildcardNotSupported"||((s=n.data)==null?void 0:s.errorName)==="ResolverNotContract"||((i=n.data)==null?void 0:i.errorName)==="ResolverError"||((o=n.data)==null?void 0:o.errorName)==="HttpError"||!!((c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported"))||t==="reverse"&&n.reason===ud[50])}function Yd(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return vt(t)?t:null}function ir(e){let t=new Uint8Array(32).fill(0);if(!e)return Ee(t);const n=e.split(".");for(let a=n.length-1;a>=0;a-=1){const r=Yd(n[a]),s=r?Ln(r):ye(Qt(n[a]),"bytes");t=ye(Nt([t,s]),"bytes")}return Ee(t)}function Gy(e){return`[${e.slice(2)}]`}function qy(e){const t=new Uint8Array(32).fill(0);return e?Yd(e)||ye(Qt(e)):Ee(t)}function or(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Qt(t).byteLength+2);let a=0;const r=t.split(".");for(let s=0;s<r.length;s++){let i=Qt(r[s]);i.byteLength>255&&(i=Qt(Gy(qy(r[s])))),n[a]=i.length,n.set(i,a+1),a+=i.length+1}return n.byteLength!==a+1?n.slice(0,a+1):n}class Ky extends R{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class Wn extends R{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class qi extends R{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Vy extends R{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Wy=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Zy=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Jy=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Yy=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;function mc(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Xd({uri:e,gatewayUrls:t}){const n=Jy.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const a=mc(t==null?void 0:t.ipfs,"https://ipfs.io"),r=mc(t==null?void 0:t.arweave,"https://arweave.net"),s=e.match(Wy),{protocol:i,subpath:o,target:c,subtarget:u=""}=(s==null?void 0:s.groups)||{},l=i==="ipns:/"||o==="ipns/",d=i==="ipfs:/"||o==="ipfs/"||Zy.test(e);if(e.startsWith("http")&&!l&&!d){let h=e;return t!=null&&t.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((l||d)&&c)return{uri:`${a}/${l?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${r}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let p=e.replace(Yy,"");if(p.startsWith("<svg")&&(p=`data:image/svg+xml;base64,${btoa(p)}`),p.startsWith("data:")||p.startsWith("{"))return{uri:p,isOnChain:!0,isEncoded:!1};throw new qi({uri:e})}function fc(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Ky({data:e});return e.image||e.image_url||e.image_data}async function is({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:a}=Xd({uri:t,gatewayUrls:e});if(a||await async function(s){try{const i=await fetch(s,{method:"HEAD"});if(i.status===200){const o=i.headers.get("content-type");return o==null?void 0:o.startsWith("image/")}return!1}catch(i){return(typeof i!="object"||i.response===void 0)&&!!globalThis.hasOwnProperty("Image")&&new Promise(o=>{const c=new Image;c.onload=()=>{o(!0)},c.onerror=()=>{o(!1)},c.src=s})}}(n))return n;throw new qi({uri:t})}async function Xy(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?async function(a,{gatewayUrls:r,record:s}){const i=function(p){let h=p;h.startsWith("did:nft:")&&(h=h.replace("did:nft:","").replace(/_/g,"/"));const[b,y,m]=h.split("/"),[f,g]=b.split(":"),[w,k]=y.split(":");if(!f||f.toLowerCase()!=="eip155")throw new Wn({reason:"Only EIP-155 supported"});if(!g)throw new Wn({reason:"Chain ID not found"});if(!k)throw new Wn({reason:"Contract address not found"});if(!m)throw new Wn({reason:"Token ID not found"});if(!w)throw new Wn({reason:"ERC namespace not found"});return{chainID:Number.parseInt(g),namespace:w.toLowerCase(),contractAddress:k,tokenID:m}}(s),o=await async function(p,{nft:h}){if(h.namespace==="erc721")return gt(p,{address:h.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(h.tokenID)]});if(h.namespace==="erc1155")return gt(p,{address:h.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(h.tokenID)]});throw new Vy({namespace:h.namespace})}(a,{nft:i}),{uri:c,isOnChain:u,isEncoded:l}=Xd({uri:o,gatewayUrls:r});if(u&&(c.includes("data:application/json;base64,")||c.startsWith("{"))){const p=l?atob(c.replace("data:application/json;base64,","")):c;return is({uri:fc(JSON.parse(p)),gatewayUrls:r})}let d=i.tokenID;return i.namespace==="erc1155"&&(d=d.replace("0x","").padStart(64,"0")),async function({gatewayUrls:p,uri:h}){try{const b=await fetch(h).then(y=>y.json());return await is({gatewayUrls:p,uri:fc(b)})}catch{throw new qi({uri:h})}}({gatewayUrls:r,uri:c.replace(/(?:0x)?{id}/,d)})}(e,{gatewayUrls:t,record:n}):is({uri:n,gatewayUrls:t})}async function bc(e,{blockNumber:t,blockTag:n,name:a,key:r,gatewayUrls:s,strict:i,universalResolverAddress:o}){let c=o;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=Cn({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u={address:c,abi:jd,functionName:"resolve",args:[te(or(a)),tt({abi:lc,functionName:"text",args:[ir(a),r]})],blockNumber:t,blockTag:n},l=G(e,gt,"readContract"),d=s?await l({...u,args:[...u.args,s]}):await l(u);if(d[0]==="0x")return null;const p=on({abi:lc,functionName:"text",data:d[0]});return p===""?null:p}catch(u){if(i)throw u;if(ii(u,"resolve"))return null;throw u}}async function Qd(e,t){var m,f,g;const{account:n=e.account,blockNumber:a,blockTag:r="latest",blobs:s,data:i,gas:o,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,to:p,value:h,...b}=t,y=n?Ue(n):void 0;try{un(t);const w=(a?W(a):void 0)||r,k=(g=(f=(m=e.chain)==null?void 0:m.formatters)==null?void 0:f.transactionRequest)==null?void 0:g.format,I=(k||Fn)({...Er(b,{format:k}),from:y==null?void 0:y.address,blobs:s,data:i,gas:o,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,to:p,value:h}),A=await e.request({method:"eth_createAccessList",params:[I,w]});return{accessList:A.accessList,gasUsed:BigInt(A.gasUsed)}}catch(w){throw Td(w,{...t,account:y,chain:e.chain})}}async function gc(e,{address:t,args:n,event:a,events:r,fromBlock:s,strict:i,toBlock:o}={}){const c=r??(a?[a]:void 0),u=Ar(e,{method:"eth_newFilter"});let l=[];c&&(l=[c.flatMap(h=>Na({abi:[h],eventName:h.name,args:n}))],a&&(l=l[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof s=="bigint"?W(s):s,toBlock:typeof o=="bigint"?W(o):o,...l.length?{topics:l}:{}}]});return{abi:c,args:n,eventName:a?a.name:void 0,fromBlock:s,id:d,request:u(d),strict:!!i,toBlock:o,type:"event"}}async function wc(e){const t=Ar(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Qy(e,{blockCount:t,blockNumber:n,blockTag:a="latest",rewardPercentiles:r}){const s=n?W(n):void 0;return function(i){var o;return{baseFeePerGas:i.baseFeePerGas.map(c=>BigInt(c)),gasUsedRatio:i.gasUsedRatio,oldestBlock:BigInt(i.oldestBlock),reward:(o=i.reward)==null?void 0:o.map(c=>c.map(u=>BigInt(u)))}}(await e.request({method:"eth_feeHistory",params:[W(t),s||a,r]},{dedupe:!!s}))}const os=new Map;async function Qa(e,t={}){const{keepAlive:n,reconnect:a}=t;return async function(r){const{getSocket:s,keepAlive:i=!0,key:o="socket",reconnect:c=!0,url:u}=r,{interval:l=3e4}=typeof i=="object"?i:{},{attempts:d=5,delay:p=2e3}=typeof c=="object"?c:{};let h=os.get(`${o}:${u}`);if(h)return h;let b=0;const{schedule:y}=Di({id:`${o}:${u}`,fn:async()=>{const g=new Map,w=new Map;let k,I,A;return await async function C(){const P=await s({onClose(){var x,v;for(const E of g.values())(x=E.onError)==null||x.call(E,new qa({url:u}));for(const E of w.values())(v=E.onError)==null||v.call(E,new qa({url:u}));g.clear(),w.clear(),c&&b<d&&setTimeout(async()=>{b++,await C().catch(console.error)},p)},onError(x){var v,E;k=x;for(const M of g.values())(v=M.onError)==null||v.call(M,k);for(const M of w.values())(E=M.onError)==null||E.call(M,k);g.clear(),w.clear(),h==null||h.close(),c&&b<d&&setTimeout(async()=>{b++,await C().catch(console.error)},p)},onOpen(){k=void 0,b=0},onResponse(x){const v=x.method==="eth_subscription",E=v?x.params.subscription:x.id,M=v?w:g,B=M.get(E);B&&B.onResponse(x),v||M.delete(E)}});return I=P,i&&(A&&clearInterval(A),A=setInterval(()=>{var x;return(x=I.ping)==null?void 0:x.call(I)},l)),P}(),k=void 0,h={close(){A&&clearInterval(A),I.close(),os.delete(`${o}:${u}`)},get socket(){return I},request({body:C,onError:P,onResponse:x}){k&&P&&P(k);const v=C.id??si.take(),E=M=>{var B;typeof M.id=="number"&&v!==M.id||(C.method==="eth_subscribe"&&typeof M.result=="string"&&w.set(M.result,{onResponse:E,onError:P}),C.method==="eth_unsubscribe"&&w.delete((B=C.params)==null?void 0:B[0]),x(M))};g.set(v,{onResponse:E,onError:P});try{I.request({body:{jsonrpc:"2.0",id:v,...C}})}catch(M){P==null||P(M)}},requestAsync({body:C,timeout:P=1e4}){return Jd(()=>new Promise((x,v)=>this.request({body:C,onError:v,onResponse:x})),{errorInstance:new Xs({body:C,url:u}),timeout:P})},requests:g,subscriptions:w,url:u},os.set(`${o}:${u}`,h),[h]}}),[m,[f]]=await y();return f}({async getSocket({onClose:r,onError:s,onOpen:i,onResponse:o}){const c=await ki(()=>import("./native-1CwPW0YV.js"),[]).then(h=>h.WebSocket),u=new c(e);function l(){u.removeEventListener("close",l),u.removeEventListener("message",d),u.removeEventListener("error",s),u.removeEventListener("open",i),r()}function d({data:h}){try{const b=JSON.parse(h);o(b)}catch(b){s(b)}}u.addEventListener("close",l),u.addEventListener("message",d),u.addEventListener("error",s),u.addEventListener("open",i),u.readyState===c.CONNECTING&&await new Promise((h,b)=>{u&&(u.onopen=h,u.onerror=b)});const{close:p}=u;return Object.assign(u,{close(){p.bind(u)(),l()},ping(){try{if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new Vo({url:u.url,cause:new qa({url:u.url})});const h={jsonrpc:"2.0",method:"net_version",params:[]};u.send(JSON.stringify(h))}catch(h){s(h)}},request({body:h}){if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new Vo({body:h,url:u.url,cause:new qa({url:u.url})});return u.send(JSON.stringify(h))}})},keepAlive:n,reconnect:a,url:e})}class em extends R{constructor({domain:t}){super(`Invalid domain "${Te(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class tm extends R{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class nm extends R{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function el(e){const{domain:t={},message:n,primaryType:a}=e,r={EIP712Domain:sl({domain:t}),...e.types};rl({domain:t,message:n,primaryType:a,types:r});const s=["0x1901"];return t&&s.push(function({domain:i,types:o}){return vc({data:i,primaryType:"EIP712Domain",types:o})}({domain:t,types:r})),a!=="EIP712Domain"&&s.push(vc({data:n,primaryType:a,types:r})),ye(Nt(s))}function vc({data:e,primaryType:t,types:n}){return ye(tl({data:e,primaryType:t,types:n}))}function tl({data:e,primaryType:t,types:n}){const a=[{type:"bytes32"}],r=[am({primaryType:t,types:n})];for(const s of n[t]){const[i,o]=al({types:n,name:s.name,type:s.type,value:e[s.name]});a.push(i),r.push(o)}return ot(a,r)}function am({primaryType:e,types:t}){const n=te(function({primaryType:a,types:r}){let s="";const i=nl({primaryType:a,types:r});i.delete(a);const o=[a,...Array.from(i).sort()];for(const c of o)s+=`${c}(${r[c].map(({name:u,type:l})=>`${l} ${u}`).join(",")})`;return s}({primaryType:e,types:t}));return ye(n)}function nl({primaryType:e,types:t},n=new Set){const a=e.match(/^\w*/u),r=a==null?void 0:a[0];if(n.has(r)||t[r]===void 0)return n;n.add(r);for(const s of t[r])nl({primaryType:s.type,types:t},n);return n}function al({types:e,name:t,type:n,value:a}){if(e[n]!==void 0)return[{type:"bytes32"},ye(tl({data:a,primaryType:n,types:e}))];if(n==="bytes")return[{type:"bytes32"},ye(a=`0x${(a.length%2?"0":"")+a.slice(2)}`)];if(n==="string")return[{type:"bytes32"},ye(te(a))];if(n.lastIndexOf("]")===n.length-1){const r=n.slice(0,n.lastIndexOf("[")),s=a.map(i=>al({name:t,type:r,types:e,value:i}));return[{type:"bytes32"},ye(ot(s.map(([i])=>i),s.map(([,i])=>i)))]}return[{type:n},a]}function rl(e){const{domain:t,message:n,primaryType:a,types:r}=e,s=(i,o)=>{for(const c of i){const{name:u,type:l}=c,d=o[u],p=l.match($i);if(p&&(typeof d=="number"||typeof d=="bigint")){const[y,m,f]=p;W(d,{signed:m==="int",size:Number.parseInt(f)/8})}if(l==="address"&&typeof d=="string"&&!Se(d))throw new ze({address:d});const h=l.match(Id);if(h){const[y,m]=h;if(m&&ge(d)!==Number.parseInt(m))throw new yd({expectedSize:Number.parseInt(m),givenSize:ge(d)})}const b=r[l];b&&(rm(l),s(b,d))}};if(r.EIP712Domain&&t){if(typeof t!="object")throw new em({domain:t});s(r.EIP712Domain,t)}if(a!=="EIP712Domain"){if(!r[a])throw new tm({primaryType:a,types:r});s(r[a],n)}}function sl({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function rm(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new nm({type:e})}function wn(e,t){if(e.length!==t.length)throw new ld({expectedLength:e.length,givenLength:t.length});const n=[];for(let a=0;a<e.length;a++){const r=e[a],s=t[a];n.push(il(r,s))}return it(n)}function il(e,t,n=!1){if(e==="address"){const i=t;if(!Se(i))throw new ze({address:i});return Ot(i.toLowerCase(),{size:n?32:null})}if(e==="string")return he(t);if(e==="bytes")return t;if(e==="bool")return Ot(Ii(t),{size:n?32:1});const a=e.match($i);if(a){const[i,o,c="256"]=a,u=Number.parseInt(c)/8;return W(t,{size:n?32:u,signed:o==="int"})}const r=e.match(Id);if(r){const[i,o]=r;if(Number.parseInt(o)!==(t.length-2)/2)throw new yd({expectedSize:Number.parseInt(o),givenSize:(t.length-2)/2});return Ot(t,{dir:"right",size:n?32:null})}const s=e.match(ey);if(s&&Array.isArray(t)){const[i,o]=s,c=[];for(let u=0;u<t.length;u++)c.push(il(o,t[u],!0));return c.length===0?"0x":it(c)}throw new Ph(e)}function Ki(e,t){return ye(function(n){const a=typeof n=="string"?he(n):typeof n.raw=="string"?n.raw:Ee(n.raw);return Nt([he(`Ethereum Signed Message:
${ge(a)}`),a])}(e),t)}const kc="0x6492649264926492649264926492649264926492649264926492649264926492";async function sm(e,{address:t,blockNumber:n,blockTag:a,storageKeys:r}){const s=a??"latest",i=n!==void 0?W(n):void 0;return function(o){return{...o,balance:o.balance?BigInt(o.balance):void 0,nonce:o.nonce?xt(o.nonce):void 0,storageProof:o.storageProof?(c=o.storageProof,c.map(u=>({...u,value:BigInt(u.value)}))):void 0};var c}(await e.request({method:"eth_getProof",params:[t,r,i||s]}))}async function cs(e,{blockHash:t,blockNumber:n,blockTag:a,hash:r,index:s}){var u,l,d;const i=a||"latest",o=n!==void 0?W(n):void 0;let c=null;if(c=r?await e.request({method:"eth_getTransactionByHash",params:[r]},{dedupe:!0}):t?await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,W(s)]},{dedupe:!0}):await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[o||i,W(s)]},{dedupe:!!o}),!c)throw new Gu({blockHash:t,blockNumber:n,blockTag:i,hash:r,index:s});return(((d=(l=(u=e.chain)==null?void 0:u.formatters)==null?void 0:l.transaction)==null?void 0:d.format)||zu)(c)}async function us(e,{hash:t}){var a,r,s;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new qu({hash:t});return(((s=(r=(a=e.chain)==null?void 0:a.formatters)==null?void 0:r.transactionReceipt)==null?void 0:s.format)||Op)(n)}const Mr=BigInt(0),hr=BigInt(1),im=BigInt(2);function cn(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function $a(e){if(!cn(e))throw new Error("Uint8Array expected")}function On(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const om=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Sn(e){$a(e);let t="";for(let n=0;n<e.length;n++)t+=om[e[n]];return t}function Tn(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function Vi(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Mr:BigInt("0x"+e)}const xc=48,cm=57,Ic=65,um=70,Ec=97,dm=102;function Ac(e){return e>=xc&&e<=cm?e-xc:e>=Ic&&e<=um?e-(Ic-10):e>=Ec&&e<=dm?e-(Ec-10):void 0}function Rn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const a=new Uint8Array(n);for(let r=0,s=0;r<n;r++,s+=2){const i=Ac(e.charCodeAt(s)),o=Ac(e.charCodeAt(s+1));if(i===void 0||o===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}a[r]=16*i+o}return a}function Yt(e){return Vi(Sn(e))}function Wi(e){return $a(e),Vi(Sn(Uint8Array.from(e).reverse()))}function Bn(e,t){return Rn(e.toString(16).padStart(2*t,"0"))}function Zi(e,t){return Bn(e,t).reverse()}function rt(e,t,n){let a;if(typeof t=="string")try{a=Rn(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else{if(!cn(t))throw new Error(e+" must be hex string or Uint8Array");a=Uint8Array.from(t)}const r=a.length;if(typeof n=="number"&&r!==n)throw new Error(e+" of length "+n+" expected, got "+r);return a}function ka(...e){let t=0;for(let a=0;a<e.length;a++){const r=e[a];$a(r),t+=r.length}const n=new Uint8Array(t);for(let a=0,r=0;a<e.length;a++){const s=e[a];n.set(s,r),r+=s.length}return n}const ds=e=>typeof e=="bigint"&&Mr<=e;function Nr(e,t,n){return ds(e)&&ds(t)&&ds(n)&&t<=e&&e<n}function tn(e,t,n,a){if(!Nr(t,n,a))throw new Error("expected valid "+e+": "+n+" <= n < "+a+", got "+t)}function ol(e){let t;for(t=0;e>Mr;e>>=hr,t+=1);return t}const Ji=e=>(im<<BigInt(e-1))-hr,ls=e=>new Uint8Array(e),Cc=e=>Uint8Array.from(e);function cl(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let a=ls(e),r=ls(e),s=0;const i=()=>{a.fill(1),r.fill(0),s=0},o=(...l)=>n(r,a,...l),c=(l=ls())=>{r=o(Cc([0]),l),a=o(),l.length!==0&&(r=o(Cc([1]),l),a=o())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const d=[];for(;l<t;){a=o();const p=a.slice();d.push(p),l+=a.length}return ka(...d)};return(l,d)=>{let p;for(i(),c(l);!(p=d(u()));)c();return i(),p}}const lm={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||cn(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function xa(e,t,n={}){const a=(r,s,i)=>{const o=lm[s];if(typeof o!="function")throw new Error("invalid validator function");const c=e[r];if(!(i&&c===void 0||o(c,e)))throw new Error("param "+String(r)+" is invalid. Expected "+s+", got "+c)};for(const[r,s]of Object.entries(t))a(r,s,!1);for(const[r,s]of Object.entries(n))a(r,s,!0);return e}function oi(e){const t=new WeakMap;return(n,...a)=>{const r=t.get(n);if(r!==void 0)return r;const s=e(n,...a);return t.set(n,s),s}}const pm=Object.freeze(Object.defineProperty({__proto__:null,aInRange:tn,abool:On,abytes:$a,bitGet:function(e,t){return e>>BigInt(t)&hr},bitLen:ol,bitMask:Ji,bitSet:function(e,t,n){return e|(n?hr:Mr)<<BigInt(t)},bytesToHex:Sn,bytesToNumberBE:Yt,bytesToNumberLE:Wi,concatBytes:ka,createHmacDrbg:cl,ensureBytes:rt,equalBytes:function(e,t){if(e.length!==t.length)return!1;let n=0;for(let a=0;a<e.length;a++)n|=e[a]^t[a];return n===0},hexToBytes:Rn,hexToNumber:Vi,inRange:Nr,isBytes:cn,memoized:oi,notImplemented:()=>{throw new Error("not implemented")},numberToBytesBE:Bn,numberToBytesLE:Zi,numberToHexUnpadded:Tn,numberToVarBytesBE:function(e){return Rn(Tn(e))},utf8ToBytes:function(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))},validateObject:xa},Symbol.toStringTag,{value:"Module"}));class me extends Error{constructor(t,n={}){const a=(()=>{var o;if(n.cause instanceof me){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return(o=n.cause)!=null&&o.message?n.cause.message:n.details})(),r=n.cause instanceof me&&n.cause.docsPath||n.docsPath,s=`https://oxlib.sh${r??""}`,i=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...a||r?["",a?`Details: ${a}`:void 0,r?`See: ${s}`:void 0]:[]].filter(o=>typeof o=="string").join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=n.cause,this.details=a,this.docs=s,this.docsPath=r,this.shortMessage=t}walk(t){return ul(this,t)}}function ul(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?ul(e.cause,t):t?null:e}const Tc=48,hm=57,Pc=65,ym=70,Mc=97,mm=102;function Nc(e){return e>=Tc&&e<=hm?e-Tc:e>=Pc&&e<=ym?e-(Pc-10):e>=Mc&&e<=mm?e-(Mc-10):void 0}function Yi(e,t){if(Xe(e)>t)throw new Em({givenSize:Xe(e),maxSize:t})}function dl(e,t={}){const{dir:n,size:a=32}=t;if(a===0)return e;const r=e.replace("0x","");if(r.length>2*a)throw new Am({size:Math.ceil(r.length/2),targetSize:a,type:"Hex"});return`0x${r[n==="right"?"padEnd":"padStart"](2*a,"0")}`}const fm=new TextEncoder;function bm(e){return e instanceof Uint8Array?e:typeof e=="string"?function(t,n={}){const{size:a}=n;let r=t;a&&(Yi(t,a),r=Xt(t,a));let s=r.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,o=new Uint8Array(i);for(let c=0,u=0;c<i;c++){const l=Nc(s.charCodeAt(u++)),d=Nc(s.charCodeAt(u++));if(l===void 0||d===void 0)throw new me(`Invalid byte sequence ("${s[u-2]}${s[u-1]}" in "${s}").`);o[c]=16*l+d}return o}(e):function(t){return t instanceof Uint8Array?t:new Uint8Array(t)}(e)}function gm(e,t={}){const{size:n}=t,a=fm.encode(e);return typeof n=="number"?(function(r,s){if(Bc(r)>s)throw new wm({givenSize:Bc(r),maxSize:s})}(a,n),function(r,s){return function(i,o={}){const{dir:c,size:u=32}=o;if(u===0)return i;if(i.length>u)throw new vm({size:i.length,targetSize:u,type:"Bytes"});const l=new Uint8Array(u);for(let d=0;d<u;d++){const p=c==="right";l[p?d:u-d-1]=i[p?d:i.length-d-1]}return l}(r,{dir:"right",size:s})}(a,n)):a}function Bc(e){return e.length}let wm=class extends me{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},vm=class extends me{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const km=new TextEncoder,xm=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function wt(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function ll(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Yi(n,t.size),nn(n,t.size)):n}function pl(e,t={}){let n="";for(let r=0;r<e.length;r++)n+=xm[e[r]];const a=`0x${n}`;return typeof t.size=="number"?(Yi(a,t.size),Xt(a,t.size)):a}function De(e,t={}){const{signed:n,size:a}=t,r=BigInt(e);let s;a?s=n?(1n<<8n*BigInt(a)-1n)-1n:2n**(8n*BigInt(a))-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof s=="bigint"&&n?-s-1n:0;if(s&&r>s||r<i){const c=typeof e=="bigint"?"n":"";throw new hl({max:s?`${s}${c}`:void 0,min:`${i}${c}`,signed:n,size:a,value:`${e}${c}`})}const o=`0x${(n&&r<0?(1n<<BigInt(8*a))+BigInt(r):r).toString(16)}`;return a?nn(o,a):o}function Xi(e,t={}){return pl(km.encode(e),t)}function nn(e,t){return dl(e,{dir:"left",size:t})}function Xt(e,t){return dl(e,{dir:"right",size:t})}function Qi(e,t,n,a={}){const{strict:r}=a;(function(i,o){if(typeof o=="number"&&o>0&&o>Xe(i)-1)throw new Sc({offset:o,position:"start",size:Xe(i)})})(e,t);const s=`0x${e.replace("0x","").slice(2*(t??0),2*(n??e.length))}`;return r&&function(i,o,c){if(typeof o=="number"&&typeof c=="number"&&Xe(i)!==c-o)throw new Sc({offset:c,position:"end",size:Xe(i)})}(s,t,n),s}function Xe(e){return Math.ceil((e.length-2)/2)}function Im(e,t={}){const{strict:n=!1}=t;try{return function(a,r={}){const{strict:s=!1}=r;if(!a)throw new $c(a);if(typeof a!="string")throw new $c(a);if(s&&!/^0x[0-9a-fA-F]*$/.test(a))throw new Oc(a);if(!a.startsWith("0x"))throw new Oc(a)}(e,{strict:n}),!0}catch{return!1}}class hl extends me{constructor({max:t,min:n,signed:a,size:r,value:s}){super(`Number \`${s}\` is not in safe${r?` ${8*r}-bit`:""}${a?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class $c extends me{constructor(t){super(`Value \`${typeof t=="object"?function(n,a,r){return JSON.stringify(n,(s,i)=>typeof i=="bigint"?i.toString()+"#__bigint":i,r)}(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class Oc extends me{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class Em extends me{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Sc extends me{constructor({offset:t,position:n,size:a}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${a}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class Am extends me{constructor({size:t,targetSize:n,type:a}){super(`${a.charAt(0).toUpperCase()}${a.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function Cm(e){return{address:e.address,amount:De(e.amount),index:De(e.index),validatorIndex:De(e.validatorIndex)}}function Tm(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:De(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:De(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:De(e.gasLimit)},...typeof e.number=="bigint"&&{number:De(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:De(e.prevRandao)},...typeof e.time=="bigint"&&{time:De(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(Cm)}}}async function ci(e,t){const{blockNumber:n,blockTag:a="latest",blocks:r,returnFullTransactions:s,traceTransfers:i,validation:o}=t;try{const c=[];for(const l of r){const d=l.blockOverrides?Tm(l.blockOverrides):void 0,p=l.calls.map(b=>{const y=b,m=y.account?Ue(y.account):void 0,f={...y,data:y.abi?tt(y):y.data,from:y.from??(m==null?void 0:m.address)};return un(f),Fn(f)}),h=l.stateOverrides?Ri(l.stateOverrides):void 0;c.push({blockOverrides:d,calls:p,stateOverrides:h})}const u=(n?W(n):void 0)||a;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:s,traceTransfers:i,validation:o},u]})).map((l,d)=>({...Uu(l),calls:l.calls.map((p,h)=>{var P,x;const{abi:b,args:y,functionName:m,to:f}=r[d].calls[h],g=((P=p.error)==null?void 0:P.data)??p.returnData,w=BigInt(p.gasUsed),k=(x=p.logs)==null?void 0:x.map(v=>St(v)),I=p.status==="0x1"?"success":"failure",A=b&&I==="success"?on({abi:b,data:g,functionName:m}):null,C=(()=>{var E;if(I==="success")return;let v;return((E=p.error)==null?void 0:E.data)==="0x"?v=new Pa:p.error&&(v=new kr(p.error)),v?sn(v,{abi:b??[],address:f,args:y,functionName:m??"<unknown>"}):void 0})();return{data:g,gasUsed:w,logs:k,status:I,...I==="success"?{result:A}:{error:C}}})}))}catch(c){const u=c,l=Ir(u,{});throw l instanceof Aa?u:l}}function yl(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,a=td(bm(e));return n==="Bytes"?a:pl(a)}class Pm extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const a=this.keys().next().value;a&&this.delete(a)}return this}}const ps={checksum:new Pm(8192)}.checksum,Mm=/^0x[a-fA-F0-9]{40}$/;function Br(e,t={}){const{strict:n=!0}=t;if(!Mm.test(e))throw new Rc({address:e,cause:new Nm});if(n){if(e.toLowerCase()===e)return;if(function(a){if(ps.has(a))return ps.get(a);Br(a,{strict:!1});const r=a.substring(2).toLowerCase(),s=yl(gm(r),{as:"Bytes"}),i=r.split("");for(let c=0;c<40;c+=2)s[c>>1]>>4>=8&&i[c]&&(i[c]=i[c].toUpperCase()),(15&s[c>>1])>=8&&i[c+1]&&(i[c+1]=i[c+1].toUpperCase());const o=`0x${i.join("")}`;return ps.set(a,o),o}(e)!==e)throw new Rc({address:e,cause:new Bm})}}function ml(e,t={}){const{strict:n=!0}=t??{};try{return Br(e,{strict:n}),!0}catch{return!1}}class Rc extends me{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Nm extends me{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Bm extends me{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function ui(e){let t=!0,n="",a=0,r="",s=!1;for(let i=0;i<e.length;i++){const o=e[i];if(["(",")",","].includes(o)&&(t=!0),o==="("&&a++,o===")"&&a--,t){if(a!==0)o!==" "?(r+=o,n+=o):e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);else if(o===" "&&["event","function","error",""].includes(r))r="";else if(r+=o,o===")"){s=!0;break}}}if(!s)throw new me("Unable to normalize signature.");return r}function di(e,t){const n=typeof e,a=t.type;switch(a){case"address":return ml(e,{strict:!1});case"bool":return n==="boolean";case"function":case"string":return n==="string";default:return a==="tuple"&&"components"in t?Object.values(t.components).every((r,s)=>di(Object.values(e)[s],r)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(a)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(a)?n==="string"||e instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(a)&&Array.isArray(e)&&e.every(r=>di(r,{...t,type:a.replace(/(\[[0-9]{0,}\])$/,"")}))}}function fl(e,t,n){for(const a in e){const r=e[a],s=t[a];if(r.type==="tuple"&&s.type==="tuple"&&"components"in r&&"components"in s)return fl(r.components,s.components,n[a]);const i=[r.type,s.type];if(!(!i.includes("address")||!i.includes("bytes20"))||(i.includes("address")&&i.includes("string")||!(!i.includes("address")||!i.includes("bytes")))&&ml(n[a],{strict:!1}))return i}}function bl(e,t={}){const{prepare:n=!0}=t,a=Array.isArray(e)||typeof e=="string"?Jh(e):e;return{...a,...n?{hash:Pn(a)}:{}}}function _c(e){return Qi(Pn(e),0,4)}function Pn(e){return typeof e!="string"&&"hash"in e&&e.hash?e.hash:yl(Xi(function(t){return ui(typeof t=="string"?t:lr(t))}(e)))}class $m extends me{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${ui(lr(t.abiItem))}\`, and`,`\`${n.type}\` in \`${ui(lr(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class hs extends me{constructor({name:t,data:n,type:a="item"}){super(`ABI ${a}${t?` with name "${t}"`:n?` with data "${n}"`:""} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}const Om=/^(.*)\[([0-9]*)\]$/,Sm=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,gl=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function li({checksumAddress:e=!1,parameter:t,value:n}){const a=t,r=function(s){const i=s.match(/^(.*)\[(\d+)?\]$/);return i?[i[2]?Number(i[2]):null,i[1]]:void 0}(a.type);if(r){const[s,i]=r;return function(o,c){const{checksumAddress:u,length:l,parameter:d}=c,p=l===null;if(!Array.isArray(o))throw new _m(o);if(!p&&o.length!==l)throw new Rm({expectedLength:l,givenLength:o.length,type:`${d.type}[${l}]`});let h=!1;const b=[];for(let y=0;y<o.length;y++){const m=li({checksumAddress:u,parameter:d,value:o[y]});m.dynamic&&(h=!0),b.push(m)}if(p||h){const y=pi(b);if(p){const m=De(b.length,{size:32});return{dynamic:!0,encoded:b.length>0?wt(m,y):m}}if(h)return{dynamic:!0,encoded:y}}return{dynamic:!1,encoded:wt(...b.map(({encoded:y})=>y))}}(n,{checksumAddress:e,length:s,parameter:{...a,type:i}})}if(a.type==="tuple")return function(s,i){const{checksumAddress:o,parameter:c}=i;let u=!1;const l=[];for(let d=0;d<c.components.length;d++){const p=c.components[d],h=li({checksumAddress:o,parameter:p,value:s[Array.isArray(s)?d:p.name]});l.push(h),h.dynamic&&(u=!0)}return{dynamic:u,encoded:u?pi(l):wt(...l.map(({encoded:d})=>d))}}(n,{checksumAddress:e,parameter:a});if(a.type==="address")return function(s,i){const{checksum:o=!1}=i;return Br(s,{strict:o}),{dynamic:!1,encoded:nn(s.toLowerCase())}}(n,{checksum:e});if(a.type==="bool")return function(s){if(typeof s!="boolean")throw new me(`Invalid boolean value: "${s}" (type: ${typeof s}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:nn(ll(s))}}(n);if(a.type.startsWith("uint")||a.type.startsWith("int")){const s=a.type.startsWith("int"),[,,i="256"]=gl.exec(a.type)??[];return function(o,{signed:c,size:u}){if(typeof u=="number"){const l=2n**(BigInt(u)-(c?1n:0n))-1n,d=c?-l-1n:0n;if(o>l||o<d)throw new hl({max:l.toString(),min:d.toString(),signed:c,size:u/8,value:o.toString()})}return{dynamic:!1,encoded:De(o,{size:32,signed:c})}}(n,{signed:s,size:Number(i)})}if(a.type.startsWith("bytes"))return function(s,{type:i}){const[,o]=i.split("bytes"),c=Xe(s);if(!o){let u=s;return c%32!=0&&(u=Xt(u,32*Math.ceil((s.length-2)/2/32))),{dynamic:!0,encoded:wt(nn(De(c,{size:32})),u)}}if(c!==Number.parseInt(o))throw new vl({expectedSize:Number.parseInt(o),value:s});return{dynamic:!1,encoded:Xt(s)}}(n,{type:a.type});if(a.type==="string")return function(s){const i=Xi(s),o=Math.ceil(Xe(i)/32),c=[];for(let u=0;u<o;u++)c.push(Xt(Qi(i,32*u,32*(u+1))));return{dynamic:!0,encoded:wt(Xt(De(Xe(i),{size:32})),...c)}}(n);throw new xl(a.type)}function pi(e){let t=0;for(let s=0;s<e.length;s++){const{dynamic:i,encoded:o}=e[s];t+=i?32:Xe(o)}const n=[],a=[];let r=0;for(let s=0;s<e.length;s++){const{dynamic:i,encoded:o}=e[s];i?(n.push(De(t+r,{size:32})),a.push(o),r+=Xe(o)):n.push(o)}return wt(...n,...a)}function wl(e,t,n){const{checksumAddress:a=!1}={};if(e.length!==t.length)throw new kl({expectedLength:e.length,givenLength:t.length});const r=function({checksumAddress:i,parameters:o,values:c}){const u=[];for(let l=0;l<o.length;l++)u.push(li({checksumAddress:i,parameter:o[l],value:c[l]}));return u}({checksumAddress:a,parameters:e,values:t}),s=pi(r);return s.length===0?"0x":s}function hi(e,t){if(e.length!==t.length)throw new kl({expectedLength:e.length,givenLength:t.length});const n=[];for(let a=0;a<e.length;a++){const r=e[a],s=t[a];n.push(hi.encode(r,s))}return wt(...n)}(function(e){e.encode=function t(n,a,r=!1){if(n==="address"){const c=a;return Br(c),nn(c.toLowerCase(),r?32:0)}if(n==="string")return Xi(a);if(n==="bytes")return a;if(n==="bool")return nn(ll(a),r?32:1);const s=n.match(gl);if(s){const[c,u,l="256"]=s,d=Number.parseInt(l)/8;return De(a,{size:r?32:d,signed:u==="int"})}const i=n.match(Sm);if(i){const[c,u]=i;if(Number.parseInt(u)!==(a.length-2)/2)throw new vl({expectedSize:Number.parseInt(u),value:a});return Xt(a,r?32:0)}const o=n.match(Om);if(o&&Array.isArray(a)){const[c,u]=o,l=[];for(let d=0;d<a.length;d++)l.push(t(u,a[d],!0));return l.length===0?"0x":wt(...l)}throw new xl(n)}})(hi||(hi={}));class Rm extends me{constructor({expectedLength:t,givenLength:n,type:a}){super(`Array length mismatch for type \`${a}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class vl extends me{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Xe(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class kl extends me{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class _m extends me{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class xl extends me{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function Lm(e,...t){const{overloads:n}=e,a=n?function(i,o,c){const u=function(l,d,p){const{args:h=[],prepare:b=!0}=p??{},y=Im(d,{strict:!1}),m=l.filter(w=>y?w.type==="function"||w.type==="error"?_c(w)===Qi(d,0,4):w.type==="event"&&Pn(w)===d:"name"in w&&w.name===d);if(m.length===0)throw new hs({name:d});if(m.length===1)return{...m[0],...b?{hash:Pn(m[0])}:{}};let f;for(const w of m){if(!("inputs"in w))continue;if(!h||h.length===0){if(!w.inputs||w.inputs.length===0)return{...w,...b?{hash:Pn(w)}:{}};continue}if(!w.inputs||w.inputs.length===0||w.inputs.length!==h.length)continue;if(h.every((I,A)=>{const C="inputs"in w&&w.inputs[A];return!!C&&di(I,C)})){if(f&&"inputs"in f&&f.inputs){const I=fl(w.inputs,f.inputs,h);if(I)throw new $m({abiItem:w,type:I[0]},{abiItem:f,type:I[1]})}f=w}}const g=(()=>{if(f)return f;const[w,...k]=m;return{...w,overloads:k}})();if(!g)throw new hs({name:d});return{...g,...b?{hash:Pn(g)}:{}}}(i,o,c);if(u.type!=="function")throw new hs({name:o,type:"function"});return u}([e,...n],e.name,{args:t[0]}):e,r=_c(a),s=t.length>0?wl(a.inputs,t[0]):void 0;return s?wt(r,s):r}function vn(e,t={}){return bl(e,t)}const pt="0x0000000000000000000000000000000000000000";async function Fm(e,t){const{blockNumber:n,blockTag:a,calls:r,stateOverrides:s,traceAssetChanges:i,traceTransfers:o,validation:c}=t,u=t.account?Ue(t.account):void 0;if(i&&!u)throw new R("`account` is required when `traceAssetChanges` is true");const l=u?function(T,$){var F;const{bytecode:_,args:L}=$;return wt(_,(F=T.inputs)!=null&&F.length&&(L!=null&&L.length)?wl(T.inputs,L):"0x")}(bl("constructor(bytes, bytes)"),{bytecode:Dd,args:["0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033",Lm(vn("function getBalance(address)"),[u.address])]}):void 0,d=i?await Promise.all(t.calls.map(async T=>{if(!T.data&&!T.abi)return;const{accessList:$}=await Qd(e,{account:u.address,...T,data:T.abi?tt(T):T.data});return $.map(({address:_,storageKeys:L})=>L.length>0?_:null)})).then(T=>T.flat().filter(Boolean)):[],p=s==null?void 0:s.map(T=>T.address===(u==null?void 0:u.address)?{...T,nonce:0}:T),h=await ci(e,{blockNumber:n,blockTag:a,blocks:[...i?[{calls:[{data:l}],stateOverrides:s},{calls:d.map((T,$)=>({abi:[vn("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:T,from:pt,nonce:$})),stateOverrides:[{address:pt,nonce:0}]}]:[],{calls:[...r,{}].map((T,$)=>({...T,from:u==null?void 0:u.address,nonce:$})),stateOverrides:p},...i?[{calls:[{data:l}]},{calls:d.map((T,$)=>({abi:[vn("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:T,from:pt,nonce:$})),stateOverrides:[{address:pt,nonce:0}]},{calls:d.map((T,$)=>({to:T,abi:[vn("function decimals() returns (uint256)")],functionName:"decimals",from:pt,nonce:$})),stateOverrides:[{address:pt,nonce:0}]},{calls:d.map((T,$)=>({to:T,abi:[vn("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:pt,nonce:$})),stateOverrides:[{address:pt,nonce:0}]},{calls:d.map((T,$)=>({to:T,abi:[vn("function symbol() returns (string)")],functionName:"symbol",from:pt,nonce:$})),stateOverrides:[{address:pt,nonce:0}]}]:[]],traceTransfers:o,validation:c}),b=i?h[2]:h[0],[y,m,,f,g,w,k,I]=i?h:[],{calls:A,...C}=b,P=A.slice(0,-1)??[],x=[...(y==null?void 0:y.calls)??[],...(m==null?void 0:m.calls)??[]].map(T=>T.status==="success"?kt(T.data):null),v=[...(f==null?void 0:f.calls)??[],...(g==null?void 0:g.calls)??[]].map(T=>T.status==="success"?kt(T.data):null),E=((w==null?void 0:w.calls)??[]).map(T=>T.status==="success"?T.result:null),M=((I==null?void 0:I.calls)??[]).map(T=>T.status==="success"?T.result:null),B=((k==null?void 0:k.calls)??[]).map(T=>T.status==="success"?T.result:null),S=[];for(const[T,$]of v.entries()){const _=x[T];if(typeof $!="bigint"||typeof _!="bigint")continue;const L=E[T-1],F=M[T-1],K=B[T-1],q=T===0?{address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",decimals:18,symbol:"ETH"}:{address:d[T-1],decimals:K||L?Number(L??1):void 0,symbol:F??void 0};S.some(ae=>ae.token.address===q.address)||S.push({token:q,value:{pre:_,post:$,diff:$-_}})}return{assetChanges:S,block:C,results:P}}class Il extends Pi{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,function(i){if(typeof i!="function"||typeof i.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ur(i.outputLen),ur(i.blockLen)}(t);const a=fr(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,s=new Uint8Array(r);s.set(a.length>r?t.create().update(a).digest():a);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=t.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),s.fill(0)}update(t){return $n(this),this.iHash.update(t),this}digestInto(t){$n(this),Ea(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:a,finished:r,destroyed:s,blockLen:i,outputLen:o}=this;return t.finished=r,t.destroyed=s,t.blockLen=i,t.outputLen=o,t.oHash=n._cloneInto(t.oHash),t.iHash=a._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const El=(e,t,n)=>new Il(e,t).update(n).digest();El.create=(e,t)=>new Il(e,t);const Oe=BigInt(0),xe=BigInt(1),Wt=BigInt(2),zm=BigInt(3),ys=BigInt(4),Lc=BigInt(5),Fc=BigInt(8);function Ke(e,t){const n=e%t;return n>=Oe?n:t+n}function Um(e,t,n){if(t<Oe)throw new Error("invalid exponent, negatives unsupported");if(n<=Oe)throw new Error("invalid modulus");if(n===xe)return Oe;let a=xe;for(;t>Oe;)t&xe&&(a=a*e%n),e=e*e%n,t>>=xe;return a}function Ye(e,t,n){let a=e;for(;t-- >Oe;)a*=a,a%=n;return a}function yi(e,t){if(e===Oe)throw new Error("invert: expected non-zero number");if(t<=Oe)throw new Error("invert: expected positive modulus, got "+t);let n=Ke(e,t),a=t,r=Oe,s=xe;for(;n!==Oe;){const i=a%n,o=r-s*(a/n);a=n,n=i,r=s,s=o}if(a!==xe)throw new Error("invert: does not exist");return Ke(r,t)}function jm(e){if(e%ys===zm){const t=(e+xe)/ys;return function(n,a){const r=n.pow(a,t);if(!n.eql(n.sqr(r),a))throw new Error("Cannot find square root");return r}}if(e%Fc===Lc){const t=(e-Lc)/Fc;return function(n,a){const r=n.mul(a,Wt),s=n.pow(r,t),i=n.mul(a,s),o=n.mul(n.mul(i,Wt),s),c=n.mul(i,n.sub(o,n.ONE));if(!n.eql(n.sqr(c),a))throw new Error("Cannot find square root");return c}}return function(t){const n=(t-xe)/Wt;let a,r,s;for(a=t-xe,r=0;a%Wt===Oe;a/=Wt,r++);for(s=Wt;s<t&&Um(s,n,t)!==t-xe;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+xe)/ys;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(a+xe)/Wt;return function(o,c){if(o.pow(c,n)===o.neg(o.ONE))throw new Error("Cannot find square root");let u=r,l=o.pow(o.mul(o.ONE,s),a),d=o.pow(c,i),p=o.pow(c,a);for(;!o.eql(p,o.ONE);){if(o.eql(p,o.ZERO))return o.ZERO;let h=1;for(let y=o.sqr(p);h<u&&!o.eql(y,o.ONE);h++)y=o.sqr(y);const b=o.pow(l,xe<<BigInt(u-h-1));l=o.sqr(b),d=o.mul(d,b),p=o.mul(p,l),u=h}return d}}(e)}const Dm=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Al(e,t){const n=t!==void 0?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Cl(e,t,n=!1,a={}){if(e<=Oe)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:r,nByteLength:s}=Al(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const o=Object.freeze({ORDER:e,isLE:n,BITS:r,BYTES:s,MASK:Ji(r),ZERO:Oe,ONE:xe,create:c=>Ke(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Oe<=c&&c<e},is0:c=>c===Oe,isOdd:c=>(c&xe)===xe,neg:c=>Ke(-c,e),eql:(c,u)=>c===u,sqr:c=>Ke(c*c,e),add:(c,u)=>Ke(c+u,e),sub:(c,u)=>Ke(c-u,e),mul:(c,u)=>Ke(c*u,e),pow:(c,u)=>function(l,d,p){if(p<Oe)throw new Error("invalid exponent, negatives unsupported");if(p===Oe)return l.ONE;if(p===xe)return d;let h=l.ONE,b=d;for(;p>Oe;)p&xe&&(h=l.mul(h,b)),b=l.sqr(b),p>>=xe;return h}(o,c,u),div:(c,u)=>Ke(c*yi(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>yi(c,e),sqrt:a.sqrt||(c=>(i||(i=jm(e)),i(o,c))),invertBatch:c=>function(u,l){const d=new Array(l.length),p=l.reduce((b,y,m)=>u.is0(y)?b:(d[m]=b,u.mul(b,y)),u.ONE),h=u.inv(p);return l.reduceRight((b,y,m)=>u.is0(y)?b:(d[m]=u.mul(b,d[m]),u.mul(b,y)),h),d}(o,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>n?Zi(c,s):Bn(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?Wi(c):Yt(c)}});return Object.freeze(o)}function Tl(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function zc(e){const t=Tl(e);return t+Math.ceil(t/2)}const Uc=BigInt(0),er=BigInt(1);function ms(e,t){const n=t.negate();return e?n:t}function Pl(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function fs(e,t){return Pl(e,t),{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}const bs=new WeakMap,Ml=new WeakMap;function gs(e){return Ml.get(e)||1}function Hm(e,t,n,a){if(function(l,d){if(!Array.isArray(l))throw new Error("array expected");l.forEach((p,h)=>{if(!(p instanceof d))throw new Error("invalid point at index "+h)})}(n,e),function(l,d){if(!Array.isArray(l))throw new Error("array of scalars expected");l.forEach((p,h)=>{if(!d.isValid(p))throw new Error("invalid scalar at index "+h)})}(a,t),n.length!==a.length)throw new Error("arrays of points and scalars must have equal length");const r=e.ZERO,s=ol(BigInt(n.length)),i=s>12?s-3:s>4?s-2:s?2:1,o=(1<<i)-1,c=new Array(o+1).fill(r);let u=r;for(let l=Math.floor((t.BITS-1)/i)*i;l>=0;l-=i){c.fill(r);for(let p=0;p<a.length;p++){const h=a[p],b=Number(h>>BigInt(l)&BigInt(o));c[b]=c[b].add(n[p])}let d=r;for(let p=c.length-1,h=r;p>0;p--)h=h.add(c[p]),d=d.add(h);if(u=u.add(d),l!==0)for(let p=0;p<i;p++)u=u.double()}return u}function Nl(e){return xa(e.Fp,Dm.reduce((t,n)=>(t[n]="function",t),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),xa(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Al(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function jc(e){e.lowS!==void 0&&On("lowS",e.lowS),e.prehash!==void 0&&On("prehash",e.prehash)}const{bytesToNumberBE:Gm,hexToBytes:qm}=pm;class Km extends Error{constructor(t=""){super(t)}}const Mt={Err:Km,_tlv:{encode:(e,t)=>{const{Err:n}=Mt;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const a=t.length/2,r=Tn(a);if(r.length/2&128)throw new n("tlv.encode: long form length too big");const s=a>127?Tn(r.length/2|128):"";return Tn(e)+s+r+t},decode(e,t){const{Err:n}=Mt;let a=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[a++]!==e)throw new n("tlv.decode: wrong tlv");const r=t[a++];let s=0;if(128&r){const o=127&r;if(!o)throw new n("tlv.decode(long): indefinite length not supported");if(o>4)throw new n("tlv.decode(long): byte length is too big");const c=t.subarray(a,a+o);if(c.length!==o)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of c)s=s<<8|u;if(a+=o,s<128)throw new n("tlv.decode(long): not minimal encoding")}else s=r;const i=t.subarray(a,a+s);if(i.length!==s)throw new n("tlv.decode: wrong value length");return{v:i,l:t.subarray(a+s)}}},_int:{encode(e){const{Err:t}=Mt;if(e<$t)throw new t("integer: negative integers are not allowed");let n=Tn(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Mt;if(128&e[0])throw new t("invalid signature integer: negative");if(e[0]===0&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return Gm(e)}},toSig(e){const{Err:t,_int:n,_tlv:a}=Mt,r=typeof e=="string"?qm(e):e;$a(r);const{v:s,l:i}=a.decode(48,r);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:o,l:c}=a.decode(2,s),{v:u,l}=a.decode(2,c);if(l.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Mt,a=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,a)}},$t=BigInt(0),$e=BigInt(1);BigInt(2);const Dc=BigInt(3);function Vm(e){const t=function(m){const f=Nl(m);xa(f,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:g,Fp:w,a:k}=f;if(g){if(!w.eql(k,w.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof g!="object"||typeof g.beta!="bigint"||typeof g.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...f})}(e),{Fp:n}=t,a=Cl(t.n,t.nBitLength),r=t.toBytes||((m,f,g)=>{const w=f.toAffine();return ka(Uint8Array.from([4]),n.toBytes(w.x),n.toBytes(w.y))}),s=t.fromBytes||(m=>{const f=m.subarray(1);return{x:n.fromBytes(f.subarray(0,n.BYTES)),y:n.fromBytes(f.subarray(n.BYTES,2*n.BYTES))}});function i(m){const{a:f,b:g}=t,w=n.sqr(m),k=n.mul(w,m);return n.add(n.add(k,n.mul(m,f)),g)}if(!n.eql(n.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function o(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:w,n:k}=t;if(f&&typeof m!="bigint"){if(cn(m)&&(m=Sn(m)),typeof m!="string"||!f.includes(m.length))throw new Error("invalid private key");m=m.padStart(2*g,"0")}let I;try{I=typeof m=="bigint"?m:Yt(rt("private key",m,g))}catch{throw new Error("invalid private key, expected hex or "+g+" bytes, got "+typeof m)}return w&&(I=Ke(I,k)),tn("private key",I,$e,k),I}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=oi((m,f)=>{const{px:g,py:w,pz:k}=m;if(n.eql(k,n.ONE))return{x:g,y:w};const I=m.is0();f==null&&(f=I?n.ONE:n.inv(k));const A=n.mul(g,f),C=n.mul(w,f),P=n.mul(k,f);if(I)return{x:n.ZERO,y:n.ZERO};if(!n.eql(P,n.ONE))throw new Error("invZ was invalid");return{x:A,y:C}}),l=oi(m=>{if(m.is0()){if(t.allowInfinityPoint&&!n.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!n.isValid(f)||!n.isValid(g))throw new Error("bad point: x or y not FE");const w=n.sqr(g),k=i(f);if(!n.eql(w,k))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,w){if(this.px=f,this.py=g,this.pz=w,f==null||!n.isValid(f))throw new Error("x required");if(g==null||!n.isValid(g))throw new Error("y required");if(w==null||!n.isValid(w))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:w}=f||{};if(!f||!n.isValid(g)||!n.isValid(w))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const k=I=>n.eql(I,n.ZERO);return k(g)&&k(w)?d.ZERO:new d(g,w,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=n.invertBatch(f.map(w=>w.pz));return f.map((w,k)=>w.toAffine(g[k])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(rt("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(o(f))}static msm(f,g){return Hm(d,a,f,g)}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(n.isOdd)return!n.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:w,pz:k}=this,{px:I,py:A,pz:C}=f,P=n.eql(n.mul(g,C),n.mul(I,k)),x=n.eql(n.mul(w,C),n.mul(A,k));return P&&x}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:f,b:g}=t,w=n.mul(g,Dc),{px:k,py:I,pz:A}=this;let C=n.ZERO,P=n.ZERO,x=n.ZERO,v=n.mul(k,k),E=n.mul(I,I),M=n.mul(A,A),B=n.mul(k,I);return B=n.add(B,B),x=n.mul(k,A),x=n.add(x,x),C=n.mul(f,x),P=n.mul(w,M),P=n.add(C,P),C=n.sub(E,P),P=n.add(E,P),P=n.mul(C,P),C=n.mul(B,C),x=n.mul(w,x),M=n.mul(f,M),B=n.sub(v,M),B=n.mul(f,B),B=n.add(B,x),x=n.add(v,v),v=n.add(x,v),v=n.add(v,M),v=n.mul(v,B),P=n.add(P,v),M=n.mul(I,A),M=n.add(M,M),v=n.mul(M,B),C=n.sub(C,v),x=n.mul(M,E),x=n.add(x,x),x=n.add(x,x),new d(C,P,x)}add(f){c(f);const{px:g,py:w,pz:k}=this,{px:I,py:A,pz:C}=f;let P=n.ZERO,x=n.ZERO,v=n.ZERO;const E=t.a,M=n.mul(t.b,Dc);let B=n.mul(g,I),S=n.mul(w,A),T=n.mul(k,C),$=n.add(g,w),_=n.add(I,A);$=n.mul($,_),_=n.add(B,S),$=n.sub($,_),_=n.add(g,k);let L=n.add(I,C);return _=n.mul(_,L),L=n.add(B,T),_=n.sub(_,L),L=n.add(w,k),P=n.add(A,C),L=n.mul(L,P),P=n.add(S,T),L=n.sub(L,P),v=n.mul(E,_),P=n.mul(M,T),v=n.add(P,v),P=n.sub(S,v),v=n.add(S,v),x=n.mul(P,v),S=n.add(B,B),S=n.add(S,B),T=n.mul(E,T),_=n.mul(M,_),S=n.add(S,T),T=n.sub(B,T),T=n.mul(E,T),_=n.add(_,T),B=n.mul(S,_),x=n.add(x,B),B=n.mul(L,_),P=n.mul($,P),P=n.sub(P,B),B=n.mul($,S),v=n.mul(L,v),v=n.add(v,B),new d(P,x,v)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){const{endo:g,n:w}=t;tn("scalar",f,$t,w);const k=d.ZERO;if(f===$t)return k;if(this.is0()||f===$e)return this;if(!g||h.hasPrecomputes(this))return h.wNAFCachedUnsafe(this,f,d.normalizeZ);let{k1neg:I,k1:A,k2neg:C,k2:P}=g.splitScalar(f),x=k,v=k,E=this;for(;A>$t||P>$t;)A&$e&&(x=x.add(E)),P&$e&&(v=v.add(E)),E=E.double(),A>>=$e,P>>=$e;return I&&(x=x.negate()),C&&(v=v.negate()),v=new d(n.mul(v.px,g.beta),v.py,v.pz),x.add(v)}multiply(f){const{endo:g,n:w}=t;let k,I;if(tn("scalar",f,$e,w),g){const{k1neg:A,k1:C,k2neg:P,k2:x}=g.splitScalar(f);let{p:v,f:E}=this.wNAF(C),{p:M,f:B}=this.wNAF(x);v=h.constTimeNegate(A,v),M=h.constTimeNegate(P,M),M=new d(n.mul(M.px,g.beta),M.py,M.pz),k=v.add(M),I=E.add(B)}else{const{p:A,f:C}=this.wNAF(f);k=A,I=C}return d.normalizeZ([k,I])[0]}multiplyAndAddUnsafe(f,g,w){const k=d.BASE,I=(C,P)=>P!==$t&&P!==$e&&C.equals(k)?C.multiply(P):C.multiplyUnsafe(P),A=I(this,g).add(I(f,w));return A.is0()?void 0:A}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=t;if(f===$e)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=t;return f===$e?this:g?g(d,this):this.multiplyUnsafe(t.h)}toRawBytes(f=!0){return On("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return On("isCompressed",f),Sn(this.toRawBytes(f))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const p=t.nBitLength,h=(b=d,y=t.endo?Math.ceil(p/2):p,{constTimeNegate:ms,hasPrecomputes:m=>gs(m)!==1,unsafeLadder(m,f,g=b.ZERO){let w=m;for(;f>Uc;)f&er&&(g=g.add(w)),w=w.double(),f>>=er;return g},precomputeWindow(m,f){const{windows:g,windowSize:w}=fs(f,y),k=[];let I=m,A=I;for(let C=0;C<g;C++){A=I,k.push(A);for(let P=1;P<w;P++)A=A.add(I),k.push(A);I=A.double()}return k},wNAF(m,f,g){const{windows:w,windowSize:k}=fs(m,y);let I=b.ZERO,A=b.BASE;const C=BigInt(2**m-1),P=2**m,x=BigInt(m);for(let v=0;v<w;v++){const E=v*k;let M=Number(g&C);g>>=x,M>k&&(M-=P,g+=er);const B=E,S=E+Math.abs(M)-1,T=v%2!=0,$=M<0;M===0?A=A.add(ms(T,f[B])):I=I.add(ms($,f[S]))}return{p:I,f:A}},wNAFUnsafe(m,f,g,w=b.ZERO){const{windows:k,windowSize:I}=fs(m,y),A=BigInt(2**m-1),C=2**m,P=BigInt(m);for(let x=0;x<k;x++){const v=x*I;if(g===Uc)break;let E=Number(g&A);if(g>>=P,E>I&&(E-=C,g+=er),E===0)continue;let M=f[v+Math.abs(E)-1];E<0&&(M=M.negate()),w=w.add(M)}return w},getPrecomputes(m,f,g){let w=bs.get(f);return w||(w=this.precomputeWindow(f,m),m!==1&&bs.set(f,g(w))),w},wNAFCached(m,f,g){const w=gs(m);return this.wNAF(w,this.getPrecomputes(w,m,g),f)},wNAFCachedUnsafe(m,f,g,w){const k=gs(m);return k===1?this.unsafeLadder(m,f,w):this.wNAFUnsafe(k,this.getPrecomputes(k,m,g),f,w)},setWindowSize(m,f){Pl(f,y),Ml.set(m,f),bs.delete(m)}});var b,y;return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:o,weierstrassEquation:i,isWithinCurveOrder:function(m){return Nr(m,$e,t.n)}}}function Wm(e){const t=function(x){const v=Nl(x);return xa(v,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...v})}(e),{Fp:n,n:a}=t,r=n.BYTES+1,s=2*n.BYTES+1;function i(x){return Ke(x,a)}function o(x){return yi(x,a)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=Vm({...t,toBytes(x,v,E){const M=v.toAffine(),B=n.toBytes(M.x),S=ka;return On("isCompressed",E),E?S(Uint8Array.from([v.hasEvenY()?2:3]),B):S(Uint8Array.from([4]),B,n.toBytes(M.y))},fromBytes(x){const v=x.length,E=x[0],M=x.subarray(1);if(v!==r||E!==2&&E!==3){if(v===s&&E===4)return{x:n.fromBytes(M.subarray(0,n.BYTES)),y:n.fromBytes(M.subarray(n.BYTES,2*n.BYTES))};throw new Error("invalid Point, expected length of "+r+", or uncompressed "+s+", got "+v)}{const B=Yt(M);if(!Nr(B,$e,n.ORDER))throw new Error("Point is not on curve");const S=l(B);let T;try{T=n.sqrt(S)}catch($){const _=$ instanceof Error?": "+$.message:"";throw new Error("Point is not on curve"+_)}return!(1&~E)!=((T&$e)===$e)&&(T=n.neg(T)),{x:B,y:T}}}}),p=x=>Sn(Bn(x,t.nByteLength));function h(x){return x>a>>$e}const b=(x,v,E)=>Yt(x.slice(v,E));class y{constructor(v,E,M){this.r=v,this.s=E,this.recovery=M,this.assertValidity()}static fromCompact(v){const E=t.nByteLength;return v=rt("compactSignature",v,2*E),new y(b(v,0,E),b(v,E,2*E))}static fromDER(v){const{r:E,s:M}=Mt.toSig(rt("DER",v));return new y(E,M)}assertValidity(){tn("r",this.r,$e,a),tn("s",this.s,$e,a)}addRecoveryBit(v){return new y(this.r,this.s,v)}recoverPublicKey(v){const{r:E,s:M,recovery:B}=this,S=w(rt("msgHash",v));if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");const T=B===2||B===3?E+t.n:E;if(T>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const $=1&B?"03":"02",_=c.fromHex($+p(T)),L=o(T),F=i(-S*L),K=i(M*L),q=c.BASE.multiplyAndAddUnsafe(_,F,K);if(!q)throw new Error("point at infinify");return q.assertValidity(),q}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,i(-this.s),this.recovery):this}toDERRawBytes(){return Rn(this.toDERHex())}toDERHex(){return Mt.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Rn(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const m={isValidPrivateKey(x){try{return u(x),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const x=zc(t.n);return function(v,E,M=!1){const B=v.length,S=Tl(E),T=zc(E);if(B<16||B<T||B>1024)throw new Error("expected "+T+"-1024 bytes of input, got "+B);const $=Ke(M?Wi(v):Yt(v),E-xe)+xe;return M?Zi($,S):Bn($,S)}(t.randomBytes(x),t.n)},precompute:(x=8,v=c.BASE)=>(v._setWindowSize(x),v.multiply(BigInt(3)),v)};function f(x){const v=cn(x),E=typeof x=="string",M=(v||E)&&x.length;return v?M===r||M===s:E?M===2*r||M===2*s:x instanceof c}const g=t.bits2int||function(x){if(x.length>8192)throw new Error("input is too large");const v=Yt(x),E=8*x.length-t.nBitLength;return E>0?v>>BigInt(E):v},w=t.bits2int_modN||function(x){return i(g(x))},k=Ji(t.nBitLength);function I(x){return tn("num < 2^"+t.nBitLength,x,$t,k),Bn(x,t.nByteLength)}function A(x,v,E=C){if(["recovered","canonical"].some(ae=>ae in E))throw new Error("sign() legacy options not supported");const{hash:M,randomBytes:B}=t;let{lowS:S,prehash:T,extraEntropy:$}=E;S==null&&(S=!0),x=rt("msgHash",x),jc(E),T&&(x=rt("prehashed msgHash",M(x)));const _=w(x),L=u(v),F=[I(L),I(_)];if($!=null&&$!==!1){const ae=$===!0?B(n.BYTES):$;F.push(rt("extraEntropy",ae))}const K=ka(...F),q=_;return{seed:K,k2sig:function(ae){const we=g(ae);if(!d(we))return;const de=o(we),Ie=c.BASE.multiply(we).toAffine(),Ae=i(Ie.x);if(Ae===$t)return;const He=i(de*i(q+Ae*L));if(He===$t)return;let It=(Ie.x===Ae?0:2)|Number(Ie.y&$e),Je=He;return S&&h(He)&&(Je=function(_t){return h(_t)?i(-_t):_t}(He),It^=1),new y(Ae,Je,It)}}}const C={lowS:t.lowS,prehash:!1},P={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(x,v=!0){return c.fromPrivateKey(x).toRawBytes(v)},getSharedSecret:function(x,v,E=!0){if(f(x))throw new Error("first arg must be private key");if(!f(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(x)).toRawBytes(E)},sign:function(x,v,E=C){const{seed:M,k2sig:B}=A(x,v,E),S=t;return cl(S.hash.outputLen,S.nByteLength,S.hmac)(M,B)},verify:function(x,v,E,M=P){var It;const B=x;v=rt("msgHash",v),E=rt("publicKey",E);const{lowS:S,prehash:T,format:$}=M;if(jc(M),"strict"in M)throw new Error("options.strict was renamed to lowS");if($!==void 0&&$!=="compact"&&$!=="der")throw new Error("format must be compact or der");const _=typeof B=="string"||cn(B),L=!_&&!$&&typeof B=="object"&&B!==null&&typeof B.r=="bigint"&&typeof B.s=="bigint";if(!_&&!L)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let F,K;try{if(L&&(F=new y(B.r,B.s)),_){try{$!=="compact"&&(F=y.fromDER(B))}catch(Je){if(!(Je instanceof Mt.Err))throw Je}F||$==="der"||(F=y.fromCompact(B))}K=c.fromHex(E)}catch{return!1}if(!F||S&&F.hasHighS())return!1;T&&(v=t.hash(v));const{r:q,s:ae}=F,we=w(v),de=o(ae),Ie=i(we*de),Ae=i(q*de),He=(It=c.BASE.multiplyAndAddUnsafe(K,Ie,Ae))==null?void 0:It.toAffine();return!!He&&i(He.x)===q},ProjectivePoint:c,Signature:y,utils:m}}function Zm(e){return{hash:e,hmac:(t,...n)=>El(e,t,function(...a){let r=0;for(let i=0;i<a.length;i++){const o=a[i];Ea(o),r+=o.length}const s=new Uint8Array(r);for(let i=0,o=0;i<a.length;i++){const c=a[i];s.set(c,o),o+=c.length}return s}(...n)),randomBytes:qp}}BigInt(4);const Hc=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Gc=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Jm=BigInt(1),mi=BigInt(2),qc=(e,t)=>(e+t/mi)/t,fi=Cl(Hc,void 0,void 0,{sqrt:function(e){const t=Hc,n=BigInt(3),a=BigInt(6),r=BigInt(11),s=BigInt(22),i=BigInt(23),o=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,d=Ye(l,n,t)*l%t,p=Ye(d,n,t)*l%t,h=Ye(p,mi,t)*u%t,b=Ye(h,r,t)*h%t,y=Ye(b,s,t)*b%t,m=Ye(y,o,t)*y%t,f=Ye(m,c,t)*m%t,g=Ye(f,o,t)*y%t,w=Ye(g,n,t)*l%t,k=Ye(w,i,t)*b%t,I=Ye(k,a,t)*u%t,A=Ye(I,mi,t);if(!fi.eql(fi.sqr(A),e))throw new Error("Cannot find square root");return A}}),Oa=function(e,t){const n=a=>Wm({...e,...Zm(a)});return{...n(t),create:n}}({a:BigInt(0),b:BigInt(7),Fp:fi,n:Gc,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Gc,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),a=-Jm*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),r=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,i=BigInt("0x100000000000000000000000000000000"),o=qc(s*e,t),c=qc(-a*e,t);let u=Ke(e-o*n-c*r,t),l=Ke(-o*a-c*s,t);const d=u>i,p=l>i;if(d&&(u=t-u),p&&(l=t-l),u>i||l>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:p,k2:l}}}},Wu);BigInt(0),Oa.ProjectivePoint;const Ym=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Oa},Symbol.toStringTag,{value:"Module"}));function Bl({r:e,s:t,to:n="hex",v:a,yParity:r}){const s=(()=>{if(r===0||r===1)return r;if(a&&(a===27n||a===28n||a>=35n))return a%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new Oa.Signature(kt(e),kt(t)).toCompactHex()}${s===0?"1b":"1c"}`;return n==="hex"?i:et(i)}async function bi(e,t){var d,p,h;const{address:n,factory:a,factoryData:r,hash:s,signature:i,universalSignatureVerifierAddress:o=(h=(p=(d=e.chain)==null?void 0:d.contracts)==null?void 0:p.universalSignatureVerifier)==null?void 0:h.address,...c}=t,u=vt(i)?i:typeof i=="object"&&"r"in i&&"s"in i?Bl(i):Ee(i),l=await(async()=>a||r?function(b){return id(b,-32)===kc}(u)?u:function(b){const{address:y,data:m,signature:f,to:g="hex"}=b,w=it([ot([{type:"address"},{type:"bytes"},{type:"bytes"}],[y,m,f]),kc]);return g==="hex"?w:et(w)}({address:a,data:r,signature:u}):u)();try{const b=o?{to:o,data:tt({abi:hc,functionName:"isValidSig",args:[n,s,l]}),...c}:{data:pr({abi:hc,args:[n,s,l],bytecode:"0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572"}),...c},{data:y}=await G(e,Pr,"call")(b);return function(m,f={}){let g=m;if(f.size&&(nt(g,{size:f.size}),g=Qe(g)),Qe(g)==="0x00")return!1;if(Qe(g)==="0x01")return!0;throw new Tp(g)}(y??"0x0")}catch(b){try{if(Ba(nd(n),await $d({hash:s,signature:i})))return!0}catch{}if(b instanceof Cd)return!1;throw b}}function Kc(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:a,onError:r,poll:s,pollingInterval:i=e.pollingInterval}){let o;return(s!==void 0?s:e.transport.type!=="webSocket"&&(e.transport.type!=="fallback"||e.transport.transports[0].config.type!=="webSocket"))?qt(Te(["watchBlockNumber",e.uid,t,n,i]),{onBlockNumber:a,onError:r},c=>ta(async()=>{var u;try{const l=await G(e,na,"getBlockNumber")({cacheTime:0});if(o){if(l===o)return;if(l-o>1&&n)for(let d=o+1n;d<l;d++)c.onBlockNumber(d,o),o=d}(!o||l>o)&&(c.onBlockNumber(l,o),o=l)}catch(l){(u=c.onError)==null||u.call(c,l)}},{emitOnBegin:t,interval:i})):qt(Te(["watchBlockNumber",e.uid,t,n]),{onBlockNumber:a,onError:r},c=>{let u=!0,l=()=>u=!1;return(async()=>{try{const d=(()=>{if(e.transport.type==="fallback"){const h=e.transport.transports.find(b=>b.config.type==="webSocket");return h?h.value:e.transport}return e.transport})(),{unsubscribe:p}=await d.subscribe({params:["newHeads"],onData(h){var y;if(!u)return;const b=kt((y=h.result)==null?void 0:y.number);c.onBlockNumber(b,o),o=b},onError(h){var b;(b=c.onError)==null||b.call(c,h)}});l=p,u||l()}catch(d){r==null||r(d)}})(),()=>l()})}const Xm=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Qm=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;async function ef(e,t){const{address:n,domain:a,message:r,nonce:s,scheme:i,signature:o,time:c=new Date,...u}=t,l=function(h){var P,x,v;const{scheme:b,statement:y,...m}=((P=h.match(Xm))==null?void 0:P.groups)??{},{chainId:f,expirationTime:g,issuedAt:w,notBefore:k,requestId:I,...A}=((x=h.match(Qm))==null?void 0:x.groups)??{},C=(v=h.split("Resources:")[1])==null?void 0:v.split(`
- `).slice(1);return{...m,...A,...f?{chainId:Number(f)}:{},...g?{expirationTime:new Date(g)}:{},...w?{issuedAt:new Date(w)}:{},...k?{notBefore:new Date(k)}:{},...I?{requestId:I}:{},...C?{resources:C}:{},...b?{scheme:b}:{},...y?{statement:y}:{}}}(r);if(!l.address||!function(h){const{address:b,domain:y,message:m,nonce:f,scheme:g,time:w=new Date}=h;if(y&&m.domain!==y||f&&m.nonce!==f||g&&m.scheme!==g||m.expirationTime&&w>=m.expirationTime||m.notBefore&&w<m.notBefore)return!1;try{if(!m.address||b&&!Ba(m.address,b))return!1}catch{return!1}return!0}({address:n,domain:a,message:l,nonce:s,scheme:i,time:c}))return!1;const p=Ki(r);return bi(e,{address:l.address,hash:p,signature:o,...u})}function tf(e){return{call:t=>Pr(e,t),createAccessList:t=>Qd(e,t),createBlockFilter:()=>async function(t){const n=Ar(t,{method:"eth_newBlockFilter"}),a=await t.request({method:"eth_newBlockFilter"});return{id:a,request:n(a),type:"block"}}(e),createContractEventFilter:t=>Si(e,t),createEventFilter:t=>gc(e,t),createPendingTransactionFilter:()=>wc(e),estimateContractGas:t=>zd(e,t),estimateGas:t=>zi(e,t),getBalance:t=>Fd(e,t),getBlobBaseFee:()=>async function(t){const n=await t.request({method:"eth_blobBaseFee"});return BigInt(n)}(e),getBlock:t=>bt(e,t),getBlockNumber:t=>na(e,t),getBlockTransactionCount:t=>async function(n,{blockHash:a,blockNumber:r,blockTag:s="latest"}={}){const i=r!==void 0?W(r):void 0;let o;return o=a?await n.request({method:"eth_getBlockTransactionCountByHash",params:[a]},{dedupe:!0}):await n.request({method:"eth_getBlockTransactionCountByNumber",params:[i||s]},{dedupe:!!i}),xt(o)}(e,t),getBytecode:t=>So(e,t),getChainId:()=>va(e),getCode:t=>So(e,t),getContractEvents:t=>ji(e,t),getEip712Domain:t=>async function(n,a){const{address:r,factory:s,factoryData:i}=a;try{const[o,c,u,l,d,p,h]=await G(n,gt,"readContract")({abi:zy,address:r,functionName:"eip712Domain",factory:s,factoryData:i});return{domain:{name:c,version:u,chainId:Number(l),verifyingContract:d,salt:p},extensions:h,fields:o}}catch(o){const c=o;throw c.name==="ContractFunctionExecutionError"&&c.cause.name==="ContractFunctionZeroDataError"?new Fy({address:r}):c}}(e,t),getEnsAddress:t=>async function(n,{blockNumber:a,blockTag:r,coinType:s,name:i,gatewayUrls:o,strict:c,universalResolverAddress:u}){let l=u;if(!l){if(!n.chain)throw new Error("client chain not configured. universalResolverAddress is required.");l=Cn({blockNumber:a,chain:n.chain,contract:"ensUniversalResolver"})}try{const d=tt({abi:pc,functionName:"addr",...s!=null?{args:[ir(i),BigInt(s)]}:{args:[ir(i)]}}),p={address:l,abi:jd,functionName:"resolve",args:[te(or(i)),d],blockNumber:a,blockTag:r},h=G(n,gt,"readContract"),b=o?await h({...p,args:[...p.args,o]}):await h(p);if(b[0]==="0x")return null;const y=on({abi:pc,args:s!=null?[ir(i),BigInt(s)]:void 0,functionName:"addr",data:b[0]});return y==="0x"||Qe(y)==="0x00"?null:y}catch(d){if(c)throw d;if(ii(d,"resolve"))return null;throw d}}(e,t),getEnsAvatar:t=>async function(n,{blockNumber:a,blockTag:r,assetGatewayUrls:s,name:i,gatewayUrls:o,strict:c,universalResolverAddress:u}){const l=await G(n,bc,"getEnsText")({blockNumber:a,blockTag:r,key:"avatar",name:i,universalResolverAddress:u,gatewayUrls:o,strict:c});if(!l)return null;try{return await Xy(n,{record:l,gatewayUrls:s})}catch{return null}}(e,t),getEnsName:t=>async function(n,{address:a,blockNumber:r,blockTag:s,gatewayUrls:i,strict:o,universalResolverAddress:c}){let u=c;if(!u){if(!n.chain)throw new Error("client chain not configured. universalResolverAddress is required.");u=Cn({blockNumber:r,chain:n.chain,contract:"ensUniversalResolver"})}const l=`${a.toLowerCase().substring(2)}.addr.reverse`;try{const d={address:u,abi:Ny,functionName:"reverse",args:[te(or(l))],blockNumber:r,blockTag:s},p=G(n,gt,"readContract"),[h,b]=i?await p({...d,args:[...d.args,i]}):await p(d);return a.toLowerCase()!==b.toLowerCase()?null:h}catch(d){if(o)throw d;if(ii(d,"reverse"))return null;throw d}}(e,t),getEnsResolver:t=>async function(n,{blockNumber:a,blockTag:r,name:s,universalResolverAddress:i}){let o=i;if(!o){if(!n.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=Cn({blockNumber:a,chain:n.chain,contract:"ensUniversalResolver"})}const[c]=await G(n,gt,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[te(or(s))],blockNumber:a,blockTag:r});return c}(e,t),getEnsText:t=>bc(e,t),getFeeHistory:t=>Qy(e,t),estimateFeesPerGas:t=>async function(n,a){return Qs(n,a)}(e,t),getFilterChanges:t=>rr(0,t),getFilterLogs:t=>async function(n,{filter:a}){const r=a.strict??!1,s=(await a.request({method:"eth_getFilterLogs",params:[a.id]})).map(i=>St(i));return a.abi?Ui({abi:a.abi,logs:s,strict:r}):s}(0,t),getGasPrice:()=>Li(e),getLogs:t=>ei(e,t),getProof:t=>sm(e,t),estimateMaxPriorityFeePerGas:t=>async function(n,a){return _d(n,a)}(e,t),getStorageAt:t=>async function(n,{address:a,blockNumber:r,blockTag:s="latest",slot:i}){const o=r!==void 0?W(r):void 0;return await n.request({method:"eth_getStorageAt",params:[a,i,o||s]})}(e,t),getTransaction:t=>cs(e,t),getTransactionConfirmations:t=>async function(n,{hash:a,transactionReceipt:r}){const[s,i]=await Promise.all([G(n,na,"getBlockNumber")({}),a?G(n,cs,"getTransaction")({hash:a}):void 0]),o=(r==null?void 0:r.blockNumber)||(i==null?void 0:i.blockNumber);return o?s-o+1n:0n}(e,t),getTransactionCount:t=>Fi(e,t),getTransactionReceipt:t=>us(e,t),multicall:t=>async function(n,a){var g;const{allowFailure:r=!0,batchSize:s,blockNumber:i,blockTag:o,multicallAddress:c,stateOverride:u}=a,l=a.contracts,d=s??(typeof((g=n.batch)==null?void 0:g.multicall)=="object"&&n.batch.multicall.batchSize||1024);let p=c;if(!p){if(!n.chain)throw new Error("client chain not configured. multicallAddress is required.");p=Cn({blockNumber:i,chain:n.chain,contract:"multicall3"})}const h=[[]];let b=0,y=0;for(let w=0;w<l.length;w++){const{abi:k,address:I,args:A,functionName:C}=l[w];try{const P=tt({abi:k,args:A,functionName:C});y+=(P.length-2)/2,d>0&&y>d&&h[b].length>0&&(b++,y=(P.length-2)/2,h[b]=[]),h[b]=[...h[b],{allowFailure:!0,callData:P,target:I}]}catch(P){const x=sn(P,{abi:k,address:I,args:A,docsPath:"/docs/contract/multicall",functionName:C});if(!r)throw x;h[b]=[...h[b],{allowFailure:!0,callData:"0x",target:I}]}}const m=await Promise.allSettled(h.map(w=>G(n,gt,"readContract")({abi:ti,address:p,args:[w],blockNumber:i,blockTag:o,functionName:"aggregate3",stateOverride:u}))),f=[];for(let w=0;w<m.length;w++){const k=m[w];if(k.status==="rejected"){if(!r)throw k.reason;for(let A=0;A<h[w].length;A++)f.push({status:"failure",error:k.reason,result:void 0});continue}const I=k.value;for(let A=0;A<I.length;A++){const{returnData:C,success:P}=I[A],{callData:x}=h[w][A],{abi:v,address:E,functionName:M,args:B}=l[f.length];try{if(x==="0x")throw new Pa;if(!P)throw new kr({data:C});const S=on({abi:v,args:B,data:C,functionName:M});f.push(r?{result:S,status:"success"}:S)}catch(S){const T=sn(S,{abi:v,address:E,args:B,docsPath:"/docs/contract/multicall",functionName:M});if(!r)throw T;f.push({error:T,result:void 0,status:"failure"})}}}if(f.length!==l.length)throw new R("multicall results mismatch");return f}(e,t),prepareTransactionRequest:t=>Cr(e,t),readContract:t=>gt(e,t),sendRawTransaction:t=>Hi(e,t),simulate:t=>ci(e,t),simulateBlocks:t=>ci(e,t),simulateCalls:t=>Fm(e,t),simulateContract:t=>Gd(e,t),verifyMessage:t=>async function(n,{address:a,message:r,factory:s,factoryData:i,signature:o,...c}){return bi(n,{address:a,factory:s,factoryData:i,hash:Ki(r),signature:o,...c})}(e,t),verifySiweMessage:t=>ef(e,t),verifyTypedData:t=>async function(n,a){const{address:r,factory:s,factoryData:i,signature:o,message:c,primaryType:u,types:l,domain:d,...p}=a;return bi(n,{address:r,factory:s,factoryData:i,hash:el({message:c,primaryType:u,types:l,domain:d}),signature:o,...p})}(e,t),uninstallFilter:t=>sr(0,t),waitForTransactionReceipt:t=>async function(n,{confirmations:a=1,hash:r,onReplaced:s,pollingInterval:i=n.pollingInterval,retryCount:o=6,retryDelay:c=({count:l})=>200*(1<<l),timeout:u=18e4}){const l=Te(["waitForTransactionReceipt",n.uid,r]);let d,p,h,b=!1;const{promise:y,resolve:m,reject:f}=Hd(),g=u?setTimeout(()=>f(new Gp({hash:r})),u):void 0,w=qt(l,{onReplaced:s,resolve:m,reject:f},k=>{const I=G(n,Kc,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:i,async onBlockNumber(A){const C=x=>{clearTimeout(g),I(),x(),w()};let P=A;if(!b)try{if(h)return a>1&&(!h.blockNumber||P-h.blockNumber+1n<a)?void 0:void C(()=>k.resolve(h));if(d||(b=!0,await ri(async()=>{d=await G(n,cs,"getTransaction")({hash:r}),d.blockNumber&&(P=d.blockNumber)},{delay:c,retryCount:o}),b=!1),h=await G(n,us,"getTransactionReceipt")({hash:r}),a>1&&(!h.blockNumber||P-h.blockNumber+1n<a))return;C(()=>k.resolve(h))}catch(x){if(x instanceof Gu||x instanceof qu){if(!d)return void(b=!1);try{p=d,b=!0;const v=await ri(()=>G(n,bt,"getBlock")({blockNumber:P,includeTransactions:!0}),{delay:c,retryCount:o,shouldRetry:({error:B})=>B instanceof Rd});b=!1;const E=v.transactions.find(({from:B,nonce:S})=>B===p.from&&S===p.nonce);if(!E||(h=await G(n,us,"getTransactionReceipt")({hash:E.hash}),a>1&&(!h.blockNumber||P-h.blockNumber+1n<a)))return;let M="replaced";E.to===p.to&&E.value===p.value&&E.input===p.input?M="repriced":E.from===E.to&&E.value===0n&&(M="cancelled"),C(()=>{var B;(B=k.onReplaced)==null||B.call(k,{reason:M,replacedTransaction:p,transaction:E,transactionReceipt:h}),k.resolve(h)})}catch(v){C(()=>k.reject(v))}}else C(()=>k.reject(x))}}})});return y}(e,t),watchBlocks:t=>function(n,{blockTag:a="latest",emitMissed:r=!1,emitOnBegin:s=!1,onBlock:i,onError:o,includeTransactions:c,poll:u,pollingInterval:l=n.pollingInterval}){const d=u!==void 0?u:n.transport.type!=="webSocket"&&(n.transport.type!=="fallback"||n.transport.transports[0].config.type!=="webSocket"),p=c??!1;let h;return d?qt(Te(["watchBlocks",n.uid,a,r,s,p,l]),{onBlock:i,onError:o},b=>ta(async()=>{var y;try{const m=await G(n,bt,"getBlock")({blockTag:a,includeTransactions:p});if(m.number&&(h!=null&&h.number)){if(m.number===h.number)return;if(m.number-h.number>1&&r)for(let f=(h==null?void 0:h.number)+1n;f<m.number;f++){const g=await G(n,bt,"getBlock")({blockNumber:f,includeTransactions:p});b.onBlock(g,h),h=g}}(!(h!=null&&h.number)||a==="pending"&&!(m!=null&&m.number)||m.number&&m.number>h.number)&&(b.onBlock(m,h),h=m)}catch(m){(y=b.onError)==null||y.call(b,m)}},{emitOnBegin:s,interval:l})):(()=>{let b=!0,y=!0,m=()=>b=!1;return(async()=>{try{s&&G(n,bt,"getBlock")({blockTag:a,includeTransactions:p}).then(w=>{b&&y&&(i(w,void 0),y=!1)});const f=(()=>{if(n.transport.type==="fallback"){const w=n.transport.transports.find(k=>k.config.type==="webSocket");return w?w.value:n.transport}return n.transport})(),{unsubscribe:g}=await f.subscribe({params:["newHeads"],async onData(w){if(!b)return;const k=await G(n,bt,"getBlock")({blockNumber:w.blockNumber,includeTransactions:p}).catch(()=>{});b&&(i(k,h),y=!1,h=k)},onError(w){o==null||o(w)}});m=g,b||m()}catch(f){o==null||o(f)}})(),()=>m()})()}(e,t),watchBlockNumber:t=>Kc(e,t),watchContractEvent:t=>qd(e,t),watchEvent:t=>function(n,{address:a,args:r,batch:s=!0,event:i,events:o,fromBlock:c,onError:u,onLogs:l,poll:d,pollingInterval:p=n.pollingInterval,strict:h}){const b=d!==void 0?d:typeof c=="bigint"||n.transport.type!=="webSocket"&&(n.transport.type!=="fallback"||n.transport.transports[0].config.type!=="webSocket"),y=h??!1;return b?qt(Te(["watchEvent",a,r,s,n.uid,i,p,c]),{onLogs:l,onError:u},m=>{let f,g;c!==void 0&&(f=c-1n);let w=!1;const k=ta(async()=>{var I;if(w)try{let A;if(g)A=await G(n,rr,"getFilterChanges")({filter:g});else{const C=await G(n,na,"getBlockNumber")({});A=f&&f!==C?await G(n,ei,"getLogs")({address:a,args:r,event:i,events:o,fromBlock:f+1n,toBlock:C}):[],f=C}if(A.length===0)return;if(s)m.onLogs(A);else for(const C of A)m.onLogs([C])}catch(A){g&&A instanceof rn&&(w=!1),(I=m.onError)==null||I.call(m,A)}else{try{g=await G(n,gc,"createEventFilter")({address:a,args:r,event:i,events:o,strict:y,fromBlock:c})}catch{}w=!0}},{emitOnBegin:!0,interval:p});return async()=>{g&&await G(n,sr,"uninstallFilter")({filter:g}),k()}}):(()=>{let m=!0,f=()=>m=!1;return(async()=>{try{const g=(()=>{if(n.transport.type==="fallback"){const A=n.transport.transports.find(C=>C.config.type==="webSocket");return A?A.value:n.transport}return n.transport})(),w=o??(i?[i]:void 0);let k=[];w&&(k=[w.flatMap(C=>Na({abi:[C],eventName:C.name,args:r}))],i&&(k=k[0]));const{unsubscribe:I}=await g.subscribe({params:["logs",{address:a,topics:k}],onData(A){var P;if(!m)return;const C=A.result;try{const{eventName:x,args:v}=Tr({abi:w??[],data:C.data,topics:C.topics,strict:y}),E=St(C,{args:v,eventName:x});l([E])}catch(x){let v,E;if(x instanceof ia||x instanceof gr){if(h)return;v=x.abiItem.name,E=(P=x.abiItem.inputs)==null?void 0:P.some(B=>!("name"in B&&B.name))}const M=St(C,{args:E?[]:{},eventName:v});l([M])}},onError(A){u==null||u(A)}});f=I,m||f()}catch(g){u==null||u(g)}})(),()=>f()})()}(e,t),watchPendingTransactions:t=>function(n,{batch:a=!0,onError:r,onTransactions:s,poll:i,pollingInterval:o=n.pollingInterval}){return(i!==void 0?i:n.transport.type!=="webSocket")?qt(Te(["watchPendingTransactions",n.uid,a,o]),{onTransactions:s,onError:r},c=>{let u;const l=ta(async()=>{var d;try{if(!u)try{return void(u=await G(n,wc,"createPendingTransactionFilter")({}))}catch(h){throw l(),h}const p=await G(n,rr,"getFilterChanges")({filter:u});if(p.length===0)return;if(a)c.onTransactions(p);else for(const h of p)c.onTransactions([h])}catch(p){(d=c.onError)==null||d.call(c,p)}},{emitOnBegin:!0,interval:o});return async()=>{u&&await G(n,sr,"uninstallFilter")({filter:u}),l()}}):(()=>{let c=!0,u=()=>c=!1;return(async()=>{try{const{unsubscribe:l}=await n.transport.subscribe({params:["newPendingTransactions"],onData(d){if(!c)return;const p=d.result;s([p])},onError(d){r==null||r(d)}});u=l,c||u()}catch(l){r==null||r(l)}})(),()=>u()})()}(e,t)}}async function nf(e,t){const{account:n=e.account,domain:a,message:r,primaryType:s}=t;if(!n)throw new sa({docsPath:"/docs/actions/wallet/signTypedData"});const i=Ue(n),o={EIP712Domain:sl({domain:a}),...t.types};if(rl({domain:a,message:r,primaryType:s,types:o}),i.signTypedData)return i.signTypedData({domain:a,message:r,primaryType:s,types:o});const c=function(u){const{domain:l,message:d,primaryType:p,types:h}=u,b=(f,g)=>{const w={...g};for(const k of f){const{name:I,type:A}=k;A==="address"&&(w[I]=w[I].toLowerCase())}return w},y=h.EIP712Domain&&l?b(h.EIP712Domain,l):{},m=(()=>{if(p!=="EIP712Domain")return b(h[p],d)})();return Te({domain:y,message:m,primaryType:p,types:h})}({domain:a,message:r,primaryType:s,types:o});return e.request({method:"eth_signTypedData_v4",params:[i.address,c]},{retryCount:0})}function af(e){return{addChain:t=>async function(n,{chain:a}){const{id:r,name:s,nativeCurrency:i,rpcUrls:o,blockExplorers:c}=a;await n.request({method:"wallet_addEthereumChain",params:[{chainId:W(r),chainName:s,nativeCurrency:i,rpcUrls:o.default.http,blockExplorerUrls:c?Object.values(c).map(({url:u})=>u):void 0}]},{dedupe:!0,retryCount:0})}(e,t),deployContract:t=>function(n,a){const{abi:r,args:s,bytecode:i,...o}=a,c=pr({abi:r,args:s,bytecode:i});return ai(n,{...o,...o.authorizationList?{to:null}:{},data:c})}(e,t),getAddresses:()=>async function(t){var n;return((n=t.account)==null?void 0:n.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(a=>Ta(a))}(e),getChainId:()=>va(e),getPermissions:()=>async function(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}(e),prepareTransactionRequest:t=>Cr(e,t),requestAddresses:()=>async function(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>nd(n))}(e),requestPermissions:t=>async function(n,a){return n.request({method:"wallet_requestPermissions",params:[a]},{retryCount:0})}(e,t),sendRawTransaction:t=>Hi(e,t),sendTransaction:t=>ai(e,t),signMessage:t=>async function(n,{account:a=n.account,message:r}){if(!a)throw new sa({docsPath:"/docs/actions/wallet/signMessage"});const s=Ue(a);if(s.signMessage)return s.signMessage({message:r});const i=typeof r=="string"?he(r):r.raw instanceof Uint8Array?te(r.raw):r.raw;return n.request({method:"personal_sign",params:[i,s.address]},{retryCount:0})}(e,t),signTransaction:t=>async function(n,a){var d,p,h,b;const{account:r=n.account,chain:s=n.chain,...i}=a;if(!r)throw new sa({docsPath:"/docs/actions/wallet/signTransaction"});const o=Ue(r);un({account:o,...a});const c=await G(n,va,"getChainId")({});s!==null&&cd({currentChainId:c,chain:s});const u=(s==null?void 0:s.formatters)||((d=n.chain)==null?void 0:d.formatters),l=((p=u==null?void 0:u.transactionRequest)==null?void 0:p.format)||Fn;return o.signTransaction?o.signTransaction({...i,chainId:c},{serializer:(b=(h=n.chain)==null?void 0:h.serializers)==null?void 0:b.transaction}):await n.request({method:"eth_signTransaction",params:[{...l(i),chainId:W(c),from:o.address}]},{retryCount:0})}(e,t),signTypedData:t=>nf(e,t),switchChain:t=>async function(n,{id:a}){await n.request({method:"wallet_switchEthereumChain",params:[{chainId:W(a)}]},{retryCount:0})}(e,t),watchAsset:t=>async function(n,a){return await n.request({method:"wallet_watchAsset",params:a},{retryCount:0})}(e,t),writeContract:t=>Kd(e,t)}}function Vc(e){const{key:t="wallet",name:n="Wallet Client",transport:a}=e;return Wd({...e,key:t,name:n,transport:a,type:"walletClient"}).extend(af)}function rf(e,t={}){const{keepAlive:n,key:a="webSocket",methods:r,name:s="WebSocket JSON-RPC",reconnect:i,retryDelay:o}=t;return({chain:c,retryCount:u,timeout:l})=>{var b;const d=t.retryCount??u,p=l??t.timeout??1e4,h=e||((b=c==null?void 0:c.rpcUrls.default.webSocket)==null?void 0:b[0]);if(!h)throw new Zd;return Gi({key:a,methods:r,name:s,async request({method:y,params:m}){const f={method:y,params:m},g=await Qa(h,{keepAlive:n,reconnect:i}),{error:w,result:k}=await g.requestAsync({body:f,timeout:p});if(w)throw new xr({body:f,error:w,url:h});return k},retryCount:d,retryDelay:o,timeout:p,type:"webSocket"},{getSocket:()=>async function(y){const m=await Qa(y);return Object.assign(m.socket,{requests:m.requests,subscriptions:m.subscriptions})}(h),getRpcClient:()=>Qa(h),async subscribe({params:y,onData:m,onError:f}){const g=await Qa(h),{result:w}=await new Promise((k,I)=>g.request({body:{method:"eth_subscribe",params:y},onError(A){I(A),f==null||f(A)},onResponse(A){if(A.error)return I(A.error),void(f==null?void 0:f(A.error));typeof A.id!="number"?A.method==="eth_subscription"&&m(A.params):k(A)}}));return{subscriptionId:w,unsubscribe:async()=>new Promise(k=>g.request({body:{method:"eth_unsubscribe",params:[w]},onResponse:k}))}}})}}Md({},{cbt:()=>Ol,entry:()=>$r,linklist:()=>eo,mira:()=>Fl,newbieVilla:()=>Sl,periphery:()=>$l,tips:()=>Rl,tipsWithConfig:()=>Ll,tipsWithFee:()=>_l});var $r=[{inputs:[{name:"characterId",type:"uint256"}],name:"ErrCharacterNotExists",type:"error"},{inputs:[],name:"ErrHandleContainsInvalidCharacters",type:"error"},{inputs:[],name:"ErrHandleExists",type:"error"},{inputs:[],name:"ErrHandleLengthInvalid",type:"error"},{inputs:[],name:"ErrNotCharacterOwner",type:"error"},{inputs:[],name:"ErrNotEnoughPermission",type:"error"},{inputs:[],name:"ErrNotEnoughPermissionForThisNote",type:"error"},{inputs:[],name:"ErrNoteIsDeleted",type:"error"},{inputs:[],name:"ErrNoteLocked",type:"error"},{inputs:[],name:"ErrNoteNotExists",type:"error"},{inputs:[],name:"ErrSignatureExpired",type:"error"},{inputs:[],name:"ErrSignatureInvalid",type:"error"},{inputs:[],name:"ErrSocialTokenExists",type:"error"},{inputs:[],name:"ErrTokenNotExists",type:"error"},{inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"approved",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{inputs:[{indexed:!1,name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"linklistId",type:"uint256"}],name:"burnLinklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"to",type:"address"},{name:"handle",type:"string"},{name:"uri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"}],name:"vars",type:"tuple"}],name:"createCharacter",outputs:[{name:"characterId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"to",type:"address"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"createThenLinkCharacter",outputs:[{name:"characterId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"deleteNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"getCharacter",outputs:[{components:[{name:"characterId",type:"uint256"},{name:"handle",type:"string"},{name:"uri",type:"string"},{name:"noteCount",type:"uint256"},{name:"socialToken",type:"address"},{name:"linkModule",type:"address"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"handle",type:"string"}],name:"getCharacterByHandle",outputs:[{components:[{name:"characterId",type:"uint256"},{name:"handle",type:"string"},{name:"uri",type:"string"},{name:"noteCount",type:"uint256"},{name:"socialToken",type:"address"},{name:"linkModule",type:"address"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"getCharacterUri",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeparator",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"getHandle",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLinklistContract",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinklistId",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkListId",type:"uint256"}],name:"getLinklistType",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinklistUri",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"getNote",outputs:[{components:[{name:"linkItemType",type:"bytes32"},{name:"linkKey",type:"bytes32"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"mintModule",type:"address"},{name:"mintNFT",type:"address"},{name:"deleted",type:"bool"},{name:"locked",type:"bool"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"operator",type:"address"}],name:"getOperatorPermissions",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"getOperators",outputs:[{name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"getOperators4Note",outputs:[{name:"blocklist",type:"address[]"},{name:"allowlist",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"getPrimaryCharacterId",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRevision",outputs:[{name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"operator",type:"address"},{name:"permissionBitMap",type:"uint256"}],name:"grantOperatorPermissions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"operator",type:"address"},{name:"permissionBitMap",type:"uint256"},{components:[{name:"v",type:"uint8"},{name:"r",type:"bytes32"},{name:"s",type:"bytes32"},{name:"deadline",type:"uint256"}],name:"sig",type:"tuple"}],name:"grantOperatorPermissionsWithSig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"},{name:"blocklist",type:"address[]"},{name:"allowlist",type:"address[]"}],name:"grantOperators4Note",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"name_",type:"string"},{name:"symbol_",type:"string"},{name:"linklist_",type:"address"},{name:"mintNFTImpl_",type:"address"},{name:"periphery_",type:"address"},{name:"newbieVilla_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"},{name:"operator",type:"address"}],name:"isOperatorAllowedForNote",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"isPrimaryCharacter",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"ethAddress",type:"address"},{name:"linkType",type:"bytes32"},{name:"data",type:"bytes"}],name:"vars",type:"tuple"}],name:"linkAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toUri",type:"string"},{name:"linkType",type:"bytes32"},{name:"data",type:"bytes"}],name:"vars",type:"tuple"}],name:"linkAnyUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"},{name:"data",type:"bytes"}],name:"vars",type:"tuple"}],name:"linkCharacter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"tokenAddress",type:"address"},{name:"tokenId",type:"uint256"},{name:"linkType",type:"bytes32"},{name:"data",type:"bytes"}],name:"vars",type:"tuple"}],name:"linkERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toLinkListId",type:"uint256"},{name:"linkType",type:"bytes32"},{name:"data",type:"bytes"}],name:"vars",type:"tuple"}],name:"linkLinklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"toNoteId",type:"uint256"},{name:"linkType",type:"bytes32"},{name:"data",type:"bytes"}],name:"vars",type:"tuple"}],name:"linkNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"lockNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"},{name:"to",type:"address"},{name:"mintModuleData",type:"bytes"}],name:"vars",type:"tuple"}],name:"mintNote",outputs:[{name:"tokenId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"data",type:"bytes[]"}],name:"multicall",outputs:[{name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"nonces",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"}],name:"postNote",outputs:[{name:"noteId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"},{name:"ethAddress",type:"address"}],name:"postNote4Address",outputs:[{name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"},{name:"uri",type:"string"}],name:"postNote4AnyUri",outputs:[{name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"},{name:"toCharacterId",type:"uint256"}],name:"postNote4Character",outputs:[{name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"},{components:[{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"erc721",type:"tuple"}],name:"postNote4ERC721",outputs:[{name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"},{name:"toLinklistId",type:"uint256"}],name:"postNote4Linklist",outputs:[{name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"},{name:"locked",type:"bool"}],name:"vars",type:"tuple"},{components:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"note",type:"tuple"}],name:"postNote4Note",outputs:[{name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"resolver",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"newUri",type:"string"}],name:"setCharacterUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"newHandle",type:"string"}],name:"setHandle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"}],name:"vars",type:"tuple"}],name:"setLinkModule4Character",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"},{name:"linkModule",type:"address"},{name:"linkModuleInitData",type:"bytes"}],name:"vars",type:"tuple"}],name:"setLinkModule4Note",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"linklistId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"setLinklistType",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"linklistId",type:"uint256"},{name:"uri",type:"string"}],name:"setLinklistUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"},{name:"mintModule",type:"address"},{name:"mintModuleInitData",type:"bytes"}],name:"vars",type:"tuple"}],name:"setMintModule4Note",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"},{name:"newUri",type:"string"}],name:"setNoteUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"setPrimaryCharacterId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"tokenAddress",type:"address"}],name:"setSocialToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"tokenURI",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"ethAddress",type:"address"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"unlinkAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toUri",type:"string"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"unlinkAnyUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"unlinkCharacter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"tokenAddress",type:"address"},{name:"tokenId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"unlinkERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toLinkListId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"unlinkLinklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"toNoteId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"unlinkNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{indexed:!0,name:"linklistId",type:"uint256"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"linkType",type:"bytes32"}],name:"AttachLinklist",type:"event"},{inputs:[{indexed:!1,name:"name",type:"string"},{indexed:!1,name:"symbol",type:"string"},{indexed:!1,name:"timestamp",type:"uint256"}],name:"BaseInitialized",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"creator",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"handle",type:"string"},{indexed:!1,name:"timestamp",type:"uint256"}],name:"CharacterCreated",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!1,name:"noteId",type:"uint256"}],name:"DeleteNote",type:"event"},{inputs:[{indexed:!0,name:"linklistId",type:"uint256"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"linkType",type:"bytes32"}],name:"DetachLinklist",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"permissionBitMap",type:"uint256"}],name:"GrantOperatorPermissions",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"noteId",type:"uint256"},{indexed:!1,name:"blocklist",type:"address[]"},{indexed:!1,name:"allowlist",type:"address[]"}],name:"GrantOperators4Note",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"ethAddress",type:"address"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"LinkAddress",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!1,name:"toUri",type:"string"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"LinkAnyUri",type:"event"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"LinkCharacter",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"linkType",type:"bytes32"},{indexed:!1,name:"clFromCharacterId",type:"uint256"},{indexed:!1,name:"clToCharacterId",type:"uint256"},{indexed:!1,name:"clLinkType",type:"bytes32"}],name:"LinkCharacterLink",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"tokenAddress",type:"address"},{indexed:!0,name:"toNoteId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"LinkERC721",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toLinklistId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!0,name:"linklistId",type:"uint256"}],name:"LinkLinklist",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!0,name:"toNoteId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"LinkNote",type:"event"},{inputs:[{indexed:!1,name:"timestamp",type:"uint256"}],name:"LinklistNFTInitialized",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!1,name:"noteId",type:"uint256"}],name:"LockNote",type:"event"},{inputs:[{indexed:!1,name:"characterId",type:"uint256"},{indexed:!1,name:"noteId",type:"uint256"},{indexed:!1,name:"timestamp",type:"uint256"}],name:"MintNFTInitialized",type:"event"},{inputs:[{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"noteId",type:"uint256"},{indexed:!1,name:"tokenAddress",type:"address"},{indexed:!1,name:"tokenId",type:"uint256"}],name:"MintNote",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"noteId",type:"uint256"},{indexed:!0,name:"linkKey",type:"bytes32"},{indexed:!1,name:"linkItemType",type:"bytes32"},{indexed:!1,name:"data",type:"bytes"}],name:"PostNote",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"noteId",type:"uint256"},{indexed:!0,name:"amount",type:"uint256"},{indexed:!1,name:"approvedAddresses",type:"address[]"}],name:"SetApprovedMintAmount4Addresses",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!1,name:"newUri",type:"string"}],name:"SetCharacterUri",type:"event"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!1,name:"newHandle",type:"string"}],name:"SetHandle",type:"event"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"linkModule",type:"address"},{indexed:!1,name:"linkModuleInitData",type:"bytes"},{indexed:!1,name:"returnData",type:"bytes"}],name:"SetLinkModule4Address",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"linkModule",type:"address"},{indexed:!1,name:"linkModuleInitData",type:"bytes"},{indexed:!1,name:"returnData",type:"bytes"}],name:"SetLinkModule4Character",type:"event"},{inputs:[{indexed:!0,name:"tokenAddress",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"},{indexed:!0,name:"linkModule",type:"address"},{indexed:!1,name:"linkModuleInitData",type:"bytes"},{indexed:!1,name:"returnData",type:"bytes"}],name:"SetLinkModule4ERC721",type:"event"},{inputs:[{indexed:!0,name:"linklistId",type:"uint256"},{indexed:!0,name:"linkModule",type:"address"},{indexed:!1,name:"linkModuleInitData",type:"bytes"},{indexed:!1,name:"returnData",type:"bytes"}],name:"SetLinkModule4Linklist",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"noteId",type:"uint256"},{indexed:!0,name:"linkModule",type:"address"},{indexed:!1,name:"linkModuleInitData",type:"bytes"},{indexed:!1,name:"returnData",type:"bytes"}],name:"SetLinkModule4Note",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"noteId",type:"uint256"},{indexed:!0,name:"mintModule",type:"address"},{indexed:!1,name:"mintModuleInitData",type:"bytes"},{indexed:!1,name:"returnData",type:"bytes"}],name:"SetMintModule4Note",type:"event"},{inputs:[{indexed:!0,name:"characterId",type:"uint256"},{indexed:!1,name:"noteId",type:"uint256"},{indexed:!1,name:"newUri",type:"string"}],name:"SetNoteUri",type:"event"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"oldCharacterId",type:"uint256"}],name:"SetPrimaryCharacterId",type:"event"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"tokenAddress",type:"address"}],name:"SetSocialToken",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"ethAddress",type:"address"},{indexed:!1,name:"linkType",type:"bytes32"}],name:"UnlinkAddress",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!1,name:"toUri",type:"string"},{indexed:!1,name:"linkType",type:"bytes32"}],name:"UnlinkAnyUri",type:"event"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"}],name:"UnlinkCharacter",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"linkType",type:"bytes32"},{indexed:!1,name:"clFromCharactereId",type:"uint256"},{indexed:!1,name:"clToCharacterId",type:"uint256"},{indexed:!1,name:"clLinkType",type:"bytes32"}],name:"UnlinkCharacterLink",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"tokenAddress",type:"address"},{indexed:!0,name:"toNoteId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"UnlinkERC721",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toLinklistId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!0,name:"linklistId",type:"uint256"}],name:"UnlinkLinklist",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!0,name:"toNoteId",type:"uint256"},{indexed:!1,name:"linkType",type:"bytes32"},{indexed:!1,name:"linklistId",type:"uint256"}],name:"UnlinkNote",type:"event"},{inputs:[{indexed:!1,name:"timestamp",type:"uint256"}],name:"Web3EntryInitialized",type:"event"}],$l=[{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingAddress",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinkingAddresses",outputs:[{name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingAnyUri",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinkingAnyUris",outputs:[{name:"results",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingCharacterId",outputs:[{name:"characterId",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinkingCharacterIds",outputs:[{name:"results",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingERC721",outputs:[{components:[{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinkingERC721s",outputs:[{components:[{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingLinklistId",outputs:[{name:"linklistId",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinkingLinklistIds",outputs:[{name:"linklistIds",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingNote",outputs:[{components:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"getLinkingNotes",outputs:[{components:[{name:"linkItemType",type:"bytes32"},{name:"linkKey",type:"bytes32"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"mintModule",type:"address"},{name:"mintNFT",type:"address"},{name:"deleted",type:"bool"},{name:"locked",type:"bool"}],name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"offset",type:"uint256"},{name:"limit",type:"uint256"}],name:"getNotesByCharacterId",outputs:[{components:[{name:"linkItemType",type:"bytes32"},{name:"linkKey",type:"bytes32"},{name:"contentUri",type:"string"},{name:"linkModule",type:"address"},{name:"mintModule",type:"address"},{name:"mintNFT",type:"address"},{name:"deleted",type:"bool"},{name:"locked",type:"bool"}],name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"_web3Entry",type:"address"},{name:"_linklist",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterIds",type:"uint256[]"},{name:"data",type:"bytes[]"},{name:"toAddresses",type:"address[]"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"linkCharactersInBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"linklist",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{name:"account",type:"address"},{name:"handle",type:"string"},{name:"uri",type:"string"},{name:"toAddresses",type:"address[]"},{name:"linkType",type:"bytes32"}],name:"vars",type:"tuple"}],name:"migrate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"web3Entry",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"}],Ol=[{inputs:[{name:"web3Entry",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{inputs:[{indexed:!0,name:"from",type:"uint256"},{indexed:!0,name:"tokenId",type:"uint256"},{indexed:!0,name:"amount",type:"uint256"}],name:"Burn",type:"event"},{inputs:[{indexed:!0,name:"to",type:"uint256"},{indexed:!0,name:"tokenId",type:"uint256"},{indexed:!0,name:"tokenNumber",type:"uint256"}],name:"Mint",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"previousAdminRole",type:"bytes32"},{indexed:!0,name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"ids",type:"uint256[]"},{indexed:!1,name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"id",type:"uint256"},{indexed:!1,name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{inputs:[{indexed:!1,name:"value",type:"string"},{indexed:!0,name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MINTER_ROLE",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"_web3Entry",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"},{name:"tokenId",type:"uint256"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"tokenId",type:"uint256"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"accounts",type:"address[]"},{name:"tokenIds",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"tokenId",type:"uint256"},{name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"hasRole",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"},{name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"tokenId",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"address"},{name:"",type:"uint256[]"},{name:"",type:"uint256[]"},{name:"",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"address"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"tokenURI",type:"string"}],name:"setTokenURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"uri",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"}],Sl=[{inputs:[{indexed:!1,name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"previousAdminRole",type:"bytes32"},{indexed:!0,name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[{indexed:!1,name:"to",type:"address"},{indexed:!1,name:"characterId",type:"uint256"},{indexed:!1,name:"token",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[],name:"ADMIN_ROLE",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ERC1820_REGISTRY",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"TOKENS_RECIPIENT_INTERFACE_HASH",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getToken",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"hasRole",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"web3Entry_",type:"address"},{name:"xsyncOperator_",type:"address"},{name:"token_",type:"address"},{name:"admin_",type:"address"},{name:"tips_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"operator",type:"address"},{name:"",type:"address"},{name:"tokenId",type:"uint256"},{name:"data",type:"bytes"}],name:"onERC721Received",outputs:[{name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"amount",type:"uint256"}],name:"tipCharacter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"toNoteId",type:"uint256"},{name:"amount",type:"uint256"}],name:"tipCharacterForNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"},{name:"userData",type:"bytes"},{name:"operatorData",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"web3Entry",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"characterId",type:"uint256"},{name:"nonce",type:"uint256"},{name:"expires",type:"uint256"},{name:"proof",type:"bytes"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"xsyncOperator",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"}],Rl=[{inputs:[],name:"ErrCallerNotCharacterOwner",type:"error"},{inputs:[{indexed:!1,name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!1,name:"token",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"TipCharacter",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!0,name:"toNoteId",type:"uint256"},{indexed:!1,name:"token",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"TipCharacterForNote",type:"event"},{inputs:[],name:"ERC1820_REGISTRY",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"TOKENS_RECIPIENT_INTERFACE_HASH",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getToken",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWeb3Entry",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"web3Entry_",type:"address"},{name:"token_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"},{name:"userData",type:"bytes"},{name:"operatorData",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"nonpayable",type:"function"}],_l=[{inputs:[{indexed:!1,name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!1,name:"token",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"fee",type:"uint256"},{indexed:!1,name:"feeReceiver",type:"address"}],name:"TipCharacter",type:"event"},{inputs:[{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!0,name:"toNoteId",type:"uint256"},{indexed:!1,name:"token",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"fee",type:"uint256"},{indexed:!1,name:"feeReceiver",type:"address"}],name:"TipCharacterForNote",type:"event"},{inputs:[],name:"ERC1820_REGISTRY",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"TOKENS_RECIPIENT_INTERFACE_HASH",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"feeReceiver",type:"address"},{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"},{name:"tipAmount",type:"uint256"}],name:"getFeeAmount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"feeReceiver",type:"address"},{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"getFeeFraction",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getToken",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWeb3Entry",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"web3Entry_",type:"address"},{name:"token_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"feeReceiver",type:"address"},{name:"fraction",type:"uint256"}],name:"setDefaultFeeFraction",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"feeReceiver",type:"address"},{name:"characterId",type:"uint256"},{name:"fraction",type:"uint256"}],name:"setFeeFraction4Character",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"feeReceiver",type:"address"},{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"},{name:"fraction",type:"uint256"}],name:"setFeeFraction4Note",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"},{name:"userData",type:"bytes"},{name:"operatorData",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"nonpayable",type:"function"}],Ll=[{inputs:[{indexed:!0,name:"tipConfigId",type:"uint256"}],name:"CancelTips4Character",type:"event"},{inputs:[{indexed:!0,name:"tipConfigId",type:"uint256"},{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!1,name:"token",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"fee",type:"uint256"},{indexed:!1,name:"feeReceiver",type:"address"},{indexed:!1,name:"currentRound",type:"uint256"}],name:"CollectTips4Character",type:"event"},{inputs:[{indexed:!1,name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{indexed:!0,name:"tipConfigId",type:"uint256"},{indexed:!0,name:"fromCharacterId",type:"uint256"},{indexed:!0,name:"toCharacterId",type:"uint256"},{indexed:!1,name:"token",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"startTime",type:"uint256"},{indexed:!1,name:"endTime",type:"uint256"},{indexed:!1,name:"interval",type:"uint256"},{indexed:!1,name:"feeReceiver",type:"address"},{indexed:!1,name:"totalRound",type:"uint256"}],name:"SetTipsConfig4Character",type:"event"},{inputs:[{name:"tipConfigId",type:"uint256"}],name:"cancelTips4Character",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tipConfigId",type:"uint256"}],name:"collectTips4Character",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"feeReceiver",type:"address"},{name:"characterId",type:"uint256"},{name:"tipAmount",type:"uint256"}],name:"getFeeAmount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"feeReceiver",type:"address"},{name:"characterId",type:"uint256"}],name:"getFeeFraction",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tipConfigId",type:"uint256"}],name:"getTipsConfig",outputs:[{components:[{name:"id",type:"uint256"},{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"token",type:"address"},{name:"amount",type:"uint256"},{name:"startTime",type:"uint256"},{name:"endTime",type:"uint256"},{name:"interval",type:"uint256"},{name:"feeReceiver",type:"address"},{name:"totalRound",type:"uint256"},{name:"currentRound",type:"uint256"}],name:"config",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"}],name:"getTipsConfigId",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWeb3Entry",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"web3Entry_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"feeReceiver",type:"address"},{name:"fraction",type:"uint256"}],name:"setDefaultFeeFraction",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"feeReceiver",type:"address"},{name:"characterId",type:"uint256"},{name:"fraction",type:"uint256"}],name:"setFeeFraction4Character",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"fromCharacterId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"token",type:"address"},{name:"amount",type:"uint256"},{name:"startTime",type:"uint256"},{name:"endTime",type:"uint256"},{name:"interval",type:"uint256"},{name:"feeReceiver",type:"address"}],name:"setTipsConfig4Character",outputs:[],stateMutability:"nonpayable",type:"function"}],Fl=[{inputs:[{name:"name_",type:"string"},{name:"symbol_",type:"string"},{name:"admin",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"tokenHolder",type:"address"}],name:"AuthorizedOperator",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"from",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"operatorData",type:"bytes"}],name:"Burned",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"operatorData",type:"bytes"}],name:"Minted",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"tokenHolder",type:"address"}],name:"RevokedOperator",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"previousAdminRole",type:"bytes32"},{indexed:!0,name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{inputs:[{indexed:!0,name:"role",type:"bytes32"},{indexed:!0,name:"account",type:"address"},{indexed:!0,name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"operatorData",type:"bytes"}],name:"Sent",type:"event"},{inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"BLOCK_ROLE",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"holder",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"operator",type:"address"}],name:"authorizeOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenHolder",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"amount",type:"uint256"},{name:"data",type:"bytes"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[],name:"defaultOperators",outputs:[{name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"granularity",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"hasRole",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"operator",type:"address"},{name:"tokenHolder",type:"address"}],name:"isOperatorFor",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"},{name:"amount",type:"uint256"},{name:"data",type:"bytes"},{name:"operatorData",type:"bytes"}],name:"operatorBurn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"},{name:"data",type:"bytes"},{name:"operatorData",type:"bytes"}],name:"operatorSend",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"operator",type:"address"}],name:"revokeOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"role",type:"bytes32"},{name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"},{name:"data",type:"bytes"}],name:"send",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"holder",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],eo=[{inputs:[],name:"ErrCallerNotWeb3Entry",type:"error"},{inputs:[],name:"ErrCallerNotWeb3EntryOrNotOwner",type:"error"},{inputs:[],name:"ErrTokenNotExists",type:"error"},{inputs:[{indexed:!0,name:"from",type:"uint256"},{indexed:!0,name:"tokenId",type:"uint256"}],name:"Burn",type:"event"},{inputs:[{indexed:!1,name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{indexed:!0,name:"tokenId",type:"uint256"},{indexed:!0,name:"newlinkType",type:"bytes32"}],name:"LinkTypeSet",type:"event"},{inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"characterId",type:"uint256"},{indexed:!0,name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{indexed:!0,name:"tokenId",type:"uint256"},{indexed:!1,name:"uri",type:"string"}],name:"UriSet",type:"event"},{inputs:[{name:"tokenId",type:"uint256"}],name:"Uri",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"Web3Entry",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"ethAddress",type:"address"}],name:"addLinkingAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"toUri",type:"string"}],name:"addLinkingAnyUri",outputs:[{name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"toCharacterId",type:"uint256"}],name:"addLinkingCharacterId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"addLinkingERC721",outputs:[{name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"linklistId",type:"uint256"}],name:"addLinkingLinklistId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"toNoteId",type:"uint256"}],name:"addLinkingNote",outputs:[{name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"characterId",type:"uint256"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"characterOwnerOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getCurrentTakeOver",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkType",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingAddressListLength",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingAddresses",outputs:[{name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingAnyListLength",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingAnyUri",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingAnyUriKeys",outputs:[{name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingAnyUris",outputs:[{name:"results",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingCharacterIds",outputs:[{name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingCharacterListLength",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingERC721",outputs:[{components:[{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingERC721ListLength",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingERC721s",outputs:[{components:[{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingLinklistIds",outputs:[{name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingLinklistLength",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"linkKey",type:"bytes32"}],name:"getLinkingNote",outputs:[{components:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingNoteListLength",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getLinkingNotes",outputs:[{components:[{name:"characterId",type:"uint256"},{name:"noteId",type:"uint256"}],name:"results",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"getOwnerCharacterId",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"name_",type:"string"},{name:"symbol_",type:"string"},{name:"web3Entry_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"characterId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"mint",outputs:[{name:"tokenId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"ethAddress",type:"address"}],name:"removeLinkingAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"toUri",type:"string"}],name:"removeLinkingAnyUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"toCharacterId",type:"uint256"}],name:"removeLinkingCharacterId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"tokenAddress",type:"address"},{name:"erc721TokenId",type:"uint256"}],name:"removeLinkingERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"linklistId",type:"uint256"}],name:"removeLinkingLinklistId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"toCharacterId",type:"uint256"},{name:"toNoteId",type:"uint256"}],name:"removeLinkingNote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"linkType",type:"bytes32"}],name:"setLinkType",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"uri",type:"string"}],name:"setUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"}];function zl(e){const t=e;return t.startsWith("ws")?rf(t,{timeout:3e4,key:"crossbell",name:"crossbell",retryCount:5,retryDelay:5e3}):Hy(t,{timeout:3e4,key:"crossbell",name:"crossbell"})}function sf(e,t){return function(n){const{key:a="public",name:r="Public Client"}=n;return Wd({...n,key:a,name:r,type:"publicClient"}).extend(tf)}({transport:zl(t??e.rpcUrls.default.http[0]),chain:e,pollingInterval:100})}function fe(e,t,{throwOnMultipleLogsFound:n,returnMultipleLogs:a}={}){const r=e.map(s=>{try{return Tr({abi:[...$r,...eo],...s})}catch{return}}).filter(s=>(s==null?void 0:s.eventName)===t);if(r.length===0)throw new Error(`Log with topic ${t} not found`);if(n&&r.length>1)throw new Error(`More than one log with topic ${r} found`);return a?r:r[0]}function tr(e){return typeof e=="string"?{type:"json-rpc",address:e}:e}async function Z(e,t){return xy.backOff(()=>e.waitForTransactionReceipt({hash:t}),{retry:(n,a)=>!0,numOfAttempts:6,timeMultiple:2,startingDelay:100})}var of=new Set(["0x8589427373d6d84e98730d7795d8f6f8731fda16","0x722122df12d4e14e13ac3b6895a86e84145b6967","0xdd4c48c0b24039969fc16d1cdf626eab821d3384","0xd90e2f925da726b50c4ed8d0fb90ad053324f31b","0xd96f2b1c14db8458374d9aca76e26c3d18364307","0x4736dcf1b7a3d580672cce6e7c65cd5cc9cfba9d","0xd4b88df4d29f5cedd6857912842cff3b20c8cfa3","0x910cbd523d972eb0a6f4cae4618ad62622b39dbf","0xa160cdab225685da1d56aa342ad8841c3b53f291","0xfd8610d20aa15b7b2e3be39b396a1bc3516c7144","0xf60dd140cff0706bae9cd734ac3ae76ad9ebc32a","0x22aaa7720ddd5388a3c0a3333430953c68f1849b","0xba214c1c1928a32bffe790263e38b4af9bfcd659","0xb1c8094b234dce6e03f10a5b673c1d8c69739a00","0x527653ea119f3e6a1f5bd18fbf4714081d7b31ce","0x58e8dcc13be9780fc42e8723d8ead4cf46943df2","0xd691f27f38b395864ea86cfc7253969b409c362d","0xaeaac358560e11f52454d997aaff2c5731b6f8a6","0x1356c899d8c9467c7f71c195612f8a395abf2f0a","0xa60c772958a3ed56c1f15dd055ba37ac8e523a0d","0x169ad27a470d064dede56a2d3ff727986b15d52b","0x0836222f2b2b24a3f36f98668ed8f0b38d1a872f","0xf67721a2d8f736e75a49fdd7fad2e31d8676542a","0x9ad122c22b14202b4490edaf288fdb3c7cb3ff5e","0x905b63fff465b9ffbf41dea908ceb12478ec7601","0x07687e702b410fa43f4cb4af7fa097918ffd2730","0x94a1b5cdb22c43faab4abeb5c74999895464ddaf","0xb541fc07bc7619fd4062a54d96268525cbc6ffef","0x12d66f87a04a9e220743712ce6d9bb1b5616b8fc","0x47ce0c6ed5b0ce3d3a51fdb1c52dc66a7c3c2936","0x23773e65ed146a459791799d01336db287f25334","0xd21be7248e0197ee08e0c20d4a96debdac3d20af","0x610b717796ad172b316836ac95a2ffad065ceab4","0x178169b423a011fff22b9e3f3abea13414ddd0f1","0xbb93e510bbcd0b7beb5a853875f9ec60275cf498","0x2717c5e28cf931547b621a5dddb772ab6a35b701","0x03893a7c7463ae47d46bc7f091665f1893656003","0xca0840578f57fe71599d29375e16783424023357","0x58e8dcc13be9780fc42e8723d8ead4cf46943df2","0x8589427373d6d84e98730d7795d8f6f8731fda16","0x722122df12d4e14e13ac3b6895a86e84145b6967","0xdd4c48c0b24039969fc16d1cdf626eab821d3384","0xd90e2f925da726b50c4ed8d0fb90ad053324f31b","0xd96f2b1c14db8458374d9aca76e26c3d18364307","0x4736dcf1b7a3d580672cce6e7c65cd5cc9cfba9d"]),cf=e=>{if((t=>of.has(t.toLowerCase()))(e))throw new Error(`This address ${e} is in the U.S. SDN list. All transactions from this address will be rejected. Info: https://home.treasury.gov/policy-issues/financial-sanctions/recent-actions/20220808`)},ft="0x0000000000000000000000000000000000000000";function Fe(e){if(Array.isArray(e))for(const t of e)Fe(t);else cf(e)}var ws=void 0,Wc=0;async function uf(e){return(await async function({type:t}={}){const n=Date.now();let a=[];return!ws||n-Wc>6e4?(a=await fetch("https://raw.githubusercontent.com/Crossbell-Box/Crossbell-Contracts/main/deployments/modules.json").then(r=>r.json()),ws=a,Wc=n):a=ws,t?a.filter(r=>r.type===t):a}()).find(t=>Ba(t.address,e))}async function _n(e){if(!e)return{address:ft,initData:ft};const t=await uf(e.address);if(!t)throw new Error(`Invalid module address ${e.address}`);const n=ot(t.initDataStructure.map(a=>({type:a.type})),e.data);return{address:e.address,initData:n}}function vs(e,{disallowAddress:t=!1}={}){return typeof e!="string"?{valid:!1,code:"notAString",message:"Handle must be a string."}:e.length===42&&e.startsWith("0x")?t?{valid:!1,code:"shouldNotBeAddress",message:"Handle must not be an Ethereum address."}:{valid:!0,code:"valid",message:null}:e.length<3||e.length>31?{valid:!1,code:"invalidLength",message:"Handle must be between 3 and 31 characters."}:/^[\d_a-z-]+$/i.test(e)?{valid:!0,code:"valid",message:null}:{valid:!1,code:"invalidChars",message:"Handle must only contain [a-z0-9-_]."}}async function Zn({hash:e,privateKey:t,to:n="object"}){const{r:a,s:r,recovery:s}=Oa.sign(e.slice(2),t.slice(2),{lowS:!0,extraEntropy:!1}),i={r:W(a,{size:32}),s:W(r,{size:32}),v:s?28n:27n,yParity:s};return n==="bytes"||n==="hex"?Bl({...i,to:n}):i}function df(e,t={}){const{nonceManager:n}=t,a=te(Oa.getPublicKey(e.slice(2),!1));return{...function(s){if(typeof s=="string"){if(!Se(s,{strict:!1}))throw new ze({address:s});return{address:s,type:"json-rpc"}}if(!Se(s.address,{strict:!1}))throw new ze({address:s.address});return{address:s.address,nonceManager:s.nonceManager,sign:s.sign,experimental_signAuthorization:s.experimental_signAuthorization,signMessage:s.signMessage,signTransaction:s.signTransaction,signTypedData:s.signTypedData,source:"custom",type:"local"}}({address:Bd(a),nonceManager:n,sign:async({hash:s})=>Zn({hash:s,privateKey:e,to:"hex"}),experimental_signAuthorization:async s=>async function(i){const{contractAddress:o,chainId:c,nonce:u,privateKey:l,to:d="object"}=i,p=await Zn({hash:Od({contractAddress:o,chainId:c,nonce:u}),privateKey:l,to:d});return d==="object"?{contractAddress:o,chainId:c,nonce:u,...p}:p}({...s,privateKey:e}),signMessage:async({message:s})=>async function({message:i,privateKey:o}){return await Zn({hash:Ki(i),privateKey:o,to:"hex"})}({message:s,privateKey:e}),signTransaction:async(s,{serializer:i}={})=>async function(o){const{privateKey:c,transaction:u,serializer:l=mh}=o,d=u.type==="eip4844"?{...u,sidecars:!1}:u,p=await Zn({hash:ye(l(d)),privateKey:c});return l(u,p)}({privateKey:e,transaction:s,serializer:i}),signTypedData:async s=>async function(i){const{privateKey:o,...c}=i;return await Zn({hash:el(c),privateKey:o,to:"hex"})}({...s,privateKey:e})}),publicKey:a,source:"privateKey"}}var Zc,Jc,Yc,Xc;const lf=mr(function(){if(Xc)return Yc;Xc=1;const e=function(){if(Jc)return Zc;Jc=1;class t{constructor(r){this.value=r,this.next=void 0}}class n{constructor(){this.clear()}enqueue(r){const s=new t(r);this._head?(this._tail.next=s,this._tail=s):(this._head=s,this._tail=s),this._size++}dequeue(){const r=this._head;if(r)return this._head=this._head.next,this._size--,r.value}clear(){this._head=void 0,this._tail=void 0,this._size=0}get size(){return this._size}*[Symbol.iterator](){let r=this._head;for(;r;)yield r.value,r=r.next}}return Zc=n}();return Yc=t=>{if(!Number.isInteger(t)&&t!==1/0||!(t>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");const n=new e;let a=0;const r=async(i,o,...c)=>{a++;const u=(async()=>i(...c))();o(u);try{await u}catch{}a--,n.size>0&&n.dequeue()()},s=(i,...o)=>new Promise(c=>{((u,l,...d)=>{n.enqueue(r.bind(null,u,l,...d)),(async()=>(await Promise.resolve(),a<t&&n.size>0&&n.dequeue()()))()})(i,c,...o)});return Object.defineProperties(s,{activeCount:{get:()=>a},pendingCount:{get:()=>n.size},clearQueue:{value:()=>{n.clear()}}}),s}}());Md({},{BaseContract:()=>hf,CbtContract:()=>wi,CharacterContract:()=>mt,CsbContract:()=>ql,LinkContract:()=>je,LinkModuleContract:()=>vi,MintModuleContract:()=>Zl,NoteContract:()=>qe,OperatorContract:()=>gi,RevisionContract:()=>yf,TipsContract:()=>Yn});var pf=function(e){const{source:t}=e,n=new Map,a=new Ca(8192),r=new Map,s=({address:i,chainId:o})=>`${i}.${o}`;return{async consume({address:i,chainId:o,client:c}){const u=s({address:i,chainId:o}),l=this.get({address:i,chainId:o,client:c});this.increment({address:i,chainId:o});const d=await l;return await t.set({address:i,chainId:o},d),a.set(u,d),d},async increment({address:i,chainId:o}){const c=s({address:i,chainId:o}),u=n.get(c)??0;n.set(c,u+1)},async get({address:i,chainId:o,client:c}){const u=s({address:i,chainId:o});let l=r.get(u);return l||(l=(async()=>{try{const d=await t.get({address:i,chainId:o,client:c}),p=a.get(u)??0;return p>0&&d<=p?p+1:(a.delete(u),d)}finally{this.reset({address:i,chainId:o})}})(),r.set(u,l)),(n.get(u)??0)+await l},reset({address:i,chainId:o}){const c=s({address:i,chainId:o});n.delete(c),r.delete(c)}}}({source:{async get(e){const{address:t,client:n}=e;return Fi(n,{address:t,blockTag:"pending"})},set(){}}}),Gt,be,Ul,jl,Dl,Hl,Gl,yt,Au,hf=(Au=class{constructor(e,t){Gn(this,be);re(this,"publicClient");re(this,"walletClient");Gn(this,Gt);re(this,"options");re(this,"contract");re(this,"linklistContract");re(this,"newbieVillaContract");re(this,"peripheryContract");re(this,"cbtContract");re(this,"miraContract");re(this,"tipsContract");re(this,"tipsWithConfigContract");re(this,"tipsWithFeeContract");this.options=Be(this,be,Ul).call(this,t),Be(this,be,jl).call(this),Be(this,be,Dl).call(this,e),Be(this,be,Hl).call(this)}get account(){return ja(this,Gt)}set account(e){Da(this,Gt,typeof e=="string"?tr(e):e),this.walletClient&&(this.walletClient.account=ja(this,Gt))}},Gt=new WeakMap,be=new WeakSet,Ul=function(e){const t=(e==null?void 0:e.chain)==="mainnet"?Ro:(e==null?void 0:e.chain)==="testnet"?Zo:(e==null?void 0:e.chain)??Ro;return{account:this.account,gasPrice:(e==null?void 0:e.gasPrice)??10n**9n,gCsbAsGas:(e==null?void 0:e.gCsbAsGas)??"asDefault",contractAddresses:{entry:cy,periphery:uy,cbt:ly,tips:py,tipsWithConfig:hy,tipsWithFee:yy,mira:my,newbieVilla:dy,linklist:fy,gcsb:by,...e==null?void 0:e.contractAddresses},chain:t,rpcUrl:(e==null?void 0:e.rpcUrl)??t.rpcUrls.default.http[0]}},jl=function(){this.publicClient=sf(this.options.chain,this.options.rpcUrl)},Dl=function(e){var a;if(typeof e=="string"){const r=df(e,{nonceManager:pf});Da(this,Gt,r),this.walletClient=(t=r,n=this.options.chain,Vc({transport:zl(this.options.rpcUrl??n.rpcUrls.default.http[0]),chain:n,account:t,pollingInterval:100}))}else if(e&&typeof e=="object"){const r=e;Da(this,Gt,this.options.account?tr(this.options.account):function(s){var i;if("selectedAddress"in s&&s.selectedAddress)return tr(s.selectedAddress);if("send"in s&&typeof s.send=="function"){const o=s.send({method:"eth_accounts"});if((i=o==null?void 0:o.result)!=null&&i[0])return tr(o.result[0])}}(r)),(a=this.options)!=null&&a.account||r.on("accountsChanged",s=>{this.account=s[0]}),this.walletClient=function(s,i,o){return Vc({transport:jy(s),chain:o,account:i,pollingInterval:100})}(r,this.account,this.options.chain)}var t,n},Hl=function(){this.contract=Be(this,be,yt).call(this,Pt({address:this.options.contractAddresses.entry,abi:$r,client:{public:this.publicClient,wallet:this.walletClient}})),this.linklistContract=Be(this,be,yt).call(this,Pt({address:this.options.contractAddresses.linklist,abi:eo,client:{public:this.publicClient,wallet:this.walletClient}})),this.newbieVillaContract=Be(this,be,yt).call(this,Pt({address:this.options.contractAddresses.newbieVilla,abi:Sl,client:{public:this.publicClient,wallet:this.walletClient}})),this.peripheryContract=Be(this,be,yt).call(this,Pt({address:this.options.contractAddresses.periphery,abi:$l,client:{public:this.publicClient,wallet:this.walletClient}})),this.cbtContract=Be(this,be,yt).call(this,Pt({address:this.options.contractAddresses.cbt,abi:Ol,client:{public:this.publicClient,wallet:this.walletClient}})),this.miraContract=Be(this,be,yt).call(this,Pt({address:this.options.contractAddresses.mira,abi:Fl,client:{public:this.publicClient,wallet:this.walletClient}})),this.tipsContract=Be(this,be,yt).call(this,Pt({address:this.options.contractAddresses.tips,abi:Rl,client:{public:this.publicClient,wallet:this.walletClient}})),this.tipsWithConfigContract=Be(this,be,yt).call(this,Pt({address:this.options.contractAddresses.tipsWithConfig,abi:Ll,client:{public:this.publicClient,wallet:this.walletClient}})),this.tipsWithFeeContract=Be(this,be,yt).call(this,Pt({address:this.options.contractAddresses.tipsWithFee,abi:_l,client:{public:this.publicClient,wallet:this.walletClient}}))},Gl=async function(){return await this.publicClient.readContract({abi:By,functionName:"balanceOf",args:[this.account.address],address:this.options.contractAddresses.gcsb})>=10n**18n},yt=function(e){return e.write&&(e.write=new Proxy(e.write,{get:(...t)=>new Proxy(Reflect.get(...t),{apply:async(n,a,r)=>{const s=r.length>0&&Array.isArray(r[0]),i={...(s?r[1]:r[0])??{}};return this.options.chain.id===Zo.id?i.gasPrice||(typeof this.options.gasPrice=="bigint"&&(i.gasPrice=this.options.gasPrice),this.options.gCsbAsGas===!0?i.gasPrice=0n:this.options.gCsbAsGas===!1||this.options.gCsbAsGas==="asDefault"&&await Be(this,be,Gl).call(this)&&(i.gasPrice=0n)):typeof this.options.gasPrice=="bigint"&&(i.gasPrice=this.options.gasPrice),r[s?1:0]=i,Reflect.apply(n,a,r)}})})),e},Au);function Y(){return(e,t,n)=>{const a=n.value;return n.value=async function(...r){const s=async()=>{const i=this.base.walletClient;if(!i)return;const o=await i.getChainId(),c=this.base.walletClient.chain.id;o===c||await i.switchChain({id:c})};try{await s()}catch{await s()}return a==null?void 0:a.apply(this,r)},n}}var ql=class{constructor(e){this.base=e}async getBalance({owner:e}){return Fe(e),{data:await this.base.publicClient.getBalance({address:e})}}async transfer({toAddress:e,amount:t}){if(Fe(e),!this.base.walletClient)throw new Error("No walletClient found. You must be connected to a wallet to transfer $CSB. Currently You might be using a read-only provider.");const n=await this.base.walletClient.sendTransaction({account:this.base.account,to:e,value:BigInt(t)});return{data:{},transactionHash:(await Z(this.base.publicClient,n)).transactionHash}}};J([Y()],ql.prototype,"transfer");var je=class{constructor(e){this.base=e}async linkCharacter({fromCharacterId:e,toCharacterId:t,linkType:n,data:a},r={}){const s=await this.base.contract.write.linkCharacter([{fromCharacterId:BigInt(e),toCharacterId:BigInt(t),linkType:he(n,{size:32}),data:a??ft}],r),i=await Z(this.base.publicClient,s);return{data:fe(i.logs,"LinkCharacter").args.linklistId,transactionHash:i.transactionHash}}async linkCharactersInBatch({fromCharacterId:e,toCharacterIds:t,toAddresses:n,linkType:a,data:r},s={}){Fe(n);const i=await this.base.peripheryContract.write.linkCharactersInBatch([{fromCharacterId:BigInt(e),toCharacterIds:t.map(c=>BigInt(c)),toAddresses:n,linkType:he(a,{size:32}),data:r??t.map(()=>ft)}],s),o=await Z(this.base.publicClient,i);return{data:fe(o.logs,"LinkCharacter",{throwOnMultipleLogsFound:!1}).args.linklistId,transactionHash:o.transactionHash}}async getLinklistIdByTransaction({hash:e}){return{data:fe((await this.base.publicClient.getTransactionReceipt({hash:e})).logs,"LinkCharacter").args.linklistId}}async createThenLinkCharacter({fromCharacterId:e,toAddress:t,linkType:n},a={}){Fe(t);const r=await this.base.contract.write.createThenLinkCharacter([{fromCharacterId:BigInt(e),to:t,linkType:he(n,{size:32})}],a),s=await Z(this.base.publicClient,r),i=fe(s.logs,"CharacterCreated"),o=fe(s.logs,"LinkCharacter");return{data:{toCharacterId:i.args.characterId,linklistId:o.args.linklistId},transactionHash:s.transactionHash}}async unlinkCharacter({fromCharacterId:e,toCharacterId:t,linkType:n},a={}){const r=await this.base.contract.write.unlinkCharacter([{fromCharacterId:BigInt(e),toCharacterId:BigInt(t),linkType:he(n,{size:32})}],a);return{data:void 0,transactionHash:(await Z(this.base.publicClient,r)).transactionHash}}async getLinkingCharacterIds({linklistId:e,fromCharacterId:t,linkType:n},a={}){return e?{data:(await this.base.linklistContract.read.getLinkingCharacterIds([BigInt(e)],a)).map(r=>r)}:{data:(await this.base.peripheryContract.read.getLinkingCharacterIds([BigInt(t),he(n,{size:32})],a)).map(r=>r)}}async getLinkingCharacters({fromCharacterId:e,linkType:t},n={}){const a=await this.base.peripheryContract.read.getLinkingCharacterIds([BigInt(e),he(t,{size:32})],n);return{data:(await Promise.all(a.map(r=>this.base.character.get({characterId:r})))).map(r=>r.data)}}async linkAddress({fromCharacterId:e,toAddress:t,linkType:n,data:a=ft},r={}){const s=await this.base.contract.write.linkAddress([{fromCharacterId:BigInt(e),ethAddress:t,linkType:he(n,{size:32}),data:a}],r),i=await Z(this.base.publicClient,s);return{data:fe(i.logs,"LinkAddress").args.linklistId,transactionHash:i.transactionHash}}async unlinkAddress({fromCharacterId:e,toAddress:t,linkType:n},a={}){const r=await this.base.contract.write.unlinkAddress([{fromCharacterId:BigInt(e),ethAddress:t,linkType:he(n,{size:32})}],a);return{data:void 0,transactionHash:(await Z(this.base.publicClient,r)).transactionHash}}async linkAnyUri({fromCharacterId:e,toUri:t,linkType:n,data:a=ft},r={}){const s=await this.base.contract.write.linkAnyUri([{fromCharacterId:BigInt(e),toUri:t,linkType:he(n,{size:32}),data:a}],r),i=await Z(this.base.publicClient,s);return{data:fe(i.logs,"LinkAnyUri").args.linklistId,transactionHash:i.transactionHash}}async unlinkAnyUri({fromCharacterId:e,toUri:t,linkType:n},a={}){const r=await this.base.contract.write.unlinkAnyUri([{fromCharacterId:BigInt(e),toUri:t,linkType:he(n,{size:32})}],a);return{data:void 0,transactionHash:(await Z(this.base.publicClient,r)).transactionHash}}async linkErc721({fromCharacterId:e,toContractAddress:t,toTokenId:n,linkType:a,data:r=ft},s={}){const i=await this.base.contract.write.linkERC721([{fromCharacterId:BigInt(e),tokenAddress:t,tokenId:BigInt(n),linkType:he(a,{size:32}),data:r}],s),o=await Z(this.base.publicClient,i);return{data:fe(o.logs,"LinkAnyUri").args.linklistId,transactionHash:o.transactionHash}}async unlinkErc721({fromCharacterId:e,toContractAddress:t,toTokenId:n,linkType:a},r={}){const s=await this.base.contract.write.unlinkERC721([{fromCharacterId:BigInt(e),tokenAddress:t,tokenId:BigInt(n),linkType:he(a,{size:32})}],r);return{data:void 0,transactionHash:(await Z(this.base.publicClient,s)).transactionHash}}async linkNote({fromCharacterId:e,toCharacterId:t,toNoteId:n,linkType:a,data:r},s={}){const i=await this.base.contract.write.linkNote([{fromCharacterId:BigInt(e),toCharacterId:BigInt(t),toNoteId:BigInt(n),linkType:he(a,{size:32}),data:r??ft}],s),o=await Z(this.base.publicClient,i);return{data:fe(o.logs,"LinkNote").args.linklistId,transactionHash:o.transactionHash}}async unlinkNote({fromCharacterId:e,toCharacterId:t,toNoteId:n,linkType:a},r={}){const s=await this.base.contract.write.unlinkNote([{fromCharacterId:BigInt(e),toCharacterId:BigInt(t),toNoteId:BigInt(n),linkType:he(a,{size:32})}],r);return{data:void 0,transactionHash:(await Z(this.base.publicClient,s)).transactionHash}}async linkLinklist({fromCharacterId:e,toLinkListId:t,linkType:n,data:a=ft},r={}){const s=await this.base.contract.write.linkLinklist([{fromCharacterId:BigInt(e),toLinkListId:BigInt(t),linkType:he(n,{size:32}),data:a}],r),i=await Z(this.base.publicClient,s);return{data:fe(i.logs,"LinkNote").args.linklistId,transactionHash:i.transactionHash}}async unlinkLinklist({fromCharacterId:e,toLinklistId:t,linkType:n},a={}){const r=await this.base.contract.write.unlinkLinklist([{fromCharacterId:BigInt(e),toLinkListId:BigInt(t),linkType:he(n,{size:32})}],a);return{data:void 0,transactionHash:(await Z(this.base.publicClient,r)).transactionHash}}async setLinklistUri({linklistId:e,uri:t},n={}){const a=await this.base.contract.write.setLinklistUri([BigInt(e),t],n);return{data:void 0,transactionHash:(await Z(this.base.publicClient,a)).transactionHash}}async getLinklistUri({linklistId:e},t={}){return{data:await this.base.contract.read.getLinklistUri([BigInt(e)],t)}}async setLinklistType({linklistId:e,linkType:t},n={}){const a=await this.base.contract.write.setLinklistType([BigInt(e),he(t,{size:32})],n);return{data:void 0,transactionHash:(await Z(this.base.publicClient,a)).transactionHash}}async burnLinklist({linklistId:e},t={}){const n=await this.base.contract.write.burnLinklist([BigInt(e)],t);return{data:void 0,transactionHash:(await Z(this.base.publicClient,n)).transactionHash}}};async function Dt({linkModule:e,mintModule:t,characterId:n,metadataOrUri:a,locked:r=!1}){const{uri:s}=await Xn("note",a),i=await _n(e),o=await _n(t);return{characterId:BigInt(n),contentUri:s,linkModule:i.address,linkModuleInitData:i.initData,mintModule:o.address,mintModuleInitData:o.initData,locked:r}}J([Y()],je.prototype,"linkCharacter"),J([Y()],je.prototype,"linkCharactersInBatch"),J([Y()],je.prototype,"createThenLinkCharacter"),J([Y()],je.prototype,"unlinkCharacter"),J([Y()],je.prototype,"linkAddress"),J([Y()],je.prototype,"unlinkAddress"),J([Y()],je.prototype,"linkAnyUri"),J([Y()],je.prototype,"unlinkAnyUri"),J([Y()],je.prototype,"linkErc721"),J([Y()],je.prototype,"unlinkErc721"),J([Y()],je.prototype,"linkNote"),J([Y()],je.prototype,"unlinkNote"),J([Y()],je.prototype,"linkLinklist"),J([Y()],je.prototype,"unlinkLinklist");var qe=class{constructor(e){this.base=e}async post(e,t={}){const n=await Dt(e),a=await this.base.contract.write.postNote([n],t),r=await Z(this.base.publicClient,a);return{data:{noteId:fe(r.logs,"PostNote").args.noteId},transactionHash:r.transactionHash}}async postMany({notes:e},t={}){const n=lf(10),a=await Promise.all(e.map(({options:o,characterId:c,metadataOrUri:u})=>n(async()=>{const l=await Dt({...o,characterId:c,metadataOrUri:u});return tt({abi:$r,functionName:"postNote",args:[l]})}))),r=await this.base.contract.write.multicall([a],t),s=await Z(this.base.publicClient,r);return{data:{noteIds:fe(s.logs,"PostNote",{throwOnMultipleLogsFound:!1,returnMultipleLogs:!0}).map(o=>o.args.noteId)},transactionHash:s.transactionHash}}async postForAnyUri({targetUri:e,...t},n={}){const a=await Dt(t),r=await this.base.contract.write.postNote4AnyUri([a,e],n),s=await Z(this.base.publicClient,r);return{data:{noteId:fe(s.logs,"PostNote").args.noteId},transactionHash:s.transactionHash}}async postForNote({targetCharacterId:e,targetNoteId:t,...n},a={}){const r=await Dt(n),s=await this.base.contract.write.postNote4Note([r,{characterId:BigInt(e),noteId:BigInt(t)}],a),i=await Z(this.base.publicClient,s);return{data:{noteId:fe(i.logs,"PostNote").args.noteId},transactionHash:i.transactionHash}}async postForCharacter({toCharacterId:e,...t},n={}){const a=await Dt(t),r=await this.base.contract.write.postNote4Character([a,BigInt(e)],n),s=await Z(this.base.publicClient,r);return{data:{noteId:fe(s.logs,"PostNote").args.noteId},transactionHash:s.transactionHash}}async postForLinklist({toLinklistId:e,...t},n={}){const a=await Dt(t),r=await this.base.contract.write.postNote4Linklist([a,BigInt(e)],n),s=await Z(this.base.publicClient,r);return{data:{noteId:fe(s.logs,"PostNote").args.noteId},transactionHash:s.transactionHash}}async postForAddress({toAddress:e,...t},n={}){const a=await Dt(t),r=await this.base.contract.write.postNote4Address([a,e],n),s=await Z(this.base.publicClient,r);return{data:{noteId:fe(s.logs,"PostNote").args.noteId},transactionHash:s.transactionHash}}async postForERC721({tokenAddress:e,tokenId:t,...n},a={}){const r=await Dt(n),s=await this.base.contract.write.postNote4ERC721([r,{tokenAddress:e,erc721TokenId:BigInt(t)}],a),i=await Z(this.base.publicClient,s);return{data:{noteId:fe(i.logs,"PostNote").args.noteId},transactionHash:i.transactionHash}}async setUri({characterId:e,noteId:t,metadataOrUri:n},a={}){const{uri:r,metadata:s}=await Xn("note",n,!0),i=await this.base.contract.write.setNoteUri([BigInt(e),BigInt(t),r],a);return{data:{uri:r,metadata:s},transactionHash:(await Z(this.base.publicClient,i)).transactionHash}}async changeMetadata({characterId:e,noteId:t,modifier:n},a={}){const r=n((await this.get({characterId:e,noteId:t})).data.metadata);if(r===void 0)throw new TypeError("The modified metadata is undefined. Did you return it?");return r.type||(r.type="note"),this.setMetadata({characterId:e,noteId:t,metadata:r},a)}setMetadata({characterId:e,noteId:t,metadata:n},a={}){return this.setUri({characterId:e,noteId:t,metadataOrUri:n},a)}async get({characterId:e,noteId:t,linkItemType:n},a={}){const r=await this.base.contract.read.getNote([BigInt(e),BigInt(t)],a),s=function(u,l={}){let d=et(u);return l.size&&(nt(d,{size:l.size}),d=Qe(d,{dir:"right"})),new TextDecoder().decode(d)}(r.linkItemType,{size:32})||void 0,i=r.contentUri?await xi(r.contentUri):void 0;let o;const c=this.base.peripheryContract.read;if(n==="AnyUri")o={uri:await c.getLinkingAnyUri([r.linkKey])};else if(n==="ERC721"){const u=await c.getLinkingERC721([r.linkKey]);o={contractAddress:u.tokenAddress,tokenId:u.erc721TokenId.toString()}}else if(n==="Address")o={address:await c.getLinkingAddress([r.linkKey])};else if(n==="Character")o={characterId:await c.getLinkingCharacterId([r.linkKey])};else if(n==="Note"){const u=await c.getLinkingNote([r.linkKey]);o={characterId:u.characterId,noteId:u.noteId}}else n==="Linklist"?o={linklistId:await c.getLinkingLinklistId([r.linkKey])}:o=void 0;return{data:{characterId:BigInt(e),noteId:BigInt(t),contentUri:r.contentUri,metadata:i,linkItemType:r.linkItemType,linkItemTypeString:s,linkItem:o,linkKey:r.linkKey,linkModule:r.linkModule,contractAddress:r.mintNFT,mintModule:r.mintModule,deleted:r.deleted,locked:r.locked}}}async delete({characterId:e,noteId:t},n={}){const a=await this.base.contract.write.deleteNote([BigInt(e),BigInt(t)],n);return{data:void 0,transactionHash:(await Z(this.base.publicClient,a)).transactionHash}}async lock({characterId:e,noteId:t},n={}){const a=await this.base.contract.write.lockNote([BigInt(e),BigInt(t)],n);return{data:void 0,transactionHash:(await Z(this.base.publicClient,a)).transactionHash}}async mint({characterId:e,noteId:t,toAddress:n},a={}){Fe(n);const r=await this.base.contract.write.mintNote([{characterId:BigInt(e),noteId:BigInt(t),to:n,mintModuleData:ft}],a),s=await Z(this.base.publicClient,r),i=fe(s.logs,"MintNote");return{data:{contractAddress:i.args.tokenAddress,tokenId:i.args.tokenId},transactionHash:s.transactionHash}}getLinkKeyForCharacter({toCharacterId:e}){return ye(wn(["string","uint"],["Character",BigInt(e)]))}getLinkKeyForAddress({toAddress:e}){return Fe(e),ye(wn(["string","address"],["Address",e]))}getLinkKeyForNote({toCharacterId:e,toNoteId:t}){return ye(wn(["string","uint","uint"],["Note",BigInt(e),BigInt(t)]))}getLinkKeyForERC721({toContractAddress:e,toTokenId:t}){return ye(wn(["string","address","uint"],["ERC721",e,BigInt(t)]))}getLinkKeyForLinklist({toLinkListId:e}){return ye(wn(["string","uint"],["Linklist",BigInt(e)]))}getLinkKeyForAnyUri({toUri:e}){return ye(wn(["string","string"],["AnyUri",e]))}};J([Y()],qe.prototype,"post"),J([Y()],qe.prototype,"postMany"),J([Y()],qe.prototype,"postForAnyUri"),J([Y()],qe.prototype,"postForNote"),J([Y()],qe.prototype,"postForCharacter"),J([Y()],qe.prototype,"postForLinklist"),J([Y()],qe.prototype,"postForAddress"),J([Y()],qe.prototype,"postForERC721"),J([Y()],qe.prototype,"setUri"),J([Y()],qe.prototype,"changeMetadata"),J([Y()],qe.prototype,"delete"),J([Y()],qe.prototype,"lock"),J([Y()],qe.prototype,"mint");var mt=class{constructor(e){this.base=e}async create({owner:e,handle:t,metadataOrUri:n,linkModule:a},r={}){Fe(e);const{valid:s,message:i}=vs(t,{disallowAddress:!0});if(!s)throw new TypeError(i);const{uri:o}=await Xn("character",n),c=await _n(a),u=await this.base.contract.write.createCharacter([{to:e,handle:t,uri:o,linkModule:c.address,linkModuleInitData:c.initData}],r),l=await Z(this.base.publicClient,u);return{data:fe(l.logs,"CharacterCreated").args.characterId,transactionHash:l.transactionHash}}async setHandle({characterId:e,handle:t},n={}){const{valid:a,message:r}=vs(t,{disallowAddress:!0});if(!a)throw new TypeError(r);const s=await this.base.contract.write.setHandle([BigInt(e),t],n);return{data:void 0,transactionHash:(await Z(this.base.publicClient,s)).transactionHash}}async setUri({characterId:e,metadataOrUri:t},n={}){const{uri:a,metadata:r}=await Xn("character",t,!0),s=await this.base.contract.write.setCharacterUri([BigInt(e),a],n);return{data:{uri:a,metadata:r},transactionHash:(await Z(this.base.publicClient,s)).transactionHash}}setMetadata({characterId:e,metadata:t},n={}){return this.setUri({characterId:e,metadataOrUri:t},n)}async changeMetadata({characterId:e,modifier:t},n={}){const a=t((await this.get({characterId:e})).data.metadata);if(a===void 0)throw new TypeError("The modified metadata is undefined. Did you return it?");return a.type||(a.type="character"),this.setMetadata({characterId:e,metadata:a},n)}async setSocialToken({characterId:e,socialToken:t},n={}){const a=await this.base.contract.write.setSocialToken([BigInt(e),t],n);return{data:void 0,transactionHash:(await Z(this.base.publicClient,a)).transactionHash}}async setPrimaryId({characterId:e},t={}){const n=await this.base.contract.write.setPrimaryCharacterId([BigInt(e)],t);return{data:void 0,transactionHash:(await Z(this.base.publicClient,n)).transactionHash}}async burn({characterId:e},t={}){const n=await this.base.contract.write.burn([BigInt(e)],t);return{data:void 0,transactionHash:(await Z(this.base.publicClient,n)).transactionHash}}async transfer({fromAddress:e,toAddress:t,characterId:n},a={}){Fe(t);const r=e??this.base.walletClient.account.address;Fe(r);const s=await this.base.contract.write.safeTransferFrom([r,t,BigInt(n)],a);return{data:void 0,transactionHash:(await Z(this.base.publicClient,s)).transactionHash}}async getPrimaryId({address:e},t={}){return Fe(e),{data:await this.base.contract.read.getPrimaryCharacterId([e],t)}}async isPrimaryId({characterId:e},t={}){return{data:await this.base.contract.read.isPrimaryCharacter([BigInt(e)],t)}}async getByHandle({handle:e},t={}){const n=vs(e);if(!n.valid)throw new TypeError(n.message);e=e.toLowerCase();const a=await this.base.contract.read.getCharacterByHandle([e],t),r=Bu(a.uri?await xi(a.uri):void 0);return{data:{characterId:a.characterId,handle:a.handle,uri:a.uri,metadata:r,socialToken:a.socialToken,noteCount:a.noteCount}}}async get({characterId:e},t={}){const n=await this.base.contract.read.getCharacter([BigInt(e)],t),{metadata:a}=await Xn("character",n.uri,!0);return{data:{characterId:n.characterId,handle:n.handle,uri:n.uri,socialToken:n.socialToken,noteCount:n.noteCount,metadata:a}}}async getHandle({characterId:e},t={}){return{data:await this.base.contract.read.getHandle([BigInt(e)],t)}}async getUri({characterId:e},t={}){return{data:await this.base.contract.read.getCharacterUri([BigInt(e)],t)}}async getByTransaction({txHash:e},t={}){const n=fe((await Z(this.base.publicClient,e)).logs,"CharacterCreated");return await this.get({characterId:n.args.characterId},t)}async existsForAddress({address:e},t={}){return Fe(e),{data:await this.base.contract.read.getPrimaryCharacterId([e],t)!==0n}}async existsForHandle({handle:e},t={}){return{data:(await this.base.contract.read.getCharacterByHandle([e],t)).handle!==""}}async withdrawFromNewbieVilla({toAddress:e,characterId:t,nonce:n,expires:a,proof:r},s={}){Fe(e);const i=await this.base.newbieVillaContract.write.withdraw([e,BigInt(t),BigInt(n),BigInt(a),r],s);return{data:void 0,transactionHash:(await Z(this.base.publicClient,i)).transactionHash}}balanceOfNewbie({characterId:e},t={}){return this.base.newbieVillaContract.read.balanceOf([BigInt(e)],t)}};J([Y()],mt.prototype,"create"),J([Y()],mt.prototype,"setHandle"),J([Y()],mt.prototype,"setUri"),J([Y()],mt.prototype,"changeMetadata"),J([Y()],mt.prototype,"setSocialToken"),J([Y()],mt.prototype,"setPrimaryId"),J([Y()],mt.prototype,"burn"),J([Y()],mt.prototype,"transfer"),J([Y()],mt.prototype,"withdrawFromNewbieVilla");var Kt,Kl,Vl,Wl,Cu,gi=(Cu=class{constructor(e){Gn(this,Kt);this.base=e}async grantForCharacter({characterId:e,operator:t,permissions:n},a={}){Fe(t);const r=this.convertPermissionsToUint256ForCharacter(n),s=await this.base.contract.write.grantOperatorPermissions([BigInt(e),t,r],a),i=await Z(this.base.publicClient,s);return{data:{bitmapUint256:fe(i.logs,"GrantOperatorPermissions").args.permissionBitMap},transactionHash:i.transactionHash}}async grantForNote({characterId:e,noteId:t,allowlist:n,blocklist:a=[]},r={}){Fe(n),Fe(a);const s=await this.base.contract.write.grantOperators4Note([BigInt(e),BigInt(t),a,n],r);return{data:{},transactionHash:(await Z(this.base.publicClient,s)).transactionHash}}async getForCharacter({characterId:e},t={}){return{data:await this.base.contract.read.getOperators([BigInt(e)],t)}}async getForNote({characterId:e,noteId:t},n={}){const[a,r]=await this.base.contract.read.getOperators4Note([BigInt(e),BigInt(t)],n);return{data:{allowlist:a,blocklist:r}}}async isAllowedForNote({characterId:e,noteId:t,operator:n},a={}){return{data:await this.base.contract.read.isOperatorAllowedForNote([BigInt(e),BigInt(t),n],a)}}async getPermissionsForCharacter({characterId:e,operator:t},n={}){const a=await this.base.contract.read.getOperatorPermissions([BigInt(e),t],n);return{data:this.convertUint256ToPermissionsForCharacter(a)}}convertPermissionsToUint256ForCharacter(e){const t=e.map(a=>{var s;const r=(s=Object.entries(ks).find(([,i])=>i===a))==null?void 0:s[0];if(!r)throw new Error(`Found invalid permission: ${a}.`);return Number.parseInt(r)}),n=Array.from({length:256}).fill(0);for(const a of t)n[a]=1;return n.reverse(),Be(this,Kt,Kl).call(this,n)}convertUint256ToPermissionsForCharacter(e){return Be(this,Kt,Vl).call(this,e).reverse().map((n,a)=>{if(n===1&&Be(this,Kt,Wl).call(this,a))return ks[a]}).filter(Boolean)}},Kt=new WeakSet,Kl=function(e){return e.join("").replace(/^0+/,"").split("").reverse().reduce((n,a,r)=>a==="1"?n+2n**BigInt(r):n,0n)},Vl=function(e){return e.toString(2).padStart(256,"0").split("").map(t=>Number.parseInt(t))},Wl=function(e){return Object.keys(ks).includes(e.toString())},Cu);J([Y()],gi.prototype,"grantForCharacter"),J([Y()],gi.prototype,"grantForNote");var ks={0:"SET_HANDLE",1:"SET_SOCIAL_TOKEN",2:"GRANT_OPERATOR_PERMISSIONS",3:"GRANT_OPERATORS_FOR_NOTE",176:"SET_CHARACTER_URI",177:"SET_LINKLIST_URI",178:"LINK_CHARACTER",179:"UNLINK_CHARACTER",180:"CREATE_THEN_LINK_CHARACTER",181:"LINK_NOTE",182:"UNLINK_NOTE",183:"LINK_ERC721",184:"UNLINK_ERC721",185:"LINK_ADDRESS",186:"UNLINK_ADDRESS",187:"LINK_ANY_URI",188:"UNLINK_ANY_URI",189:"LINK_LINKLIST",190:"UNLINK_LINKLIST",191:"SET_LINK_MODULE_FOR_CHARACTER",192:"SET_LINK_MODULE_FOR_NOTE",193:"SET_LINK_MODULE_FOR_LINKLIST",194:"SET_MINT_MODULE_FOR_NOTE",195:"SET_NOTE_URI",196:"LOCK_NOTE",197:"DELETE_NOTE",198:"POST_NOTE_FOR_CHARACTER",199:"POST_NOTE_FOR_ADDRESS",200:"POST_NOTE_FOR_LINKLIST",201:"POST_NOTE_FOR_NOTE",202:"POST_NOTE_FOR_ERC721",203:"POST_NOTE_FOR_ANY_URI",236:"POST_NOTE"},wi=class{constructor(e){this.base=e}async mint({characterId:e,tokenId:t},n={}){const a=await this.base.cbtContract.write.mint([BigInt(e),BigInt(t)],n);return{data:void 0,transactionHash:(await Z(this.base.publicClient,a)).transactionHash}}async setTokenUri({tokenId:e,uri:t},n={}){const a=await this.base.cbtContract.write.setTokenURI([BigInt(e),t],n);return{data:void 0,transactionHash:(await Z(this.base.publicClient,a)).transactionHash}}async getTokenUri({tokenId:e},t={}){return{data:await this.base.cbtContract.read.uri([BigInt(e)],t)}}};J([Y()],wi.prototype,"mint"),J([Y()],wi.prototype,"setTokenUri");var Yn=class{constructor(e){this.base=e}async tipCharacter({fromCharacterId:e,toCharacterId:t,amount:n},a={}){const r=ot([{type:"uint256"},{type:"uint256"}],[BigInt(e),BigInt(t)]),s=await this.base.miraContract.write.send([this.base.options.contractAddresses.tips,BigInt(n),r],a);return{data:void 0,transactionHash:(await Z(this.base.publicClient,s)).transactionHash}}async tipCharacterFromNewbieVilla({fromCharacterId:e,toCharacterId:t,amount:n},a={}){const r=await this.base.newbieVillaContract.write.tipCharacter([BigInt(e),BigInt(t),BigInt(n)],a);return{data:void 0,transactionHash:(await Z(this.base.publicClient,r)).transactionHash}}async tipCharacterForNoteFromNewbieVilla(e,t,n,a,r={}){const s=await this.base.newbieVillaContract.write.tipCharacterForNote([BigInt(e),BigInt(t),BigInt(n),BigInt(a)],r);return{data:void 0,transactionHash:(await Z(this.base.publicClient,s)).transactionHash}}async tipCharacterForNote({fromCharacterId:e,toCharacterId:t,toNoteId:n,amount:a},r={}){const s=ot([{type:"uint256"},{type:"uint256"},{type:"uint256"}],[BigInt(e),BigInt(t),BigInt(n)]),i=await this.base.miraContract.write.send([this.base.options.contractAddresses.tips,BigInt(a),s],r);return{data:void 0,transactionHash:(await Z(this.base.publicClient,i)).transactionHash}}async getBalanceOfCharacter({characterId:e},t={}){const n=await this.base.contract.read.ownerOf([BigInt(e)],t);return{data:Ba(n,this.base.options.contractAddresses.newbieVilla)?await this.base.newbieVillaContract.read.balanceOf([BigInt(e)],t):await this.base.miraContract.read.balanceOf([n],t)}}async getBalance({address:e},t={}){return{data:await this.base.miraContract.read.balanceOf([e],t)}}async getTokenAddress(e={}){return{data:await this.base.tipsContract.read.getToken(e)}}async getTokenDecimals(e={}){return{data:await this.base.miraContract.read.decimals(e)}}};J([Y()],Yn.prototype,"tipCharacter"),J([Y()],Yn.prototype,"tipCharacterFromNewbieVilla"),J([Y()],Yn.prototype,"tipCharacterForNoteFromNewbieVilla"),J([Y()],Yn.prototype,"tipCharacterForNote");var yf=class{constructor(e){this.base=e}async getLatest(e={}){return{data:await this.base.contract.read.getRevision(e)}}getCurrent(){return{data:4n}}async check(){const{data:e}=await this.getLatest();return{data:{isUpToDate:e===4n,currentRevision:4n,latestRevision:e}}}},vi=class{constructor(e){this.base=e}async setForCharacter({characterId:e,linkModule:t},n={}){const a=await _n(t),r=await this.base.contract.write.setLinkModule4Character([{characterId:BigInt(e),linkModule:a.address,linkModuleInitData:a.initData}],n);return{data:void 0,transactionHash:(await Z(this.base.publicClient,r)).transactionHash}}async setForNote({characterId:e,noteId:t,linkModule:n},a={}){const r=await _n(n),s=await this.base.contract.write.setLinkModule4Note([{characterId:BigInt(e),noteId:BigInt(t),linkModule:r.address,linkModuleInitData:r.initData}],a);return{data:void 0,transactionHash:(await Z(this.base.publicClient,s)).transactionHash}}};J([Y()],vi.prototype,"setForCharacter"),J([Y()],vi.prototype,"setForNote");var Zl=class{constructor(e){this.base=e}async setForNote({characterId:e,noteId:t,mintModule:n},a={}){const r=await _n(n),s=await this.base.contract.write.setMintModule4Note([{characterId:BigInt(e),noteId:BigInt(t),mintModule:r.address,mintModuleInitData:r.initData}],a);return{data:void 0,transactionHash:(await Z(this.base.publicClient,s)).transactionHash}}};J([Y()],Zl.prototype,"setForNote");var Qc=class{constructor(e){this.base=e}async tipCharacter({fromCharacterId:e,toCharacterId:t,amount:n,feeReceiver:a},r={}){const s=ot([{type:"uint256"},{type:"uint256"},{type:"address"}],[BigInt(e),BigInt(t),a]),i=await this.base.miraContract.write.send([this.base.options.contractAddresses.tipsWithFee,BigInt(n),s],r);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:i})).transactionHash}}async tipCharacterForNote({fromCharacterId:e,toCharacterId:t,toNoteId:n,amount:a,feeReceiver:r},s={}){const i=ot([{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"address"}],[BigInt(e),BigInt(t),BigInt(n),r]),o=await this.base.miraContract.write.send([this.base.options.contractAddresses.tipsWithFee,BigInt(a),i],s);return{data:void 0,transactionHash:(await this.base.publicClient.waitForTransactionReceipt({hash:o})).transactionHash}}async getFeeFraction(e,t,n,a={}){return{data:await this.base.tipsWithFeeContract.read.getFeeFraction([e,BigInt(t),BigInt(n)],a)}}async getFeeAmount(e,t,n,a,r={}){return{data:await this.base.tipsWithFeeContract.read.getFeeAmount([e,BigInt(t),BigInt(n),BigInt(a)],r)}}};J([Y()],Qc.prototype,"tipCharacter"),J([Y()],Qc.prototype,"tipCharacterForNote");var eu,tu,xs={},nu,Is,au,Es,ru,As,su,iu,ou,Cs={exports:{}};function Jl(){return nu||(nu=1,function(e,t){const{hasOwnProperty:n}=Object.prototype,a=p();a.configure=p,a.stringify=a,a.default=a,t.stringify=a,t.configure=p,e.exports=a;const r=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function s(h){return h.length<5e3&&!r.test(h)?`"${h}"`:JSON.stringify(h)}function i(h,b){if(h.length>200||b)return h.sort(b);for(let y=1;y<h.length;y++){const m=h[y];let f=y;for(;f!==0&&h[f-1]>m;)h[f]=h[f-1],f--;h[f]=m}return h}const o=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function c(h){return o.call(h)!==void 0&&h.length!==0}function u(h,b,y){h.length<y&&(y=h.length);const m=b===","?"":" ";let f=`"0":${m}${h[0]}`;for(let g=1;g<y;g++)f+=`${b}"${g}":${m}${h[g]}`;return f}function l(h,b){let y;if(n.call(h,b)){if(y=h[b],typeof y!="number")throw new TypeError(`The "${b}" argument must be of type number`);if(!Number.isInteger(y))throw new TypeError(`The "${b}" argument must be an integer`);if(y<1)throw new RangeError(`The "${b}" argument must be >= 1`)}return y===void 0?1/0:y}function d(h){return h===1?"1 item":`${h} items`}function p(h){const b=function(x){if(n.call(x,"strict")){const v=x.strict;if(typeof v!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(v)return E=>{let M="Object can not safely be stringified. Received type "+typeof E;throw typeof E!="function"&&(M+=` (${E.toString()})`),new Error(M)}}}(h={...h});b&&(h.bigint===void 0&&(h.bigint=!1),"circularValue"in h||(h.circularValue=Error));const y=function(x){if(n.call(x,"circularValue")){const v=x.circularValue;if(typeof v=="string")return`"${v}"`;if(v==null)return v;if(v===Error||v===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}(h),m=function(x,v){let E;if(n.call(x,v)&&(E=x[v],typeof E!="boolean"))throw new TypeError(`The "${v}" argument must be of type boolean`);return E===void 0||E}(h,"bigint"),f=function(x){let v;if(n.call(x,"deterministic")&&(v=x.deterministic,typeof v!="boolean"&&typeof v!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return v===void 0||v}(h),g=typeof f=="function"?f:void 0,w=l(h,"maximumDepth"),k=l(h,"maximumBreadth");function I(x,v,E,M,B,S){let T=v[x];switch(typeof T=="object"&&T!==null&&typeof T.toJSON=="function"&&(T=T.toJSON(x)),T=M.call(v,x,T),typeof T){case"string":return s(T);case"object":{if(T===null)return"null";if(E.indexOf(T)!==-1)return y;let $="",_=",";const L=S;if(Array.isArray(T)){if(T.length===0)return"[]";if(w<E.length+1)return'"[Array]"';E.push(T),B!==""&&($+=`
${S+=B}`,_=`,
${S}`);const de=Math.min(T.length,k);let Ie=0;for(;Ie<de-1;Ie++){const He=I(String(Ie),T,E,M,B,S);$+=He!==void 0?He:"null",$+=_}const Ae=I(String(Ie),T,E,M,B,S);return $+=Ae!==void 0?Ae:"null",T.length-1>k&&($+=`${_}"... ${d(T.length-k-1)} not stringified"`),B!==""&&($+=`
${L}`),E.pop(),`[${$}]`}let F=Object.keys(T);const K=F.length;if(K===0)return"{}";if(w<E.length+1)return'"[Object]"';let q="",ae="";B!==""&&(_=`,
${S+=B}`,q=" ");const we=Math.min(K,k);f&&!c(T)&&(F=i(F,g)),E.push(T);for(let de=0;de<we;de++){const Ie=F[de],Ae=I(Ie,T,E,M,B,S);Ae!==void 0&&($+=`${ae}${s(Ie)}:${q}${Ae}`,ae=_)}return K>k&&($+=`${ae}"...":${q}"${d(K-k)} not stringified"`,ae=_),B!==""&&ae.length>1&&($=`
${S}${$}
${L}`),E.pop(),`{${$}}`}case"number":return isFinite(T)?String(T):b?b(T):"null";case"boolean":return T===!0?"true":"false";case"undefined":return;case"bigint":if(m)return String(T);default:return b?b(T):void 0}}function A(x,v,E,M,B,S){switch(typeof v=="object"&&v!==null&&typeof v.toJSON=="function"&&(v=v.toJSON(x)),typeof v){case"string":return s(v);case"object":{if(v===null)return"null";if(E.indexOf(v)!==-1)return y;const T=S;let $="",_=",";if(Array.isArray(v)){if(v.length===0)return"[]";if(w<E.length+1)return'"[Array]"';E.push(v),B!==""&&($+=`
${S+=B}`,_=`,
${S}`);const K=Math.min(v.length,k);let q=0;for(;q<K-1;q++){const we=A(String(q),v[q],E,M,B,S);$+=we!==void 0?we:"null",$+=_}const ae=A(String(q),v[q],E,M,B,S);return $+=ae!==void 0?ae:"null",v.length-1>k&&($+=`${_}"... ${d(v.length-k-1)} not stringified"`),B!==""&&($+=`
${T}`),E.pop(),`[${$}]`}E.push(v);let L="";B!==""&&(_=`,
${S+=B}`,L=" ");let F="";for(const K of M){const q=A(K,v[K],E,M,B,S);q!==void 0&&($+=`${F}${s(K)}:${L}${q}`,F=_)}return B!==""&&F.length>1&&($=`
${S}${$}
${T}`),E.pop(),`{${$}}`}case"number":return isFinite(v)?String(v):b?b(v):"null";case"boolean":return v===!0?"true":"false";case"undefined":return;case"bigint":if(m)return String(v);default:return b?b(v):void 0}}function C(x,v,E,M,B){switch(typeof v){case"string":return s(v);case"object":{if(v===null)return"null";if(typeof v.toJSON=="function"){if(typeof(v=v.toJSON(x))!="object")return C(x,v,E,M,B);if(v===null)return"null"}if(E.indexOf(v)!==-1)return y;const S=B;if(Array.isArray(v)){if(v.length===0)return"[]";if(w<E.length+1)return'"[Array]"';E.push(v);let q=`
${B+=M}`;const ae=`,
${B}`,we=Math.min(v.length,k);let de=0;for(;de<we-1;de++){const Ae=C(String(de),v[de],E,M,B);q+=Ae!==void 0?Ae:"null",q+=ae}const Ie=C(String(de),v[de],E,M,B);return q+=Ie!==void 0?Ie:"null",v.length-1>k&&(q+=`${ae}"... ${d(v.length-k-1)} not stringified"`),q+=`
${S}`,E.pop(),`[${q}]`}let T=Object.keys(v);const $=T.length;if($===0)return"{}";if(w<E.length+1)return'"[Object]"';const _=`,
${B+=M}`;let L="",F="",K=Math.min($,k);c(v)&&(L+=u(v,_,k),T=T.slice(v.length),K-=v.length,F=_),f&&(T=i(T,g)),E.push(v);for(let q=0;q<K;q++){const ae=T[q],we=C(ae,v[ae],E,M,B);we!==void 0&&(L+=`${F}${s(ae)}: ${we}`,F=_)}return $>k&&(L+=`${F}"...": "${d($-k)} not stringified"`,F=_),F!==""&&(L=`
${B}${L}
${S}`),E.pop(),`{${L}}`}case"number":return isFinite(v)?String(v):b?b(v):"null";case"boolean":return v===!0?"true":"false";case"undefined":return;case"bigint":if(m)return String(v);default:return b?b(v):void 0}}function P(x,v,E){switch(typeof v){case"string":return s(v);case"object":{if(v===null)return"null";if(typeof v.toJSON=="function"){if(typeof(v=v.toJSON(x))!="object")return P(x,v,E);if(v===null)return"null"}if(E.indexOf(v)!==-1)return y;let M="";const B=v.length!==void 0;if(B&&Array.isArray(v)){if(v.length===0)return"[]";if(w<E.length+1)return'"[Array]"';E.push(v);const L=Math.min(v.length,k);let F=0;for(;F<L-1;F++){const q=P(String(F),v[F],E);M+=q!==void 0?q:"null",M+=","}const K=P(String(F),v[F],E);return M+=K!==void 0?K:"null",v.length-1>k&&(M+=`,"... ${d(v.length-k-1)} not stringified"`),E.pop(),`[${M}]`}let S=Object.keys(v);const T=S.length;if(T===0)return"{}";if(w<E.length+1)return'"[Object]"';let $="",_=Math.min(T,k);B&&c(v)&&(M+=u(v,",",k),S=S.slice(v.length),_-=v.length,$=","),f&&(S=i(S,g)),E.push(v);for(let L=0;L<_;L++){const F=S[L],K=P(F,v[F],E);K!==void 0&&(M+=`${$}${s(F)}:${K}`,$=",")}return T>k&&(M+=`${$}"...":"${d(T-k)} not stringified"`),E.pop(),`{${M}}`}case"number":return isFinite(v)?String(v):b?b(v):"null";case"boolean":return v===!0?"true":"false";case"undefined":return;case"bigint":if(m)return String(v);default:return b?b(v):void 0}}return function(x,v,E){if(arguments.length>1){let M="";if(typeof E=="number"?M=" ".repeat(Math.min(E,10)):typeof E=="string"&&(M=E.slice(0,10)),v!=null){if(typeof v=="function")return I("",{"":x},[],v,M,"");if(Array.isArray(v))return A("",x,[],function(B){const S=new Set;for(const T of B)typeof T!="string"&&typeof T!="number"||S.add(String(T));return S}(v),M,"")}if(M.length!==0)return C("",x,[],M,"")}return P("",x,[])}}}(Cs,Cs.exports)),Cs.exports}function nr(){if(au)return Is;function e(n){return n*Math.random()|0}return au=1,Is={findNotMatching:function(n,a){const r=[];let s=0;for(let i=0;i<n.length;i++)for(let o=s;o<a.length;o++)n[i]!==a[o]&&(r.push(a[o]),s=o+1);return r},findMatchingIndexes:function(n,a){const r=[];let s=0;for(let i=0;i<n.length;i++)for(let o=s;o<a.length;o++)n[i]===a[o]&&(r.push(o),s=o+1);return r},bsearchIndex:function(n,a){let r=0,s=n.length-1;for(;r<=s;){const i=(r+s)/2|0;if(n[i]===a)return i;n[i]<a?r=i+1:s=i-1}return-1},wildcardMatch:function(n,a){if(n==="*"||n.length===a.length&&n===a)return!0;let r=0,s=0;for(;r<n.length&&s<a.length;)if(n[r]!==a[s]){if(n[r]!=="*")return!1;if(n[r+1]===a[s]){r++;continue}s++}else r++,s++;return r>=n.length-1},randomSubset:function(n,a){if(n.length<1||a<1)return[];const r=Math.min(n.length,a),s=(i=1,o=r,(i=Math.floor(i))+e(1+(o=Math.floor(o))-i));var i,o;const c=new Set;for(let l=0;l<s;l++)c.add(e(n.length));const u=[];for(const l of c)u.push(n[l]);return u},abstractLogging:function(){const n=()=>{};return{fatal:n,error:n,warn:n,info:n,debug:n,trace:n}},isServerSide:typeof window>"u"},Is}function cu(){return ru?Es:(ru=1,Es=class{constructor(e){this.options=e}async get(e){throw new Error("storage get method not implemented")}async set(e,t,n,a){throw new Error("storage set method not implemented")}async remove(e){throw new Error("storage remove method not implemented")}async invalidate(e){throw new Error("storage invalidate method not implemented")}async clear(e){throw new Error("storage clear method not implemented")}async refresh(){throw new Error("storage refresh method not implemented")}},Es)}var uu,Ts,du,Ps={};function mf(){return uu||(uu=1,Ps.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u",Ps.SYMBOL_SUPPORT=typeof Symbol<"u"),Ps}function Yl(){if(du)return Ts;du=1;var e=mf(),t=e.ARRAY_BUFFER_SUPPORT,n=e.SYMBOL_SUPPORT;return Ts=function(a,r){var s,i,o,c,u;if(!a)throw new Error("obliterator/forEach: invalid iterable.");if(typeof r!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(a)||t&&ArrayBuffer.isView(a)||typeof a=="string"||a.toString()==="[object Arguments]")for(o=0,c=a.length;o<c;o++)r(a[o],o);else if(typeof a.forEach!="function")if(n&&Symbol.iterator in a&&typeof a.next!="function"&&(a=a[Symbol.iterator]()),typeof a.next!="function")for(i in a)a.hasOwnProperty(i)&&r(a[i],i);else for(s=a,o=0;(u=s.next()).done!==!0;)r(u.value,o),o++;else a.forEach(r)},Ts}var lu,pu={};function Xl(){return lu||(lu=1,function(e){var t=Math.pow(2,8)-1,n=Math.pow(2,16)-1,a=Math.pow(2,32)-1,r=Math.pow(2,7)-1,s=Math.pow(2,15)-1,i=Math.pow(2,31)-1;e.getPointerArray=function(c){var u=c-1;if(u<=t)return Uint8Array;if(u<=n)return Uint16Array;if(u<=a)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},e.getSignedPointerArray=function(c){var u=c-1;return u<=r?Int8Array:u<=s?Int16Array:u<=i?Int32Array:Float64Array},e.getNumberType=function(c){return c===(0|c)?Math.sign(c)===-1?c<=127&&c>=-128?Int8Array:c<=32767&&c>=-32768?Int16Array:Int32Array:c<=255?Uint8Array:c<=65535?Uint16Array:Uint32Array:Float64Array};var o={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};e.getMinimalRepresentation=function(c,u){var l,d,p,h,b,y=null,m=0;for(h=0,b=c.length;h<b;h++)p=u?u(c[h]):c[h],d=e.getNumberType(p),(l=o[d.name])>m&&(m=l,y=d);return y},e.isTypedArray=function(c){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(c)},e.concat=function(){var c,u,l,d=0;for(c=0,l=arguments.length;c<l;c++)d+=arguments[c].length;var p=new arguments[0].constructor(d);for(c=0,u=0;c<l;c++)p.set(arguments[c],u),u+=arguments[c].length;return p},e.indices=function(c){for(var u=new(e.getPointerArray(c))(c),l=0;l<c;l++)u[l]=l;return u}}(pu)),pu}var hu,yu,mu,Ms,fu,Ns,bu,gu,Bs,wu,kn={};function ff(){if(hu)return kn;hu=1;var e=Yl(),t=Xl();function n(a){return typeof a.length=="number"?a.length:typeof a.size=="number"?a.size:void 0}return kn.isArrayLike=function(a){return Array.isArray(a)||t.isTypedArray(a)},kn.guessLength=n,kn.toArray=function(a){var r=n(a),s=typeof r=="number"?new Array(r):[],i=0;return e(a,function(o){s[i++]=o}),s},kn.toArrayWithIndices=function(a){var r=n(a),s=typeof r=="number"?t.getPointerArray(r):Array,i=typeof r=="number"?new Array(r):[],o=typeof r=="number"?new s(r):[],c=0;return e(a,function(u){i[c]=u,o[c]=c++}),[i,o]},kn}function bf(){if(mu)return yu;mu=1;var e=function(){if(ou)return iu;function s(i){if(typeof i!="function")throw new Error("obliterator/iterator: expecting a function!");this.next=i}return ou=1,typeof Symbol<"u"&&(s.prototype[Symbol.iterator]=function(){return this}),s.of=function(){var i=arguments,o=i.length,c=0;return new s(function(){return c>=o?{done:!0}:{done:!1,value:i[c++]}})},s.empty=function(){return new s(function(){return{done:!0}})},s.fromSequence=function(i){var o=0,c=i.length;return new s(function(){return o>=c?{done:!0}:{done:!1,value:i[o++]}})},s.is=function(i){return i instanceof s||typeof i=="object"&&i!==null&&typeof i.next=="function"},iu=s}(),t=Yl(),n=Xl(),a=ff();function r(s,i,o){if(arguments.length<2&&(o=s,s=null,i=null),this.capacity=o,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");if(!isFinite(this.capacity)||Math.floor(this.capacity)!==this.capacity)throw new Error("mnemonist/lru-cache: capacity should be a finite positive integer.");var c=n.getPointerArray(o);this.forward=new c(o),this.backward=new c(o),this.K=typeof s=="function"?new s(o):new Array(o),this.V=typeof i=="function"?new i(o):new Array(o),this.size=0,this.head=0,this.tail=0,this.items={}}return r.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}},r.prototype.splayOnTop=function(s){var i=this.head;if(this.head===s)return this;var o=this.backward[s],c=this.forward[s];return this.tail===s?this.tail=o:this.backward[c]=o,this.forward[o]=c,this.backward[i]=s,this.head=s,this.forward[s]=i,this},r.prototype.set=function(s,i){var o=this.items[s];if(o!==void 0)return this.splayOnTop(o),void(this.V[o]=i);this.size<this.capacity?o=this.size++:(o=this.tail,this.tail=this.backward[o],delete this.items[this.K[o]]),this.items[s]=o,this.K[o]=s,this.V[o]=i,this.forward[o]=this.head,this.backward[this.head]=o,this.head=o},r.prototype.setpop=function(s,i){var o=null,c=null,u=this.items[s];return u!==void 0?(this.splayOnTop(u),o=this.V[u],this.V[u]=i,{evicted:!1,key:s,value:o}):(this.size<this.capacity?u=this.size++:(u=this.tail,this.tail=this.backward[u],o=this.V[u],c=this.K[u],delete this.items[c]),this.items[s]=u,this.K[u]=s,this.V[u]=i,this.forward[u]=this.head,this.backward[this.head]=u,this.head=u,c?{evicted:!0,key:c,value:o}:null)},r.prototype.has=function(s){return s in this.items},r.prototype.get=function(s){var i=this.items[s];if(i!==void 0)return this.splayOnTop(i),this.V[i]},r.prototype.peek=function(s){var i=this.items[s];if(i!==void 0)return this.V[i]},r.prototype.forEach=function(s,i){i=arguments.length>1?i:this;for(var o=0,c=this.size,u=this.head,l=this.K,d=this.V,p=this.forward;o<c;)s.call(i,d[u],l[u],this),u=p[u],o++},r.prototype.keys=function(){var s=0,i=this.size,o=this.head,c=this.K,u=this.forward;return new e(function(){if(s>=i)return{done:!0};var l=c[o];return++s<i&&(o=u[o]),{done:!1,value:l}})},r.prototype.values=function(){var s=0,i=this.size,o=this.head,c=this.V,u=this.forward;return new e(function(){if(s>=i)return{done:!0};var l=c[o];return++s<i&&(o=u[o]),{done:!1,value:l}})},r.prototype.entries=function(){var s=0,i=this.size,o=this.head,c=this.K,u=this.V,l=this.forward;return new e(function(){if(s>=i)return{done:!0};var d=c[o],p=u[o];return++s<i&&(o=l[o]),{done:!1,value:[d,p]}})},typeof Symbol<"u"&&(r.prototype[Symbol.iterator]=r.prototype.entries),r.prototype.inspect=function(){for(var s,i=new Map,o=this.entries();!(s=o.next()).done;)i.set(s.value[0],s.value[1]);return Object.defineProperty(i,"constructor",{value:r,enumerable:!1}),i},typeof Symbol<"u"&&(r.prototype[Symbol.for("nodejs.util.inspect.custom")]=r.prototype.inspect),r.from=function(s,i,o,c){if(arguments.length<2){if(typeof(c=a.guessLength(s))!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(c=i,i=null,o=null);var u=new r(i,o,c);return t(s,function(l,d){u.set(d,l)}),u},yu=r}function Ql(){if(bu)return Ns;bu=1;const{isServerSide:e}=nr();let t;e&&(t=function(){if(su)return As;su=1;const r=Jl(),s=cu(),{findNotMatching:i,randomSubset:o,abstractLogging:c}=nr();return As=class extends s{constructor(u={}){if(!u.client||typeof u.client!="object")throw new Error("Redis client is required");if(super(u),u.invalidation&&u.invalidation.referencesTTL&&(typeof u.invalidation.referencesTTL!="number"||u.invalidation.referencesTTL<1))throw new Error("invalidation.referencesTTL must be a positive integer greater than 1");this.log=u.log||c(),this.store=u.client,this.invalidation=!!u.invalidation,this.referencesTTL=u.invalidation&&u.invalidation.referencesTTL||60}getReferenceKeyLabel(u){return`r:${u}`}getKeyReferenceLabel(u){return`k:${u}`}async get(u){this.log.debug({msg:"acd/storage/redis.get",key:u});try{const l=await this.store.get(u);return l?JSON.parse(l):this.invalidation?void this.clearReferences(u):void 0}catch(l){this.log.error({msg:"acd/storage/redis.get error",err:l,key:u})}}async getTTL(u){this.log.debug({msg:"acd/storage/memory.getTTL",key:u});let l=await this.store.pttl(u);return l<0?0:(l=Math.ceil(l/1e3),l)}async set(u,l,d,p){if(this.log.debug({msg:"acd/storage/redis.set key",key:u,value:l,ttl:d,references:p}),(d=Number(d))&&!(d<0))try{if(await this.store.set(u,r(l),"EX",d),!p||p.length<1)return;if(!this.invalidation)return void this.log.warn({msg:"acd/storage/redis.set, invalidation is disabled, references are useless",key:u,references:p});const h=[],b=await this.store.smembers(this.getKeyReferenceLabel(u));if(this.log.debug({msg:"acd/storage/redis.set current references",key:u,currentReferences:b}),b.length>1){b.sort(),p.sort();const f=i(p,b);for(const g of f)h.push(["srem",this.getReferenceKeyLabel(g),u]);h.push(["del",this.getKeyReferenceLabel(u)])}const y=b.length>1?i(b,p):p;this.log.debug({msg:"acd/storage/redis.set references to add",key:u,referencesToAdd:y});for(let f=0;f<y.length;f++){const g=y[f],w=this.getReferenceKeyLabel(g);h.push(["sadd",w,u]),h.push(["expire",w,this.referencesTTL])}const m=this.getKeyReferenceLabel(u);h.push(["sadd",m,p]),h.push(["expire",m,d]),this.log.debug({msg:"acd/storage/redis.set references writes",writes:h}),await this.store.pipeline(h).exec()}catch(h){this.log.error({msg:"acd/storage/redis.set error",err:h,key:u,ttl:d,references:p})}}async remove(u){this.log.debug({msg:"acd/storage/redis.remove",key:u});try{const l=await this.store.del(u)>0;return l&&this.invalidation&&await this.clearReferences(u),l}catch(l){this.log.error({msg:"acd/storage/redis.remove error",err:l,key:u})}}async invalidate(u){if(!this.invalidation)return this.log.warn({msg:"acd/storage/redis.invalidate, exit due invalidation is disabled"}),[];this.log.debug({msg:"acd/storage/redis.invalidate",references:u});try{return Array.isArray(u)?await this._invalidateReferences(u):await this._invalidateReference(u)}catch(l){return this.log.error({msg:"acd/storage/redis.invalidate error",err:l,references:u}),[]}}async _invalidateReferences(u,l=!0){const d=u.map(y=>["smembers",l?this.getReferenceKeyLabel(y):y]),p=await this.store.pipeline(d).exec();this.log.debug({msg:"acd/storage/redis._invalidateReferences keys",keys:p});const h=[],b=[];for(let y=0;y<p.length;y++){const m=p[y][1];if(m){this.log.debug({msg:"acd/storage/redis._invalidateReferences got keys to be invalidated",keys:m});for(let f=0;f<m.length;f++){const g=m[f];this.log.debug({msg:"acd/storage/redis._invalidateReferences del key"+g}),b.push(g),h.push(["del",g])}}}return await this.store.pipeline(h).exec(),await this.clearReferences(b),b}async _invalidateReference(u){let l;if(u.includes("*")){const h=await this.store.keys(this.getReferenceKeyLabel(u));return this._invalidateReferences(h,!1)}l=await this.store.smembers(this.getReferenceKeyLabel(u)),this.log.debug({msg:"acd/storage/redis._invalidateReference keys",keys:l});const d=[],p=[];for(let h=0;h<l.length;h++){const b=l[h];this.log.debug({msg:"acd/storage/redis._invalidateReference del key"+b}),p.push(b),d.push(["del",b])}return await this.store.pipeline(d).exec(),await this.clearReferences(p),p}async clear(u){this.log.debug({msg:"acd/storage/redis.clear",name:u});try{if(!u)return void await this.store.flushall();const l=await this.store.keys(`${u}*`);this.log.debug({msg:"acd/storage/redis.clear keys",keys:l});const d=l.map(p=>["del",p]);if(await this.store.pipeline(d).exec(),!this.invalidation)return;await this.clearReferences(l)}catch(l){this.log.error({msg:"acd/storage/redis.clear error",err:l,name:u})}}async refresh(){try{await this.store.flushall()}catch(u){this.log.error({msg:"acd/storage/redis.refresh error",err:u})}}async clearReferences(u){try{if(!u)return void this.log.warn({msg:"acd/storage/redis.clearReferences invalid call due to empty key"});Array.isArray(u)||(u=[u]);const l=u.map(h=>["smembers",this.getKeyReferenceLabel(h)]),d=await this.store.pipeline(l).exec();this.log.debug({msg:"acd/storage/redis.clearReferences references",keys:u,referencesKeys:d});const p={};for(let h=0;h<u.length;h++){for(let y=0;y<d[h][1].length;y++){const m=this.getReferenceKeyLabel(d[h][1][y]);p[m]||(p[m]=["srem",m,u])}const b=this.getKeyReferenceLabel(u[h]);p[b]=["del",b]}this.log.debug({msg:"acd/storage/redis.clearReferences writes pipeline",writes:p}),await this.store.pipeline(Object.values(p)).exec()}catch(l){this.log.error({msg:"acd/storage/redis.clearReferences error",err:l})}}async gc(u="lazy",l={}){if(this.log.debug({msg:"acd/storage/redis.gc",mode:u,options:l}),!this.invalidation)return void this.log.warn({msg:"acd/storage/redis.gc does not run due to invalidation is disabled"});u!=="strict"&&u!=="lazy"&&(u="lazy");const d={references:{scanned:[],removed:[]},keys:{scanned:new Set,removed:new Set},loops:0,cursor:0,error:null};try{let p=0,h=64;if(l.chunk&&(typeof l.chunk!="number"||l.chunk<1))return d.error=new Error("chunk must be a positive integer greater than 1"),d;if(l.lazy){if(l.lazy.chunk){if(typeof l.lazy.chunk!="number"||l.lazy.chunk<1)return d.error=new Error("lazy.chunk must be a positive integer greater than 1"),d;h=l.lazy.chunk}if(l.lazy.cursor){if(typeof l.lazy.cursor!="number"||l.lazy.cursor<0)return d.error=new Error("lazy.cursor must be a positive integer greater than 0"),d;p=l.lazy.cursor}}const b=l.chunk||64,y=Math.min(h,b),m=p;let f=-1,g=-1;do{d.loops++;const w=await this.store.scan(p,"match","r:*","count",y);p=Number(w[0]),f=w[1].length;const k=u==="lazy"?o(w[1],h):w[1];d.references.scanned=d.references.scanned.concat(k);let I=[];for(let S=0;S<k.length;S++){const T=k[S];I.push(["smembers",T])}const A=await this.store.pipeline(I).exec(),C={},P={};for(let S=0;S<A.length;S++){const T=A[S],$=k[S];P[$]=T[1];for(let _=0;_<T[1].length;_++){const L=T[1][_];C[L]?C[L].push($):C[L]=[$],d.keys.scanned.add(L)}}const x=Object.keys(C);I=x.map(S=>["exists",S]);const v=await this.store.pipeline(I).exec(),E={};for(let S=0;S<x.length;S++){const T=x[S];if(v[S][1]!==1)for(let $=0;$<C[T].length;$++){const _=C[T][$];E[_]?E[_].push(T):E[_]=[T],d.keys.removed.add(T)}}const M=Object.keys(E),B=[];for(let S=0;S<M.length;S++){const T=M[S];P[T].length===E[T].length?(B.push(["del",T]),d.references.removed.push(T)):B.push(["srem",T,E[T]])}if(await this.store.pipeline(B).exec(),g=B.length,u==="lazy"&&d.references.scanned.length>=h)break}while(m!==p&&f>0&&g>0);d.cursor=p,d.keys.scanned=Array.from(d.keys.scanned),d.keys.removed=Array.from(d.keys.removed)}catch(p){this.log.error({msg:"acd/storage/redis.gc error",err:p}),d.error=p}return d}},As}());const n=function(){if(fu)return Ms;fu=1;const r=bf(),{abstractLogging:s}=nr(),i=cu(),{findMatchingIndexes:o,findNotMatching:c,bsearchIndex:u,wildcardMatch:l}=nr(),d=globalThis.setImmediate!==void 0?globalThis.setImmediate:(y,...m)=>setTimeout(y,0,...m);let p;function h(){if(p!==void 0)return p;p=Math.floor(Date.now()/1e3);const y=setTimeout(b,1e3);return typeof y.unref=="function"&&y.unref(),p}function b(){p=void 0}return Ms=class extends i{constructor(y={}){if(y.size&&(typeof y.size!="number"||y.size<1))throw new Error("size must be a positive integer greater than 0");super(y),this.size=y.size||1024,this.log=y.log||s(),this.invalidation=y.invalidation||!1,this.init()}init(){this.store=new r(this.size),this.invalidation&&(this.keysReferences=new Map,this.referencesKeys=new Map)}get(y){this.log.debug({msg:"acd/storage/memory.get",key:y});const m=this.store.get(y);if(m){if(this.log.debug({msg:"acd/storage/memory.get, entry",entry:m,now:h()}),m.start+m.ttl>h())return this.log.debug({msg:"acd/storage/memory.get, key is NOT expired",key:y,entry:m}),m.value;this.log.debug({msg:"acd/storage/memory.get, key is EXPIRED",key:y,entry:m}),d(()=>this.remove(y))}}getTTL(y){this.log.debug({msg:"acd/storage/memory.getTTL",key:y});const m=this.store.peek(y);let f=0;return m&&(f=m.start+m.ttl-h(),f<0&&(f=0)),f}set(y,m,f,g){if(this.log.debug({msg:"acd/storage/memory.set",key:y,value:m,ttl:f,references:g}),!(f=Number(f))||f<0)return;const w=this.store.has(y),k=this.store.setpop(y,{value:m,ttl:f,start:h()});if(this.log.debug({msg:"acd/storage/memory.set, evicted",removed:k}),k&&k.evicted&&(this.log.debug({msg:"acd/storage/memory.set, remove evicted key",key:k.key}),this._removeReferences([k.key])),!g||g.length<1)return;if(!this.invalidation)return void this.log.warn({msg:"acd/storage/memory.set, invalidation is disabled, references are useless"});let I;if(g=[...new Set(g)],w&&(I=this.keysReferences.get(y),this.log.debug({msg:"acd/storage/memory.set, current keys-references",key:y,references:I}),I)){I.sort(),g.sort();const C=c(g,I);for(const P of C){const x=this.referencesKeys.get(P);if(!x)continue;const v=u(x,y);v<0||(x.splice(v,1),x.length<1?this.referencesKeys.delete(P):this.referencesKeys.set(P,x))}}const A=I?c(I,g):g;for(let C=0;C<A.length;C++){const P=A[C];let x=this.referencesKeys.get(P);x?(this.log.debug({msg:"acd/storage/memory.set, add reference-key",key:y,reference:P}),x.push(y)):x=[y],this.log.debug({msg:"acd/storage/memory.set, set reference-keys",keys:x,reference:P}),this.referencesKeys.set(P,x)}this.keysReferences.set(y,g)}remove(y){this.log.debug({msg:"acd/storage/memory.remove",key:y});const m=this._removeKey(y);return this._removeReferences([y]),m}_removeKey(y){return this.log.debug({msg:"acd/storage/memory._removeKey",key:y}),!!this.store.has(y)&&(this.store.set(y,void 0),!0)}_removeReferences(y){if(!this.invalidation)return;this.log.debug({msg:"acd/storage/memory._removeReferences",keys:y});const m=new Set;for(let f=0;f<y.length;f++){const g=y[f],w=this.keysReferences.get(g);if(w){for(let k=0;k<w.length;k++)m.add(w[k]);this.log.debug({msg:"acd/storage/memory._removeReferences, delete key-references",key:g}),this.keysReferences.delete(g)}}this._removeReferencesKeys([...m],y)}_removeReferencesKeys(y,m){m.sort(),this.log.debug({msg:"acd/storage/memory._removeReferencesKeys",references:y,keys:m});for(let f=0;f<y.length;f++){const g=y[f],w=this.referencesKeys.get(g);if(this.log.debug({msg:"acd/storage/memory._removeReferencesKeys, get reference-key",reference:g,keys:m,referencesKeys:w}),!w)continue;const k=o(m,w);if(this.log.debug({msg:"acd/storage/memory._removeReferencesKeys, removing",reference:g,referencesToRemove:k,referencesKeys:w}),k.length!==w.length)for(let I=k.length-1;I>=0;I--)this.log.debug({msg:"acd/storage/memory._removeReferencesKeys, remove",reference:g,referencesKeys:w,at:k[I]}),w.splice(k[I],1);else this.log.debug({msg:"acd/storage/memory._removeReferencesKeys, delete",reference:g}),this.referencesKeys.delete(g)}}invalidate(y){return this.invalidation?(this.log.debug({msg:"acd/storage/memory.invalidate",references:y}),Array.isArray(y)?this._invalidateReferences(y):this._invalidateReference(y)):(this.log.warn({msg:"acd/storage/memory.invalidate, exit due invalidation is disabled"}),[])}_invalidateReferences(y){const m=[];for(let f=0;f<y.length;f++){const g=y[f],w=this.referencesKeys.get(g);if(this.log.debug({msg:"acd/storage/memory._invalidateReferences, remove keys on reference",reference:g,keys:w}),w){for(let k=0;k<w.length;k++){const I=w[k];this.log.debug({msg:"acd/storage/memory._invalidateReferences, remove key on reference",reference:g,key:I}),this._removeKey(I)&&m.push(I)}this.log.debug({msg:"acd/storage/memory._invalidateReferences, remove references of",reference:g,keys:w}),this._removeReferences([...w])}}return m}_invalidateReference(y){if(y.includes("*")){const g=[];for(const w of this.referencesKeys.keys())l(y,w)&&g.push(w);return this._invalidateReferences(g)}const m=this.referencesKeys.get(y),f=[];if(this.log.debug({msg:"acd/storage/memory._invalidateReference, remove keys on reference",reference:y,keys:m}),!m)return f;for(let g=0;g<m.length;g++){const w=m[g];this.log.debug({msg:"acd/storage/memory._invalidateReference, remove key on reference",reference:y,key:w}),this._removeKey(w)&&f.push(w)}return this.log.debug({msg:"acd/storage/memory._invalidateReference, remove references of",reference:y,keys:m}),this._removeReferences([...m]),f}clear(y){if(this.log.debug({msg:"acd/storage/memory.clear",name:y}),!y)return this.store.clear(),this.invalidation?(this.referencesKeys.clear(),void this.keysReferences.clear()):void 0;const m=[];this.store.forEach((g,w)=>{this.log.debug({msg:"acd/storage/memory.clear, iterate key",key:w}),w.indexOf(y)===0&&(this.log.debug({msg:"acd/storage/memory.clear, remove key",key:w}),m.push(w))});const f=[];for(let g=0;g<m.length;g++)this._removeKey(m[g])&&f.push(m[g]);return this._removeReferences(f),f}refresh(){this.log.debug({msg:"acd/storage/memory.refresh"}),this.init()}},Ms}(),a="redis";return Ns=function(r,s){if(!e&&r===a)throw new Error("Redis storage is not supported in the browser");return r===a?new t(s):new n(s)},Ns}function gf(){if(gu)return xs;gu=1;const{kValues:e,kStorage:t,kStorages:n,kTransfromer:a,kTTL:r,kOnDedupe:s,kOnError:i,kOnHit:o,kOnMiss:c,kStale:u}=function(){if(tu)return eu;tu=1;const y=Symbol("values"),m=Symbol("kStorage"),f=Symbol("kStorages"),g=Symbol("kTransformer"),w=Symbol("kTTL"),k=Symbol("kOnDedupe"),I=Symbol("kOnError"),A=Symbol("kOnHit"),C=Symbol("kOnMiss"),P=Symbol("kStale");return eu={kValues:y,kStorage:m,kStorages:f,kTransfromer:g,kTTL:w,kOnDedupe:k,kOnError:I,kOnHit:A,kOnMiss:C,kStale:P}}(),l=Jl(),d=Ql();class p{constructor(m,f,g,w,k,I,A,C,P,x,v,E){this.dedupes=new Map,this.func=m,this.name=f,this.serialize=g,this.references=w,this.storage=k,this.transformer=I,this.ttl=A,this.onDedupe=C,this.onError=P,this.onHit=x,this.onMiss=v,this.stale=E}getKey(m){const f=this.serialize?this.serialize(m):m;return typeof f=="string"?f:l(f)}getStorageKey(m){return`${this.name}~${m}`}getStorageName(){return`${this.name}~`}add(m){try{const f=this.getKey(m);let g=this.dedupes.get(f);return g?this.onDedupe(f):(g=new h,this.buildPromise(g,m,f),this.dedupes.set(f,g)),g.promise}catch(f){this.onError(f)}}async wrapFunction(m,f){const g=this.getStorageKey(f);if(this.ttl>0||typeof this.ttl=="function"){const w=await this.get(g);if(w!==void 0){this.onHit(f);const k=typeof this.stale=="function"?this.stale(w):this.stale;return k>0&&await this.storage.getTTL(g)<=k&&this._wrapFunction(g,m,f).catch(b),w}this.onMiss(f)}return this._wrapFunction(g,m,f)}async _wrapFunction(m,f,g){const w=await this.func(f,g),k=typeof this.stale=="function"?this.stale(w):this.stale;let I=typeof this.ttl=="function"?this.ttl(w):this.ttl;if(I==null||typeof I!="number"||!Number.isInteger(I))return this.onError(new Error("ttl must be an integer")),w;if(I+=k,I<1)return w;if(!this.references)return await this.set(m,w,I),w;try{let A=this.references(f,g,w),C=w;A&&typeof A.then=="function"&&(A=await A),this.transformer&&(C=this.transformer.serialize(w)),await this.storage.set(m,C,I,A)}catch(A){this.onError(A)}return w}buildPromise(m,f,g){m.promise=this.wrapFunction(f,g),m.promise.then(w=>(this.dedupes.delete(g),w)).catch(w=>{this.onError(w),this.dedupes.delete(g);const k=this.storage.remove(this.getStorageKey(g));k&&typeof k.catch=="function"&&k.catch(b)})}async clear(m){if(m){const f=this.getKey(m);return this.dedupes.delete(f),void await this.storage.remove(this.getStorageKey(f))}await this.storage.clear(this.getStorageName()),this.dedupes.clear()}async get(m){const f=await this.storage.get(m);return this.transformer&&f?await this.transformer.deserialize(f):f}async set(m,f,g,w){return this.transformer&&(f=this.transformer.serialize(f)),this.storage.set(m,f,g,w)}async invalidate(m){return this.storage.invalidate(m)}}class h{constructor(){this.promise=null}}function b(){}return xs.Cache=class{constructor(y={}){if(!y.storage)throw new Error("storage is required");if(y.ttl&&typeof y.ttl=="number"&&(y.ttl<0||!Number.isInteger(y.ttl)))throw new Error("ttl must be a positive integer greater than 0");if(y.onDedupe&&typeof y.onDedupe!="function")throw new Error("onDedupe must be a function");if(y.onError&&typeof y.onError!="function")throw new Error("onError must be a function");if(y.onHit&&typeof y.onHit!="function")throw new Error("onHit must be a function");if(y.onMiss&&typeof y.onMiss!="function")throw new Error("onMiss must be a function");if(typeof y.stale=="number"&&!(Math.floor(y.stale)===y.stale&&y.stale>=0))throw new Error("stale must be an integer greater or equal to 0");this[e]={},this[t]=y.storage,this[n]=new Map,this[n].set("_default",y.storage),this[a]=y.transformer,this[r]=y.ttl||0,this[s]=y.onDedupe||b,this[i]=y.onError||b,this[o]=y.onHit||b,this[c]=y.onMiss||b,this[u]=y.stale||0}define(y,m,f){if(typeof m=="function"&&(f=m,m={}),y&&this[y])throw new Error(`${y} is already defined in the cache or it is a forbidden name`);if(m=m||{},typeof f!="function")throw new TypeError(`Missing the function parameter for '${y}'`);const g=m.serialize;if(g&&typeof g!="function")throw new TypeError("serialize must be a function");const w=m.references;if(w&&typeof w!="function")throw new TypeError("references must be a function");if(typeof m.ttl!="function"&&m.ttl&&(typeof m.ttl!="number"||m.ttl<0||!Number.isInteger(m.ttl)))throw new Error("ttl must be a positive integer greater than 0");let k;m.storage?(k=d(m.storage.type,m.storage.options),this[n].set(y,k)):k=this[t];const I=m.ttl!==void 0?m.ttl:this[r],A=m.stale!==void 0?m.stale:this[u],C=m.onDedupe||this[s],P=m.onError||this[i],x=m.onHit||this[o],v=m.onMiss||this[c],E=m.transformer||this[a],M=new p(f,y,g,w,k,E,I,C,P,x,v,A);return this[e][y]=M,this[y]=M.add.bind(M),this}async clear(y,m){if(y){if(!this[e][y])throw new Error(`${y} is not defined in the cache`);return void await this[e][y].clear(m)}const f=[];for(const g of Object.values(this[e]))f.push(g.clear());await Promise.all(f)}async get(y,m){if(!this[e][y])throw new Error(`${y} is not defined in the cache`);return this[e][y].get(m)}async set(y,m,f,g,w){if(!this[e][y])throw new Error(`${y} is not defined in the cache`);return this[e][y].set(m,f,g,w)}async invalidate(y,m){if(!this[e][y])throw new Error(`${y} is not defined in the cache`);return this[e][y].invalidate(m)}async invalidateAll(y,m="_default"){if(!this[n].has(m))throw new Error(`${m} storage is not defined in the cache`);await this[n].get(m).invalidate(y)}},xs}var wf=function(){if(wu)return Bs;wu=1;const{Cache:e}=gf(),t=Ql();return Bs={Cache:e,createCache:function(n){n?n.storage||(n.storage={type:"memory"}):n={storage:{type:"memory"}};const a=t(n.storage.type,n.storage.options);return new e({...n,storage:a})},createStorage:t},Bs}(),vf=class{constructor(e){this.base=e}getMany(e,{status:t}={}){const n=`/characters/${e}/achievements`;return this.base.fetch(n,{params:{status:t}})}mint(e,t){const n=`/characters/${e}/achievements/${t}`;return this.base.fetch(n,{method:"POST"})}},$s,vu,yr,Tu,kf=(Tu=class{constructor(e){re(this,"endpoint","https://indexer.crossbell.io/v1");re(this,"fetchOptions",{});Gn(this,yr,wf.createCache({ttl:0,storage:{type:"memory"}}).define("fetch",{serialize(e){var s;const t=e[0],n=e[1],a=n==null?void 0:n.body,r=Object.fromEntries((s=n==null?void 0:n.headers)==null?void 0:s.entries());return{url:t,...n,body:a,headers:r}}},e=>fetch.call(globalThis,...e)));if(this.endpointOrOptions=e,typeof e=="string")this.endpoint=e;else if(typeof e=="object")this.endpoint=e.endpoint??this.endpoint,this.fetchOptions=e.fetchOptions??this.fetchOptions;else if(e!==void 0)throw new TypeError(`Invalid argument: ${JSON.stringify(e)}. It must be a string or an object.`)}fetch(e,{params:t,data:n,token:a,...r}={}){const s=e+(t?`?${function(c){return new URLSearchParams(Object.entries(c).filter(u=>u[1]!==void 0&&u[1]!==null).sort(([u],[l])=>u.localeCompare(l)).flatMap(([u,l])=>Array.isArray(l)?l.map(d=>[u,d.toString()]):[[u,l.toString()]])).toString()}(t)}`:""),i=new Headers({...this.fetchOptions.headers,...r.headers});let o;return n&&(o=JSON.stringify(n),i.set("Content-Type","application/json")),a&&i.set("Authorization",`Bearer ${a}`),(typeof this.endpointOrOptions!="object"||!this.endpointOrOptions.experimentalRequestDedupe||r.method&&r.method!=="GET"?fetch(this.endpoint+s,{...this.fetchOptions,body:o,...r,headers:i}):ja(this,yr).fetch([this.endpoint+s,{...this.fetchOptions,body:o,...r,headers:i}])).then(async c=>{const u=c.clone();return u.ok?u.json():Promise.reject(new Error(`Request failed, status code: ${c.status}
Response:
${await u.text()}`))})}},yr=new WeakMap,Tu),xf=class{constructor(e){this.base=e}getMany(e,{primary:t,limit:n=20,cursor:a}={}){const r=`/addresses/${e}/characters`;return this.base.fetch(r,{params:{primary:t,limit:n,cursor:a}})}async getPrimary(e){var n;return((n=(await this.getMany(e,{limit:1,primary:!0})).list)==null?void 0:n[0])??null}get(e){const t=`/characters/${e}`;return this.base.fetch(t)}getByHandle(e){const t=`/handles/${e}/character`;return this.base.fetch(t)}async checkIfHandleExists(e){return await this.getByHandle(e)!==null}},If=class{constructor(e){this.base=e}getManyByCharacter(e,{type:t,limit:n,cursor:a}={}){const r=`/characters/${e}/feed`;return this.base.fetch(r,{params:{type:t,limit:n,cursor:a}})}getManyByCharacterFollowing(e,{type:t,limit:n,cursor:a}={}){const r=`/characters/${e}/feed/follow`;return this.base.fetch(r,{params:{type:t,limit:n,cursor:a}})}get(e,t){const n=`/feed/${e}/${t}`;return this.base.fetch(n)}},Ef=class{constructor(e){this.base=e}getMany(e,t={}){const n=`/characters/${e}/links`;return this.base.fetch(n,{params:t})}getManyByLinklistId(e,t={}){const n=`/linklists/${e}/links`;return this.base.fetch(n,{params:t})}getBacklinksOfCharacter(e,{limit:t=20,cursor:n,linkType:a,order:r}={}){const s=`/characters/${e}/backlinks`;return this.base.fetch(s,{params:{limit:t,cursor:n,linkType:a,order:r}})}getBacklinksByAddress(e,{limit:t=20,cursor:n,linkType:a,order:r}={}){const s=`/addresses/${e}/backlinks`;return this.base.fetch(s,{params:{limit:t,cursor:n,linkType:a,order:r}})}getBacklinksByNote(e,t,{limit:n=20,cursor:a,linkType:r,order:s}={}){const i=`/notes/${e}/${t}/backlinks`;return this.base.fetch(i,{params:{limit:n,cursor:a,linkType:r,order:s}})}getBacklinksByErc721(e,t,{limit:n=20,cursor:a,linkType:r,order:s}={}){const i=`/erc721s/${e}/${t}/backlinks`;return this.base.fetch(i,{params:{limit:n,cursor:a,linkType:r,order:s}})}getBacklinksByLinklist(e,{limit:t=20,cursor:n,linkType:a,order:r}={}){const s=`/linklists/${e}/backlinks`;return this.base.fetch(s,{params:{limit:t,cursor:n,linkType:a,order:r}})}getBacklinksByAnyUri(e,{limit:t=20,cursor:n,linkType:a,order:r}={}){const s=`/anyuris/${e}/backlinks`;return this.base.fetch(s,{params:{limit:t,cursor:n,linkType:a,order:r}})}},Af=class{constructor(e){this.base=e}getMany({targetItemType:e,toAddress:t,toCharacterId:n,toNoteId:a,toContractAddress:r,toTokenId:s,toLinklistId:i,limit:o,cursor:c}={}){return this.base.fetch("/link-modules",{params:{targetItemType:e,toAddress:t,toCharacterId:n,toNoteId:a,toContractAddress:r,toTokenId:s,toLinklistId:i,limit:o,cursor:c}})}get(e,t){const n=`/link-modules/${e}/${t}`;return this.base.fetch(n)}},Cf=class{constructor(e){this.base=e}getMany(e,{linkType:t,limit:n=20,cursor:a}={}){const r=`/characters/${e}/linklists`;return this.base.fetch(r,{params:{linkType:t,limit:n,cursor:a}})}get(e){const t=`/linklists/${e}`;return this.base.fetch(t)}},Tf=class{constructor(e){this.base=e}syncForCharacter(e){const t=`/characters/${e}/metadata/sync`;return this.base.fetch(t)}syncForNote(e,t){const n=`/notes/${e}/${t}/metadata/sync`;return this.base.fetch(n)}},Pf=class{constructor(e){this.base=e}getMany({targetItemType:e,toCharacterId:t,toNoteId:n,limit:a,cursor:r}={}){return this.base.fetch("/mint-modules",{params:{targetItemType:e,toCharacterId:t,toNoteId:n,limit:a,cursor:r}})}get(e,t){const n=`/mint-modules/${e}/${t}`;return this.base.fetch(n)}},Mf=class{constructor(e){this.base=e}getManyOfAddress(e,{noteCharacterId:t,noteId:n,variant:a,limit:r,cursor:s,order:i}={}){const o=`/addresses/${e}/minted/notes`;return this.base.fetch(o,{params:{noteCharacterId:t,noteId:n,variant:a,limit:r,cursor:s,order:i}})}getManyOfNote(e,t,{owner:n,limit:a,cursor:r,order:s}={}){const i=`/notes/${e}/${t}/minted`;return this.base.fetch(i,{params:{owner:n,limit:a,cursor:r,order:s}})}get(e,t){const n=`/minted/notes/${e}/${t}`;return this.base.fetch(n)}},Nf=class{constructor(e){re(this,"token");this.base=e}requestSignUpEmail(e){return this.base.fetch("/newbie/account/signup/email",{method:"POST",data:{email:e}})}verifySignUpCode(e,t){return this.base.fetch("/newbie/account/signup/email/verify",{method:"POST",data:{email:e,code:t}})}async signUp(e){const{token:t}=await this.base.fetch("/newbie/account/signup",{method:"PUT",data:e});return this.token=t,t}async signIn(e,t){const{token:n}=await this.base.fetch("/newbie/account/signin",{method:"POST",data:{email:e,password:t}});return this.token=n,n}requestResetPasswordEmail(e){return this.base.fetch("/v1/newbie/account/reset-password/email",{method:"POST",data:{email:e}})}verifyResetPasswordCode(e,t){return this.base.fetch("/newbie/account/reset-password/email/verify",{method:"POST",data:{email:e,code:t}})}resetPassword(e){return this.base.fetch("/newbie/account/reset-password",{method:"POST",data:e})}getAccount(){return this.base.fetch("/newbie/account",{token:this.token})}async deleteAccount(){await this.base.fetch("/newbie/account",{method:"DELETE",token:this.token})}linkNote({noteId:e,characterId:t,linkType:n,data:a}){return this.base.fetch(`/newbie/contract/links/notes/${t}/${e}/${n}`,{method:"PUT",data:{data:a},token:this.token})}unlinkNote({noteId:e,characterId:t,linkType:n}){return this.base.fetch(`/newbie/contract/links/notes/${t}/${e}/${n}`,{method:"DELETE",token:this.token})}linkCharacter({toCharacterId:e,linkType:t,data:n}){return this.base.fetch(`/newbie/contract/links/characters/${e}/${t}`,{method:"PUT",data:{data:n},token:this.token})}linkCharacters({toCharacterIds:e,toAddresses:t,linkType:n,data:a}){return this.base.fetch("/newbie/contract/links/characters",{method:"PUT",data:{data:a,linkType:n,toCharacterIds:e,toAddresses:t},token:this.token})}unlinkCharacter({toCharacterId:e,linkType:t}){return this.base.fetch(`/newbie/contract/links/characters/${e}/${t}`,{method:"DELETE",token:this.token})}putNote(e){return this.base.fetch("/newbie/contract/notes",{method:"PUT",token:this.token,data:e})}updateNote({noteId:e,metadata:t}){return this.base.fetch(`/newbie/contract/notes/${e}/metadata`,{method:"POST",token:this.token,data:{metadata:t}})}deleteNote({noteId:e}){return this.base.fetch(`/newbie/contract/notes/${e}`,{method:"DELETE",token:this.token})}refillBalance(){return this.base.fetch("/newbie/account/balance/refill",{method:"POST",token:this.token})}updateHandle(e){return this.base.fetch("/newbie/contract/characters/me/handle",{method:"POST",token:this.token,data:{handle:e}})}updateCharactersMetadata({metadata:e,mode:t="merge"}){return this.base.fetch("/newbie/contract/characters/me/metadata",{method:"POST",data:{metadata:e,mode:t},token:this.token})}tipCharacter({characterId:e,amount:t}){return this.base.fetch("/newbie/contract/tips",{method:"POST",data:{characterId:e,amount:t},token:this.token})}tipCharacterForNote({characterId:e,noteId:t,amount:n}){return this.base.fetch("/newbie/contract/tips",{method:"POST",data:{characterId:e,noteId:t,amount:n},token:this.token})}getWithdrawProof(){return this.base.fetch("/newbie/account/withdraw/proof",{method:"GET",token:this.token})}},Bf=class{constructor(e){this.base=e}getMany(e={}){return this.base.fetch("/notes",{params:e})}getManyOfCharacterFollowing(e,t={}){const n=`/characters/${e}/notes/following`;return this.base.fetch(n,{params:t})}get(e,t){const n=`/characters/${e}/notes/${t}`;return this.base.fetch(n)}getDistinctTagsOfCharacter(e,{sources:t}={}){const n=`/characters/${e}/notes/tags`;return this.base.fetch(n,{params:{sources:t}})}getDistinctSourcesOfCharacter(e,{tags:t}={}){const n=`/characters/${e}/notes/sources`;return this.base.fetch(n,{params:{tags:t}})}},$f=class{constructor(e){this.base=e}getMany(e,{type:t,includeCharacterMetadata:n,includeSelfInvoked:a,includeIsRead:r,read:s,limit:i,cursor:o}={}){const c=`/characters/${e}/notifications`;return this.base.fetch(c,{params:{type:t,includeCharacterMetadata:n,includeSelfInvoked:a,includeIsRead:r,read:s,limit:i,cursor:o}})}markAllAsRead(e){const t=`/characters/${e}/notifications/read`;return this.base.fetch(t,{method:"POST"})}get(e,t,n,{includeCharacterMetadata:a}={}){const r=`/characters/${e}/notifications/${t}/${n}`;return this.base.fetch(r,{params:{includeCharacterMetadata:a}})}getUnreadCount(e){const t=`/characters/${e}/notifications/unread/count`;return this.base.fetch(t)}},Of=class{constructor(e){this.base=e}getManyForCharacter(e,{limit:t=20,cursor:n}={}){const a=`/characters/${e}/operators`;return this.base.fetch(a,{params:{limit:t,cursor:n}})}getForCharacter(e,t){const n=`/characters/${e}/operators/${t}`;return this.base.fetch(n)}},Sf=class{constructor(e){this.base=e}characters(e,t){return this.base.fetch("/characters/search",{params:{q:e,...t}})}notes(e,t){return this.base.fetch("/notes/search",{params:{q:e,...t}})}},Rf=class{constructor(e){re(this,"token");this.base=e}async signIn(e){const t=await e.getAddress();if(!t)throw new Error(`SignInError: invalid address ${t}`);const{message:n}=await this.base.fetch("/siwe/challenge",{method:"POST",data:{address:t,domain:typeof window<"u"&&window.location.host||"crossbell.io",uri:typeof window<"u"&&window.location.origin||"https://crossbell.io",statement:"Sign in with Crossbell to the app."}}),{token:a}=await this.base.fetch("/siwe/login",{method:"POST",data:{address:t,signature:await e.signMessage(n)}});return this.token=a,{token:a}}getAccount(){return this.base.fetch("/siwe/account",{method:"GET",token:this.token})}getBalance(){return this.base.fetch("/siwe/account/balance",{method:"GET",token:this.token})}updateMetadata({mode:e="merge",characterId:t,metadata:n}){return this.base.fetch(`/siwe/contract/characters/${t}/metadata`,{method:"POST",token:this.token,data:{metadata:n,mode:e}})}linkNote({fromCharacterId:e,noteId:t,characterId:n,linkType:a,data:r}){return this.base.fetch(`/siwe/contract/characters/${e}/links/notes/${n}/${t}/${a}`,{method:"PUT",token:this.token,data:{data:r}})}unlinkNote({fromCharacterId:e,noteId:t,characterId:n,linkType:a}){return this.base.fetch(`/siwe/contract/characters/${e}/links/notes/${n}/${t}/${a}`,{method:"DELETE",token:this.token})}linkCharacter({characterId:e,toCharacterId:t,linkType:n,data:a}){return this.base.fetch(`/siwe/contract/characters/${e}/links/characters/${t}/${n}`,{method:"PUT",token:this.token,data:{data:a}})}linkCharacters({characterId:e,toCharacterIds:t,toAddresses:n,linkType:a,data:r}){return this.base.fetch(`/siwe/contract/characters/${e}/links/characters`,{method:"PUT",token:this.token,data:{data:r,linkType:a,toCharacterIds:t,toAddresses:n}})}unlinkCharacter({characterId:e,toCharacterId:t,linkType:n}){return this.base.fetch(`/siwe/contract/characters/${e}/links/characters/${t}/${n}`,{method:"DELETE",token:this.token})}putNote({characterId:e,...t}){return this.base.fetch(`/siwe/contract/characters/${e}/notes`,{method:"PUT",token:this.token,data:t})}updateNote({characterId:e,noteId:t,metadata:n}){return this.base.fetch(`/siwe/contract/characters/${e}/notes/${t}/metadata`,{method:"POST",token:this.token,data:{metadata:n}})}deleteNote({characterId:e,noteId:t}){return this.base.fetch(`/siwe/contract/characters/${e}/notes/${t}`,{method:"DELETE",token:this.token})}mintNote({characterId:e,noteId:t}){return this.base.fetch(`/siwe/contract/characters/${e}/notes/${t}/minted`,{method:"PUT",token:this.token,data:{}})}},_f=class{constructor(e){this.base=e}getForCharacter(e){const t=`/stat/characters/${e}`;return this.base.fetch(t)}getForNote(e,t){const n=`/stat/notes/${e}/${t}`;return this.base.fetch(n)}},Lf=class{constructor(e){this.base=e}getMany({characterId:e,toCharacterId:t,toNoteId:n,tokenAddress:a,includeZeroAmount:r,includeMetadata:s,limit:i,cursor:o}={}){return this.base.fetch("/tips",{params:{characterId:e,toCharacterId:t,toNoteId:n,tokenAddress:a,includeZeroAmount:r,includeMetadata:s,limit:i,cursor:o}})}get(e,t){const n=`/tips/${e}/${t}`;return this.base.fetch(n)}},Ff=class extends kf{constructor(){super(...arguments);re(this,"link",new Ef(this));re(this,"linklist",new Cf(this));re(this,"note",new Bf(this));re(this,"character",new xf(this));re(this,"search",new Sf(this));re(this,"feed",new If(this));re(this,"mintedNote",new Mf(this));re(this,"metadata",new Tf(this));re(this,"achievement",new vf(this));re(this,"notification",new $f(this));re(this,"operator",new Of(this));re(this,"tip",new Lf(this));re(this,"linkModule",new Af(this));re(this,"mintModule",new Pf(this));re(this,"newbie",new Nf(this));re(this,"siwe",new Rf(this));re(this,"stat",new _f(this))}};function zf(){if(vu)return $s;function e(N){return N instanceof Map?N.clear=N.delete=N.set=function(){throw new Error("map is read-only")}:N instanceof Set&&(N.add=N.clear=N.delete=function(){throw new Error("set is read-only")}),Object.freeze(N),Object.getOwnPropertyNames(N).forEach(O=>{const U=N[O],V=typeof U;V!=="object"&&V!=="function"||Object.isFrozen(U)||e(U)}),N}vu=1;class t{constructor(O){O.data===void 0&&(O.data={}),this.data=O.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(N){return N.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function a(N,...O){const U=Object.create(null);for(const V in N)U[V]=N[V];return O.forEach(function(V){for(const ie in V)U[ie]=V[ie]}),U}const r=N=>!!N.scope;class s{constructor(O,U){this.buffer="",this.classPrefix=U.classPrefix,O.walk(this)}addText(O){this.buffer+=n(O)}openNode(O){if(!r(O))return;const U=((V,{prefix:ie})=>{if(V.startsWith("language:"))return V.replace("language:","language-");if(V.includes(".")){const z=V.split(".");return[`${ie}${z.shift()}`,...z.map((Q,H)=>`${Q}${"_".repeat(H+1)}`)].join(" ")}return`${ie}${V}`})(O.scope,{prefix:this.classPrefix});this.span(U)}closeNode(O){r(O)&&(this.buffer+="</span>")}value(){return this.buffer}span(O){this.buffer+=`<span class="${O}">`}}const i=(N={})=>{const O={children:[]};return Object.assign(O,N),O};class o{constructor(){this.rootNode=i(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(O){this.top.children.push(O)}openNode(O){const U=i({scope:O});this.add(U),this.stack.push(U)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(O){return this.constructor._walk(O,this.rootNode)}static _walk(O,U){return typeof U=="string"?O.addText(U):U.children&&(O.openNode(U),U.children.forEach(V=>this._walk(O,V)),O.closeNode(U)),O}static _collapse(O){typeof O!="string"&&O.children&&(O.children.every(U=>typeof U=="string")?O.children=[O.children.join("")]:O.children.forEach(U=>{o._collapse(U)}))}}class c extends o{constructor(O){super(),this.options=O}addText(O){O!==""&&this.add(O)}startScope(O){this.openNode(O)}endScope(){this.closeNode()}__addSublanguage(O,U){const V=O.root;U&&(V.scope=`language:${U}`),this.add(V)}toHTML(){return new s(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function u(N){return N?typeof N=="string"?N:N.source:null}function l(N){return h("(?=",N,")")}function d(N){return h("(?:",N,")*")}function p(N){return h("(?:",N,")?")}function h(...N){return N.map(U=>u(U)).join("")}function b(...N){return"("+(function(V){const ie=V[V.length-1];return typeof ie=="object"&&ie.constructor===Object?(V.splice(V.length-1,1),ie):{}}(N).capture?"":"?:")+N.map(V=>u(V)).join("|")+")"}function y(N){return new RegExp(N.toString()+"|").exec("").length-1}const m=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function f(N,{joinWith:O}){let U=0;return N.map(V=>{U+=1;const ie=U;let z=u(V),Q="";for(;z.length>0;){const H=m.exec(z);if(!H){Q+=z;break}Q+=z.substring(0,H.index),z=z.substring(H.index+H[0].length),H[0][0]==="\\"&&H[1]?Q+="\\"+String(Number(H[1])+ie):(Q+=H[0],H[0]==="("&&U++)}return Q}).map(V=>`(${V})`).join(O)}const g="[a-zA-Z]\\w*",w="[a-zA-Z_]\\w*",k="\\b\\d+(\\.\\d+)?",I="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",A="\\b(0b[01]+)",C={begin:"\\\\[\\s\\S]",relevance:0},P={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[C]},x={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[C]},v=function(N,O,U={}){const V=a({scope:"comment",begin:N,end:O,contains:[]},U);V.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const ie=b("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return V.contains.push({begin:h(/[ ]+/,"(",ie,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),V},E=v("//","$"),M=v("/\\*","\\*/"),B=v("#","$"),S={scope:"number",begin:k,relevance:0},T={scope:"number",begin:I,relevance:0},$={scope:"number",begin:A,relevance:0},_={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[C,{begin:/\[/,end:/\]/,relevance:0,contains:[C]}]},L={scope:"title",begin:g,relevance:0},F={scope:"title",begin:w,relevance:0},K={begin:"\\.\\s*"+w,relevance:0};var q=Object.freeze({__proto__:null,APOS_STRING_MODE:P,BACKSLASH_ESCAPE:C,BINARY_NUMBER_MODE:$,BINARY_NUMBER_RE:A,COMMENT:v,C_BLOCK_COMMENT_MODE:M,C_LINE_COMMENT_MODE:E,C_NUMBER_MODE:T,C_NUMBER_RE:I,END_SAME_AS_BEGIN:function(N){return Object.assign(N,{"on:begin":(O,U)=>{U.data._beginMatch=O[1]},"on:end":(O,U)=>{U.data._beginMatch!==O[1]&&U.ignoreMatch()}})},HASH_COMMENT_MODE:B,IDENT_RE:g,MATCH_NOTHING_RE:/\b\B/,METHOD_GUARD:K,NUMBER_MODE:S,NUMBER_RE:k,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},QUOTE_STRING_MODE:x,REGEXP_MODE:_,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(N={})=>{const O=/^#![ ]*\//;return N.binary&&(N.begin=h(O,/.*\b/,N.binary,/\b.*/)),a({scope:"meta",begin:O,end:/$/,relevance:0,"on:begin":(U,V)=>{U.index!==0&&V.ignoreMatch()}},N)},TITLE_MODE:L,UNDERSCORE_IDENT_RE:w,UNDERSCORE_TITLE_MODE:F});function ae(N,O){N.input[N.index-1]==="."&&O.ignoreMatch()}function we(N,O){N.className!==void 0&&(N.scope=N.className,delete N.className)}function de(N,O){O&&N.beginKeywords&&(N.begin="\\b("+N.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",N.__beforeBegin=ae,N.keywords=N.keywords||N.beginKeywords,delete N.beginKeywords,N.relevance===void 0&&(N.relevance=0))}function Ie(N,O){Array.isArray(N.illegal)&&(N.illegal=b(...N.illegal))}function Ae(N,O){if(N.match){if(N.begin||N.end)throw new Error("begin & end are not supported with match");N.begin=N.match,delete N.match}}function He(N,O){N.relevance===void 0&&(N.relevance=1)}const It=(N,O)=>{if(!N.beforeMatch)return;if(N.starts)throw new Error("beforeMatch cannot be used with starts");const U=Object.assign({},N);Object.keys(N).forEach(V=>{delete N[V]}),N.keywords=U.keywords,N.begin=h(U.beforeMatch,l(U.begin)),N.starts={relevance:0,contains:[Object.assign(U,{endsParent:!0})]},N.relevance=0,delete U.beforeMatch},Je=["of","and","for","in","not","or","if","then","parent","list","value"];function _t(N,O,U="keyword"){const V=Object.create(null);return typeof N=="string"?ie(U,N.split(" ")):Array.isArray(N)?ie(U,N):Object.keys(N).forEach(function(z){Object.assign(V,_t(N[z],O,z))}),V;function ie(z,Q){O&&(Q=Q.map(H=>H.toLowerCase())),Q.forEach(function(H){const Pe=H.split("|");V[Pe[0]]=[z,Sa(Pe[0],Pe[1])]})}}function Sa(N,O){return O?Number(O):function(U){return Je.includes(U.toLowerCase())}(N)?0:1}const Ra={},ct=(N,O)=>{Ra[`${N}/${O}`]||(Ra[`${N}/${O}`]=!0)},dn=new Error;function Un(N,O,{key:U}){let V=0;const ie=N[U],z={},Q={};for(let H=1;H<=O.length;H++)Q[H+V]=ie[H],z[H+V]=!0,V+=y(O[H-1]);N[U]=Q,N[U]._emit=z,N[U]._multi=!0}function jn(N){(function(O){O.scope&&typeof O.scope=="object"&&O.scope!==null&&(O.beginScope=O.scope,delete O.scope)})(N),typeof N.beginScope=="string"&&(N.beginScope={_wrap:N.beginScope}),typeof N.endScope=="string"&&(N.endScope={_wrap:N.endScope}),function(O){if(Array.isArray(O.begin)){if(O.skip||O.excludeBegin||O.returnBegin||typeof O.beginScope!="object"||O.beginScope===null)throw dn;Un(O,O.begin,{key:"beginScope"}),O.begin=f(O.begin,{joinWith:""})}}(N),function(O){if(Array.isArray(O.end)){if(O.skip||O.excludeEnd||O.returnEnd||typeof O.endScope!="object"||O.endScope===null)throw dn;Un(O,O.end,{key:"endScope"}),O.end=f(O.end,{joinWith:""})}}(N)}function Dn(N){function O(ie,z){return new RegExp(u(ie),"m"+(N.case_insensitive?"i":"")+(N.unicodeRegex?"u":"")+(z?"g":""))}class U{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(z,Q){Q.position=this.position++,this.matchIndexes[this.matchAt]=Q,this.regexes.push([Q,z]),this.matchAt+=y(z)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const z=this.regexes.map(Q=>Q[1]);this.matcherRe=O(f(z,{joinWith:"|"}),!0),this.lastIndex=0}exec(z){this.matcherRe.lastIndex=this.lastIndex;const Q=this.matcherRe.exec(z);if(!Q)return null;const H=Q.findIndex((ve,le)=>le>0&&ve!==void 0),Pe=this.matchIndexes[H];return Q.splice(0,H),Object.assign(Q,Pe)}}class V{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(z){if(this.multiRegexes[z])return this.multiRegexes[z];const Q=new U;return this.rules.slice(z).forEach(([H,Pe])=>Q.addRule(H,Pe)),Q.compile(),this.multiRegexes[z]=Q,Q}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(z,Q){this.rules.push([z,Q]),Q.type==="begin"&&this.count++}exec(z){const Q=this.getMatcher(this.regexIndex);Q.lastIndex=this.lastIndex;let H=Q.exec(z);if(this.resumingScanAtSamePosition()&&!(H&&H.index===this.lastIndex)){const Pe=this.getMatcher(0);Pe.lastIndex=this.lastIndex+1,H=Pe.exec(z)}return H&&(this.regexIndex+=H.position+1,this.regexIndex===this.count&&this.considerAll()),H}}if(N.compilerExtensions||(N.compilerExtensions=[]),N.contains&&N.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return N.classNameAliases=a(N.classNameAliases||{}),function ie(z,Q){const H=z;if(z.isCompiled)return H;[we,Ae,jn,It].forEach(ve=>ve(z,Q)),N.compilerExtensions.forEach(ve=>ve(z,Q)),z.__beforeBegin=null,[de,Ie,He].forEach(ve=>ve(z,Q)),z.isCompiled=!0;let Pe=null;return typeof z.keywords=="object"&&z.keywords.$pattern&&(z.keywords=Object.assign({},z.keywords),Pe=z.keywords.$pattern,delete z.keywords.$pattern),Pe=Pe||/\w+/,z.keywords&&(z.keywords=_t(z.keywords,N.case_insensitive)),H.keywordPatternRe=O(Pe,!0),Q&&(z.begin||(z.begin=/\B|\b/),H.beginRe=O(H.begin),z.end||z.endsWithParent||(z.end=/\B|\b/),z.end&&(H.endRe=O(H.end)),H.terminatorEnd=u(H.end)||"",z.endsWithParent&&Q.terminatorEnd&&(H.terminatorEnd+=(z.end?"|":"")+Q.terminatorEnd)),z.illegal&&(H.illegalRe=O(z.illegal)),z.contains||(z.contains=[]),z.contains=[].concat(...z.contains.map(function(ve){return function(le){return le.variants&&!le.cachedVariants&&(le.cachedVariants=le.variants.map(function(Lt){return a(le,{variants:null},Lt)})),le.cachedVariants?le.cachedVariants:ln(le)?a(le,{starts:le.starts?a(le.starts):null}):Object.isFrozen(le)?a(le):le}(ve==="self"?z:ve)})),z.contains.forEach(function(ve){ie(ve,H)}),z.starts&&ie(z.starts,Q),H.matcher=function(ve){const le=new V;return ve.contains.forEach(Lt=>le.addRule(Lt.begin,{rule:Lt,type:"begin"})),ve.terminatorEnd&&le.addRule(ve.terminatorEnd,{type:"end"}),ve.illegal&&le.addRule(ve.illegal,{type:"illegal"}),le}(H),H}(N)}function ln(N){return!!N&&(N.endsWithParent||ln(N.starts))}class Hn extends Error{constructor(O,U){super(O),this.name="HTMLInjectionError",this.html=U}}const pn=n,to=a,no=Symbol("nomatch"),ao=function(N){const O=Object.create(null),U=Object.create(null),V=[];let ie=!0;const z="Could not find the language '{}', did you forget to load/include a language module?",Q={disableAutodetect:!0,name:"Plain text",contains:[]};let H={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:c};function Pe(D){return H.noHighlightRe.test(D)}function ve(D,ee,se){let Re="",Ce="";typeof ee=="object"?(Re=D,se=ee.ignoreIllegals,Ce=ee.language):(ct("10.7.0","highlight(lang, code, ...args) has been deprecated."),ct("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),Ce=D,Re=ee),se===void 0&&(se=!0);const Me={code:Re,language:Ce};La("before:highlight",Me);const Ne=Me.result?Me.result:le(Me.language,Me.code,se);return Ne.code=Me.code,La("after:highlight",Ne),Ne}function le(D,ee,se,Re){const Ce=Object.create(null);function Me(){if(!ne.keywords)return void _e.addText(ue);let j=0;ne.keywordPatternRe.lastIndex=0;let X=ne.keywordPatternRe.exec(ue),ce="";for(;X;){ce+=ue.substring(j,X.index);const pe=ut.case_insensitive?X[0].toLowerCase():X[0],Le=(oe=pe,ne.keywords[oe]);if(Le){const[Et,Lr]=Le;if(_e.addText(ce),ce="",Ce[pe]=(Ce[pe]||0)+1,Ce[pe]<=7&&(za+=Lr),Et.startsWith("_"))ce+=X[0];else{const Ua=ut.classNameAliases[Et]||Et;Ge(X[0],Ua)}}else ce+=X[0];j=ne.keywordPatternRe.lastIndex,X=ne.keywordPatternRe.exec(ue)}var oe;ce+=ue.substring(j),_e.addText(ce)}function Ne(){ne.subLanguage!=null?function(){if(ue==="")return;let j=null;if(typeof ne.subLanguage=="string"){if(!O[ne.subLanguage])return void _e.addText(ue);j=le(ne.subLanguage,ue,!0,uo[ne.subLanguage]),uo[ne.subLanguage]=j._top}else j=Lt(ue,ne.subLanguage.length?ne.subLanguage:null);ne.relevance>0&&(za+=j.relevance),_e.__addSublanguage(j._emitter,j.language)}():Me(),ue=""}function Ge(j,X){j!==""&&(_e.startScope(X),_e.addText(j),_e.endScope())}function ke(j,X){let ce=1;const oe=X.length-1;for(;ce<=oe;){if(!j._emit[ce]){ce++;continue}const pe=ut.classNameAliases[j[ce]]||j[ce],Le=X[ce];pe?Ge(Le,pe):(ue=Le,Me(),ue=""),ce++}}function at(j,X){return j.scope&&typeof j.scope=="string"&&_e.openNode(ut.classNameAliases[j.scope]||j.scope),j.beginScope&&(j.beginScope._wrap?(Ge(ue,ut.classNameAliases[j.beginScope._wrap]||j.beginScope._wrap),ue=""):j.beginScope._multi&&(ke(j.beginScope,X),ue="")),ne=Object.create(j,{parent:{value:ne}}),ne}function oo(j,X,ce){let oe=function(pe,Le){const Et=pe&&pe.exec(Le);return Et&&Et.index===0}(j.endRe,ce);if(oe){if(j["on:end"]){const pe=new t(j);j["on:end"](X,pe),pe.isMatchIgnored&&(oe=!1)}if(oe){for(;j.endsParent&&j.parent;)j=j.parent;return j}}if(j.endsWithParent)return oo(j.parent,X,ce)}function ap(j){return ne.matcher.regexIndex===0?(ue+=j[0],1):(_r=!0,0)}function rp(j){const X=j[0],ce=ee.substring(j.index),oe=oo(ne,j,ce);if(!oe)return no;const pe=ne;ne.endScope&&ne.endScope._wrap?(Ne(),Ge(X,ne.endScope._wrap)):ne.endScope&&ne.endScope._multi?(Ne(),ke(ne.endScope,j)):pe.skip?ue+=X:(pe.returnEnd||pe.excludeEnd||(ue+=X),Ne(),pe.excludeEnd&&(ue=X));do ne.scope&&_e.closeNode(),ne.skip||ne.subLanguage||(za+=ne.relevance),ne=ne.parent;while(ne!==oe.parent);return oe.starts&&at(oe.starts,j),pe.returnEnd?0:X.length}let Fa={};function co(j,X){const ce=X&&X[0];if(ue+=j,ce==null)return Ne(),0;if(Fa.type==="begin"&&X.type==="end"&&Fa.index===X.index&&ce===""){if(ue+=ee.slice(X.index,X.index+1),!ie){const oe=new Error(`0 width match regex (${D})`);throw oe.languageName=D,oe.badRule=Fa.rule,oe}return 1}if(Fa=X,X.type==="begin")return function(oe){const pe=oe[0],Le=oe.rule,Et=new t(Le),Lr=[Le.__beforeBegin,Le["on:begin"]];for(const Ua of Lr)if(Ua&&(Ua(oe,Et),Et.isMatchIgnored))return ap(pe);return Le.skip?ue+=pe:(Le.excludeBegin&&(ue+=pe),Ne(),Le.returnBegin||Le.excludeBegin||(ue=pe)),at(Le,oe),Le.returnBegin?0:pe.length}(X);if(X.type==="illegal"&&!se){const oe=new Error('Illegal lexeme "'+ce+'" for mode "'+(ne.scope||"<unnamed>")+'"');throw oe.mode=ne,oe}if(X.type==="end"){const oe=rp(X);if(oe!==no)return oe}if(X.type==="illegal"&&ce==="")return ue+=`
`,1;if(Rr>1e5&&Rr>3*X.index)throw new Error("potential infinite loop, way more iterations than matches");return ue+=ce,ce.length}const ut=Ft(D);if(!ut)throw z.replace("{}",D),new Error('Unknown language: "'+D+'"');const sp=Dn(ut);let Sr="",ne=Re||sp;const uo={},_e=new H.__emitter(H);(function(){const j=[];for(let X=ne;X!==ut;X=X.parent)X.scope&&j.unshift(X.scope);j.forEach(X=>_e.openNode(X))})();let ue="",za=0,Vt=0,Rr=0,_r=!1;try{if(ut.__emitTokens)ut.__emitTokens(ee,_e);else{for(ne.matcher.considerAll();;){Rr++,_r?_r=!1:ne.matcher.considerAll(),ne.matcher.lastIndex=Vt;const j=ne.matcher.exec(ee);if(!j)break;const X=co(ee.substring(Vt,j.index),j);Vt=j.index+X}co(ee.substring(Vt))}return _e.finalize(),Sr=_e.toHTML(),{language:D,value:Sr,relevance:za,illegal:!1,_emitter:_e,_top:ne}}catch(j){if(j.message&&j.message.includes("Illegal"))return{language:D,value:pn(ee),illegal:!0,relevance:0,_illegalBy:{message:j.message,index:Vt,context:ee.slice(Vt-100,Vt+100),mode:j.mode,resultSoFar:Sr},_emitter:_e};if(ie)return{language:D,value:pn(ee),illegal:!1,relevance:0,errorRaised:j,_emitter:_e,_top:ne};throw j}}function Lt(D,ee){ee=ee||H.languages||Object.keys(O);const se=function(ke){const at={value:pn(ke),illegal:!1,relevance:0,_top:Q,_emitter:new H.__emitter(H)};return at._emitter.addText(ke),at}(D),Re=ee.filter(Ft).filter(io).map(ke=>le(ke,D,!1));Re.unshift(se);const Ce=Re.sort((ke,at)=>{if(ke.relevance!==at.relevance)return at.relevance-ke.relevance;if(ke.language&&at.language){if(Ft(ke.language).supersetOf===at.language)return 1;if(Ft(at.language).supersetOf===ke.language)return-1}return 0}),[Me,Ne]=Ce,Ge=Me;return Ge.secondBest=Ne,Ge}function Or(D){let ee=null;const se=function(Me){let Ne=Me.className+" ";Ne+=Me.parentNode?Me.parentNode.className:"";const Ge=H.languageDetectRe.exec(Ne);if(Ge){const ke=Ft(Ge[1]);return ke||z.replace("{}",Ge[1]),ke?Ge[1]:"no-highlight"}return Ne.split(/\s+/).find(ke=>Pe(ke)||Ft(ke))}(D);if(Pe(se)||(La("before:highlightElement",{el:D,language:se}),D.dataset.highlighted))return;if(D.children.length>0&&(H.ignoreUnescapedHTML,H.throwUnescapedHTML))throw new Hn("One of your code blocks includes unescaped HTML.",D.innerHTML);ee=D;const Re=ee.textContent,Ce=se?ve(Re,{language:se,ignoreIllegals:!0}):Lt(Re);D.innerHTML=Ce.value,D.dataset.highlighted="yes",function(Me,Ne,Ge){const ke=Ne&&U[Ne]||Ge;Me.classList.add("hljs"),Me.classList.add(`language-${ke}`)}(D,se,Ce.language),D.result={language:Ce.language,re:Ce.relevance,relevance:Ce.relevance},Ce.secondBest&&(D.secondBest={language:Ce.secondBest.language,relevance:Ce.secondBest.relevance}),La("after:highlightElement",{el:D,result:Ce,text:Re})}let ro=!1;function _a(){if(document.readyState==="loading")return ro||window.addEventListener("DOMContentLoaded",function(){_a()},!1),void(ro=!0);document.querySelectorAll(H.cssSelector).forEach(Or)}function Ft(D){return D=(D||"").toLowerCase(),O[D]||O[U[D]]}function so(D,{languageName:ee}){typeof D=="string"&&(D=[D]),D.forEach(se=>{U[se.toLowerCase()]=ee})}function io(D){const ee=Ft(D);return ee&&!ee.disableAutodetect}function La(D,ee){const se=D;V.forEach(function(Re){Re[se]&&Re[se](ee)})}Object.assign(N,{highlight:ve,highlightAuto:Lt,highlightAll:_a,highlightElement:Or,highlightBlock:function(D){return ct("10.7.0","highlightBlock will be removed entirely in v12.0"),ct("10.7.0","Please use highlightElement now."),Or(D)},configure:function(D){H=to(H,D)},initHighlighting:()=>{_a(),ct("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){_a(),ct("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(D,ee){let se=null;try{se=ee(N)}catch(Re){if("Language definition for '{}' could not be registered.".replace("{}",D),!ie)throw Re;se=Q}se.name||(se.name=D),O[D]=se,se.rawDefinition=ee.bind(null,N),se.aliases&&so(se.aliases,{languageName:D})},unregisterLanguage:function(D){delete O[D];for(const ee of Object.keys(U))U[ee]===D&&delete U[ee]},listLanguages:function(){return Object.keys(O)},getLanguage:Ft,registerAliases:so,autoDetection:io,inherit:to,addPlugin:function(D){(function(ee){ee["before:highlightBlock"]&&!ee["before:highlightElement"]&&(ee["before:highlightElement"]=se=>{ee["before:highlightBlock"](Object.assign({block:se.el},se))}),ee["after:highlightBlock"]&&!ee["after:highlightElement"]&&(ee["after:highlightElement"]=se=>{ee["after:highlightBlock"](Object.assign({block:se.el},se))})})(D),V.push(D)},removePlugin:function(D){const ee=V.indexOf(D);ee!==-1&&V.splice(ee,1)}}),N.debugMode=function(){ie=!1},N.safeMode=function(){ie=!0},N.versionString="11.11.1",N.regex={concat:h,lookahead:l,either:b,optional:p,anyNumberOfTimes:d};for(const D in q)typeof q[D]=="object"&&e(q[D]);return Object.assign(N,q),N},hn=ao({});return hn.newInstance=()=>ao({}),$s=hn,hn.HighlightJS=hn,hn.default=hn,$s}const Jn=mr(zf());function Uf(e){const t=e.regex,n={},a={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},a]});const r={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},s=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),i={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},o={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,r]};r.contains.push(o);const c={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},u=e.SHEBANG({binary:`(${["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"].join("|")})`,relevance:10}),l={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0};return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],literal:["true","false"],built_in:["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset","alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias","set","shopt","autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp","chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"]},contains:[u,e.SHEBANG(),l,c,s,i,{match:/(\/[a-z._-]+)+/},o,{match:/\\"/},{className:"string",begin:/'/,end:/'/},{match:/\\'/},n]}}const ku="[A-Za-z$_][0-9A-Za-z$_]*",jf=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Df=["true","false","null","undefined","NaN","Infinity"],ep=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],tp=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],np=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Hf=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Gf=[].concat(np,ep,tp);function qf(e){const t=e.regex,n=ku,a="<>",r="</>",s={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(S,T)=>{const $=S[0].length+S.index,_=S.input[$];if(_==="<"||_===",")return void T.ignoreMatch();let L;_===">"&&(((K,{after:q})=>{const ae="</"+K[0].slice(1);return K.input.indexOf(ae,q)!==-1})(S,{after:$})||T.ignoreMatch());const F=S.input.substring($);((L=F.match(/^\s*=/))||(L=F.match(/^\s+extends\s+/))&&L.index===0)&&T.ignoreMatch()}},i={$pattern:ku,keyword:jf,literal:Df,built_in:Gf,"variable.language":Hf},o="[0-9](_?[0-9])*",c=`\\.(${o})`,u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",l={className:"number",variants:[{begin:`(\\b(${u})((${c})|\\.)?|(${c}))[eE][+-]?(${o})\\b`},{begin:`\\b(${u})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:i,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},h={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"css"}},b={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},y={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,d]},m={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},f=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,h,b,y,{match:/\$\d+/},l];d.contains=f.concat({begin:/\{/,end:/\}/,keywords:i,contains:["self"].concat(f)});const g=[].concat(m,d.contains),w=g.concat([{begin:/(\s*)\(/,end:/\)/,keywords:i,contains:["self"].concat(g)}]),k={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:w},I={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},A={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...ep,...tp]}},C={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[k],illegal:/%/},P={match:t.concat(/\b/,(x=[...np,"super","import"].map(S=>`${S}\\s*\\(`),t.concat("(?!",x.join("|"),")")),n,t.lookahead(/\s*\(/)),className:"title.function",relevance:0};var x;const v={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},E={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},k]},M="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",B={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(M)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[k]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:i,exports:{PARAMS_CONTAINS:w,CLASS_REFERENCE:A},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,h,b,y,m,{match:/\$\d+/},l,A,{scope:"attr",match:n+t.lookahead(":"),relevance:0},B,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[m,e.REGEXP_MODE,{className:"function",begin:M,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:w}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:a,end:r},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:s.begin,"on:begin":s.isTrulyOpeningTag,end:s.end}],subLanguage:"xml",contains:[{begin:s.begin,end:s.end,skip:!0,contains:["self"]}]}]},C,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[k,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},v,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[k]},P,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},I,E,{match:/\$[(.]/}]}}function Kf(e){const t={$pattern:/-?[A-z\.\-]+\b/,keyword:"if else foreach return do while until elseif begin for trap data dynamicparam end break throw param continue finally in switch exit filter try process catch hidden static parameter",built_in:"ac asnp cat cd CFS chdir clc clear clhy cli clp cls clv cnsn compare copy cp cpi cpp curl cvpa dbp del diff dir dnsn ebp echo|0 epal epcsv epsn erase etsn exsn fc fhx fl ft fw gal gbp gc gcb gci gcm gcs gdr gerr ghy gi gin gjb gl gm gmo gp gps gpv group gsn gsnp gsv gtz gu gv gwmi h history icm iex ihy ii ipal ipcsv ipmo ipsn irm ise iwmi iwr kill lp ls man md measure mi mount move mp mv nal ndr ni nmo npssc nsn nv ogv oh popd ps pushd pwd r rbp rcjb rcsn rd rdr ren ri rjb rm rmdir rmo rni rnp rp rsn rsnp rujb rv rvpa rwmi sajb sal saps sasv sbp sc scb select set shcm si sl sleep sls sort sp spjb spps spsv start stz sujb sv swmi tee trcm type wget where wjb write"},n={begin:"`[\\s\\S]",relevance:0},a={className:"variable",variants:[{begin:/\$\B/},{className:"keyword",begin:/\$this/},{begin:/\$[\w\d][\w\d_:]*/}]},r={className:"string",variants:[{begin:/"/,end:/"/},{begin:/@"/,end:/^"@/}],contains:[n,a,{className:"variable",begin:/\$[A-z]/,end:/[^A-z]/}]},s={className:"string",variants:[{begin:/'/,end:/'/},{begin:/@'/,end:/^'@/}]},i=e.inherit(e.COMMENT(null,null),{variants:[{begin:/#/,end:/$/},{begin:/<#/,end:/#>/}],contains:[{className:"doctag",variants:[{begin:/\.(synopsis|description|example|inputs|outputs|notes|link|component|role|functionality)/},{begin:/\.(parameter|forwardhelptargetname|forwardhelpcategory|remotehelprunspace|externalhelp)\s+\S+/}]}]}),o={className:"built_in",variants:[{begin:"(".concat("Add|Clear|Close|Copy|Enter|Exit|Find|Format|Get|Hide|Join|Lock|Move|New|Open|Optimize|Pop|Push|Redo|Remove|Rename|Reset|Resize|Search|Select|Set|Show|Skip|Split|Step|Switch|Undo|Unlock|Watch|Backup|Checkpoint|Compare|Compress|Convert|ConvertFrom|ConvertTo|Dismount|Edit|Expand|Export|Group|Import|Initialize|Limit|Merge|Mount|Out|Publish|Restore|Save|Sync|Unpublish|Update|Approve|Assert|Build|Complete|Confirm|Deny|Deploy|Disable|Enable|Install|Invoke|Register|Request|Restart|Resume|Start|Stop|Submit|Suspend|Uninstall|Unregister|Wait|Debug|Measure|Ping|Repair|Resolve|Test|Trace|Connect|Disconnect|Read|Receive|Send|Write|Block|Grant|Protect|Revoke|Unblock|Unprotect|Use|ForEach|Sort|Tee|Where",")+(-)[\\w\\d]+")}]},c={className:"class",beginKeywords:"class enum",end:/\s*[{]/,excludeEnd:!0,relevance:0,contains:[e.TITLE_MODE]},u={className:"function",begin:/function\s+/,end:/\s*\{|$/,excludeEnd:!0,returnBegin:!0,relevance:0,contains:[{begin:"function",relevance:0,className:"keyword"},{className:"title",begin:/\w[\w\d]*((-)[\w\d]+)*/,relevance:0},{begin:/\(/,end:/\)/,className:"params",relevance:0,contains:[a]}]},l={begin:/using\s/,end:/$/,returnBegin:!0,contains:[r,s,{className:"keyword",begin:/(using|assembly|command|module|namespace|type)/}]},d={variants:[{className:"operator",begin:"(".concat("-and|-as|-band|-bnot|-bor|-bxor|-casesensitive|-ccontains|-ceq|-cge|-cgt|-cle|-clike|-clt|-cmatch|-cne|-cnotcontains|-cnotlike|-cnotmatch|-contains|-creplace|-csplit|-eq|-exact|-f|-file|-ge|-gt|-icontains|-ieq|-ige|-igt|-ile|-ilike|-ilt|-imatch|-in|-ine|-inotcontains|-inotlike|-inotmatch|-ireplace|-is|-isnot|-isplit|-join|-le|-like|-lt|-match|-ne|-not|-notcontains|-notin|-notlike|-notmatch|-or|-regex|-replace|-shl|-shr|-split|-wildcard|-xor",")\\b")},{className:"literal",begin:/(-){1,2}[\w\d-]+/,relevance:0}]},p={className:"function",begin:/\[.*\]\s*[\w]+[ ]??\(/,end:/$/,returnBegin:!0,relevance:0,contains:[{className:"keyword",begin:"(".concat(t.keyword.toString().replace(/\s/g,"|"),")\\b"),endsParent:!0,relevance:0},e.inherit(e.TITLE_MODE,{endsParent:!0})]},h=[p,i,n,e.NUMBER_MODE,r,s,o,a,{className:"literal",begin:/\$(null|true|false)\b/},{className:"selector-tag",begin:/@\B/,relevance:0}],b={begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0,relevance:0,contains:[].concat("self",h,{begin:"("+["string","char","byte","int","long","bool","decimal","single","double","DateTime","xml","array","hashtable","void"].join("|")+")",className:"built_in",relevance:0},{className:"type",begin:/[\.\w\d]+/,relevance:0})};return p.contains.unshift(b),{name:"PowerShell",aliases:["pwsh","ps","ps1"],case_insensitive:!0,keywords:t,contains:h.concat(c,u,l,d,b)}}function Vf(e){const t=e.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),a=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],r={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:a,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},s={className:"meta",begin:/^(>>>|\.\.\.) /},i={className:"subst",begin:/\{/,end:/\}/,keywords:r,illegal:/#/},o={begin:/\{\{/,relevance:0},c={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,s],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,s],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,s,o,i]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,s,o,i]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,o,i]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,o,i]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},u="[0-9](_?[0-9])*",l=`(\\b(${u}))?\\.(${u})|\\b(${u})\\.`,d=`\\b|${a.join("|")}`,p={className:"number",relevance:0,variants:[{begin:`(\\b(${u})|(${l}))[eE][+-]?(${u})[jJ]?(?=${d})`},{begin:`(${l})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${d})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${d})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${d})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${d})`},{begin:`\\b(${u})[jJ](?=${d})`}]},h={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:r,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},b={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:r,contains:["self",s,p,c,e.HASH_COMMENT_MODE]}]};return i.contains=[c,p,s],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:r,illegal:/(<\/|\?)|=>/,contains:[s,p,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},c,h,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[b]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[p,b,c]}]}}var Os,xu,Iu,Eu;function Wf(){if(xu)return Os;xu=1;var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,c=(g,w,k)=>w in g?e(g,w,{enumerable:!0,configurable:!0,writable:!0,value:k}):g[w]=k,u=(g,w)=>{for(var k in w||(w={}))i.call(w,k)&&c(g,k,w[k]);if(s)for(var k of s(w))o.call(w,k)&&c(g,k,w[k]);return g},l=(g,w)=>t(g,a(w)),d={};function p(g,w,k,I,A){try{return w.highlight(I,{language:A!==""?A:"plaintext",ignoreIllegals:k}).value}catch{return g.utils.escapeHtml(I)}}function h(g,w,k,I,A){if(A!=="")return p(g,w,k,I,A);try{return w.highlightAuto(I).value}catch{return g.utils.escapeHtml(I)}}function b(g){return function(...w){return g(...w).replace(/<code class="/g,'<code class="hljs ').replace(/<code>/g,'<code class="hljs">')}}function y(g){var w,k;for(const I of g.tokens)if(I.type==="inline"&&I.children!=null)for(const[A,C]of I.children.entries()){if(C.type!=="code_inline")continue;const P=I.children[A+1];if(P==null)continue;const x=/^{:?\.([^}]+)}/.exec(P.content);if(x==null)continue;const v=x[1];P.content=P.content.slice(x[0].length);let E=(w=C.attrGet("class"))!=null?w:"";E+=`${(k=g.md.options.langPrefix)!=null?k:"language-"}${v}`,C.attrSet("class",E),C.meta=l(u({},C.meta),{highlightLanguage:v})}}function m(g,w,k,I,A){var C,P;const x=g[w];if(k.highlight==null)throw new Error("`options.highlight` was null, this is not supposed to happen");const v=k.highlight(x.content,(P=(C=x.meta)==null?void 0:C.highlightLanguage)!=null?P:"","");return`<code${A.renderAttrs(x)}>${v}</code>`}function f(g,w){const k=u(u({},f.defaults),w);if(k.hljs==null)throw new Error("Please pass a highlight.js instance for the required `hljs` option.");k.register!=null&&function(I,A){for(const[C,P]of Object.entries(A))I.registerLanguage(C,P)}(k.hljs,k.register),g.options.highlight=(k.auto?h:p).bind(null,g,k.hljs,k.ignoreIllegals),g.renderer.rules.fence!=null&&(g.renderer.rules.fence=b(g.renderer.rules.fence)),k.code&&g.renderer.rules.code_block!=null&&(g.renderer.rules.code_block=b(g.renderer.rules.code_block)),k.inline&&(g.core.ruler.before("linkify","inline_code_language",y),g.renderer.rules.code_inline=b(m))}return((g,w)=>{for(var k in w)e(g,k,{get:w[k],enumerable:!0})})(d,{default:()=>f}),Os=(g=>((w,k,I,A)=>{if(k&&typeof k=="object"||typeof k=="function")for(let C of r(k))i.call(w,C)||C===I||e(w,C,{get:()=>k[C],enumerable:!(A=n(k,C))||A.enumerable});return w})(e({},"__esModule",{value:!0}),g))(d),f.defaults={auto:!1,code:!1,inline:!1,ignoreIllegals:!1},Os}const Zf=mr(Eu?Iu:(Eu=1,Iu=Wf().default)),Jf={key:0,class:"page"},Yf={style:{"text-align":"center"}},Xf=["href"],Qf=["innerHTML"],e0={key:1},t0=["src"],n0=["href"],a0={style:{"text-align":"center",color:"gray",margin:"0","font-size":"small"}},r0={style:{"text-align":"center",color:"gray",margin:"0","font-size":"small"}},s0={key:1},i0={__name:"onepage",setup(e){Jn.registerLanguage("javascript",qf),Jn.registerLanguage("powershell",Kf),Jn.registerLanguage("bash",Uf),Jn.registerLanguage("python",Vf);const t=up();lp();const n=zr(t.params.id||""),a=zr(""),r=zr(""),s=yp({html:!0,linkify:!0,breaks:!0,typographer:!0}).use(fp).use(Zf,{hljs:Jn});var i;return new Ff(i).note.get("50877",n.value).then(o=>{a.value=o,o===null&&(r.value="note Not Found")}).catch(o=>{r.value=o}),dp((o,c,u)=>{n.value=o.params.address||"",u()}),(o,c)=>{var u,l,d,p,h,b,y,m,f,g,w,k,I,A,C,P,x,v,E,M,B,S,T,$,_,L;return(l=(u=a.value)==null?void 0:u.metadata)!=null&&l.content?(ht(),At("div",Jf,[yn("h2",Yf,mn(((h=(p=(d=a.value)==null?void 0:d.metadata)==null?void 0:p.content)==null?void 0:h.title)||""),1),(ht(!0),At(Ur,null,po((m=(y=(b=a.value)==null?void 0:b.metadata)==null?void 0:y.content)==null?void 0:m.attributes,F=>(ht(),At(Ur,null,[(F==null?void 0:F.trait_type)=="xlog_slug"?(ht(),At("a",{key:0,href:"https://xlog.not404.cc/"+(F==null?void 0:F.value),target:"_blank"},"原文",8,Xf)):pp("",!0)],64))),256)),(w=(g=(f=a.value)==null?void 0:f.metadata)==null?void 0:g.content)!=null&&w.content?(ht(),At("div",{key:0,innerHTML:jr(s).render(((A=(I=(k=a.value)==null?void 0:k.metadata)==null?void 0:I.content)==null?void 0:A.content)||"")},null,8,Qf)):(ht(),At("div",e0,[yn("p",null,mn((x=(P=(C=a.value)==null?void 0:C.metadata)==null?void 0:P.content)==null?void 0:x.summary),1),yn("img",{src:(B=(M=(E=(v=a.value)==null?void 0:v.metadata)==null?void 0:E.content)==null?void 0:M.attachments[0])==null?void 0:B.address,style:{width:"300px"},alt:""},null,8,t0),(ht(!0),At(Ur,null,po(($=(T=(S=a.value)==null?void 0:S.metadata)==null?void 0:T.content)==null?void 0:$.external_urls,F=>(ht(),At("div",{key:F},[yn("a",{href:F,target:"_blank"},mn(F),9,n0)]))),128))])),yn("p",a0," publishedAt: "+mn(jr(ho)((_=a.value)==null?void 0:_.publishedAt)),1),yn("p",r0," updatedAt: "+mn(jr(ho)((L=a.value)==null?void 0:L.updatedAt)),1)])):(ht(),At("p",s0,"loading... "+mn(r.value),1))}}},o0=cp(i0,[["__scopeId","data-v-e44b214b"]]),c0={__name:"page",setup:e=>(t,n)=>(ht(),hp(o0))},h0=Object.freeze(Object.defineProperty({__proto__:null,default:c0},Symbol.toStringTag,{value:"Module"}));export{R as B,ea as H,Nt as a,vt as b,Pr as c,ty as d,ot as e,p0 as g,Ba as i,h0 as p,Te as s};
