import{d as S,L as c,O as y,R as w,M as R,S as m,aO as te,X as Y,r as E,p as z,Z as le,a2 as K,aY as ne,aj as se,a4 as X,a6 as ie,K as oe,a8 as M,ay as de,z as pe,A as ce,aZ as me,Y as G,aP as I,aa as fe,a_ as ge,a7 as ue,$ as ve,a0 as xe,al as he,ao as ye,j as F,o as v,w as L,f as N,c as b,u as C,B,k as O,F as j,e as U,a as d,y as Z,t as $,ap as q,a$ as we,v as V,b0 as be}from"./index-Ow1yCR_l.js";import{f as Ce,N as ke}from"./Skeleton-D2Y4jQZ9.js";import{N as _e}from"./Card-wabstih7.js";import"./use-houdini-D-sxWS9s.js";function W(r,i){let{target:n}=r;for(;n;){if(n.dataset&&n.dataset[i]!==void 0)return!0;n=n.parentElement}return!1}const $e=S({name:"ChevronLeft",render:()=>c("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c("path",{d:"M10.3536 3.14645C10.5488 3.34171 10.5488 3.65829 10.3536 3.85355L6.20711 8L10.3536 12.1464C10.5488 12.3417 10.5488 12.6583 10.3536 12.8536C10.1583 13.0488 9.84171 13.0488 9.64645 12.8536L5.14645 8.35355C4.95118 8.15829 4.95118 7.84171 5.14645 7.64645L9.64645 3.14645C9.84171 2.95118 10.1583 2.95118 10.3536 3.14645Z",fill:"currentColor"}))}),Le=S({name:"ChevronRight",render:()=>c("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c("path",{d:"M5.64645 3.14645C5.45118 3.34171 5.45118 3.65829 5.64645 3.85355L9.79289 8L5.64645 12.1464C5.45118 12.3417 5.45118 12.6583 5.64645 12.8536C5.84171 13.0488 6.15829 13.0488 6.35355 12.8536L10.8536 8.35355C11.0488 8.15829 11.0488 7.84171 10.8536 7.64645L6.35355 3.14645C6.15829 2.95118 5.84171 2.95118 5.64645 3.14645Z",fill:"currentColor"}))}),ze=y("collapse","width: 100%;",[y("collapse-item",`
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 margin: var(--n-item-margin);
 `,[w("disabled",[m("header","cursor: not-allowed;",[m("header-main",`
 color: var(--n-title-text-color-disabled);
 `),y("collapse-item-arrow",`
 color: var(--n-arrow-color-disabled);
 `)])]),y("collapse-item","margin-left: 32px;"),R("&:first-child","margin-top: 0;"),R("&:first-child >",[m("header","padding-top: 0;")]),w("left-arrow-placement",[m("header",[y("collapse-item-arrow","margin-right: 4px;")])]),w("right-arrow-placement",[m("header",[y("collapse-item-arrow","margin-left: 4px;")])]),m("content-wrapper",[m("content-inner","padding-top: 16px;"),Ce({duration:"0.15s"})]),w("active",[m("header",[w("active",[y("collapse-item-arrow","transform: rotate(90deg);")])])]),R("&:not(:first-child)","border-top: 1px solid var(--n-divider-color);"),te("disabled",[w("trigger-area-main",[m("header",[m("header-main","cursor: pointer;"),y("collapse-item-arrow","cursor: default;")])]),w("trigger-area-arrow",[m("header",[y("collapse-item-arrow","cursor: pointer;")])]),w("trigger-area-extra",[m("header",[m("header-extra","cursor: pointer;")])])]),m("header",`
 font-size: var(--n-title-font-size);
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 transition: color .3s var(--n-bezier);
 position: relative;
 padding: var(--n-title-padding);
 color: var(--n-title-text-color);
 `,[m("header-main",`
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 flex: 1;
 color: var(--n-title-text-color);
 `),m("header-extra",`
 display: flex;
 align-items: center;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),y("collapse-item-arrow",`
 display: flex;
 transition:
 transform .15s var(--n-bezier),
 color .3s var(--n-bezier);
 font-size: 18px;
 color: var(--n-arrow-color);
 `)])])]),Se=Object.assign(Object.assign({},K.props),{defaultExpandedNames:{type:[Array,String],default:null},expandedNames:[Array,String],arrowPlacement:{type:String,default:"left"},accordion:{type:Boolean,default:!1},displayDirective:{type:String,default:"if"},triggerAreas:{type:Array,default:()=>["main","extra","arrow"]},onItemHeaderClick:[Function,Array],"onUpdate:expandedNames":[Function,Array],onUpdateExpandedNames:[Function,Array],onExpandedNamesChange:{type:[Function,Array],validator:()=>!0,default:void 0}}),J=oe("n-collapse"),De=S({name:"Collapse",props:Se,slots:Object,setup(r,{slots:i}){const{mergedClsPrefixRef:n,inlineThemeDisabled:o,mergedRtlRef:f}=Y(r),s=E(r.defaultExpandedNames),u=z(()=>r.expandedNames),t=le(u,s),a=K("Collapse","-collapse",ze,ne,r,n);function e(x){const{"onUpdate:expandedNames":p,onUpdateExpandedNames:h,onExpandedNamesChange:_}=r;h&&M(h,x),p&&M(p,x),_&&M(_,x),s.value=x}function l(x){const{onItemHeaderClick:p}=r;p&&M(p,x)}se(J,{props:r,mergedClsPrefixRef:n,expandedNamesRef:t,slots:i,toggleItem:function(x,p,h){const{accordion:_}=r,{value:T}=t;if(_)x?(e([p]),l({name:p,expanded:!0,event:h})):(e([]),l({name:p,expanded:!1,event:h}));else if(Array.isArray(T)){const k=T.slice(),A=k.findIndex(H=>p===H);~A?(k.splice(A,1),e(k),l({name:p,expanded:!1,event:h})):(k.push(p),e(k),l({name:p,expanded:!0,event:h}))}else e([p]),l({name:p,expanded:!0,event:h})}});const g=X("Collapse",f,n),D=z(()=>{const{common:{cubicBezierEaseInOut:x},self:{titleFontWeight:p,dividerColor:h,titlePadding:_,titleTextColor:T,titleTextColorDisabled:k,textColor:A,arrowColor:H,fontSize:Q,titleFontSize:ee,arrowColorDisabled:ae,itemMargin:re}}=a.value;return{"--n-font-size":Q,"--n-bezier":x,"--n-text-color":A,"--n-divider-color":h,"--n-title-padding":_,"--n-title-font-size":ee,"--n-title-text-color":T,"--n-title-text-color-disabled":k,"--n-title-font-weight":p,"--n-arrow-color":H,"--n-arrow-color-disabled":ae,"--n-item-margin":re}}),P=o?ie("collapse",void 0,D,r):void 0;return{rtlEnabled:g,mergedTheme:a,mergedClsPrefix:n,cssVars:o?void 0:D,themeClass:P==null?void 0:P.themeClass,onRender:P==null?void 0:P.onRender}},render(){var r;return(r=this.onRender)===null||r===void 0||r.call(this),c("div",{class:[`${this.mergedClsPrefix}-collapse`,this.rtlEnabled&&`${this.mergedClsPrefix}-collapse--rtl`,this.themeClass],style:this.cssVars},this.$slots)}}),Pe=S({name:"CollapseItemContent",props:{displayDirective:{type:String,required:!0},show:Boolean,clsPrefix:{type:String,required:!0}},setup:r=>({onceTrue:me(G(r,"show"))}),render(){return c(de,null,{default:()=>{const{show:r,displayDirective:i,onceTrue:n,clsPrefix:o}=this,f=i==="show"&&n,s=c("div",{class:`${o}-collapse-item__content-wrapper`},c("div",{class:`${o}-collapse-item__content-inner`},this.$slots));return f?pe(s,[[ce,r]]):r?s:null}})}}),Te=S({name:"CollapseItem",props:{title:String,name:[String,Number],disabled:Boolean,displayDirective:String},setup(r){const{mergedRtlRef:i}=Y(r),n=ue(),o=ve(()=>{var l;return(l=r.name)!==null&&l!==void 0?l:n}),f=xe(J);f||he("collapse-item","`n-collapse-item` must be placed inside `n-collapse`.");const{expandedNamesRef:s,props:u,mergedClsPrefixRef:t,slots:a}=f,e=z(()=>{const{value:l}=s;if(Array.isArray(l)){const{value:g}=o;return!~l.findIndex(D=>D===g)}if(l){const{value:g}=o;return g!==l}return!0});return{rtlEnabled:X("Collapse",i,t),collapseSlots:a,randomName:n,mergedClsPrefix:t,collapsed:e,triggerAreas:G(u,"triggerAreas"),mergedDisplayDirective:z(()=>{const{displayDirective:l}=r;return l||u.displayDirective}),arrowPlacement:z(()=>u.arrowPlacement),handleClick(l){let g="main";W(l,"arrow")&&(g="arrow"),W(l,"extra")&&(g="extra"),u.triggerAreas.includes(g)&&f&&!r.disabled&&f.toggleItem(e.value,o.value,l)}}},render(){const{collapseSlots:r,$slots:i,arrowPlacement:n,collapsed:o,mergedDisplayDirective:f,mergedClsPrefix:s,disabled:u,triggerAreas:t}=this,a=I(i.header,{collapsed:o},()=>[this.title]),e=i["header-extra"]||r["header-extra"],l=i.arrow||r.arrow;return c("div",{class:[`${s}-collapse-item`,`${s}-collapse-item--${n}-arrow-placement`,u&&`${s}-collapse-item--disabled`,!o&&`${s}-collapse-item--active`,t.map(g=>`${s}-collapse-item--trigger-area-${g}`)]},c("div",{class:[`${s}-collapse-item__header`,!o&&`${s}-collapse-item__header--active`]},c("div",{class:`${s}-collapse-item__header-main`,onClick:this.handleClick},n==="right"&&a,c("div",{class:`${s}-collapse-item-arrow`,key:this.rtlEnabled?0:1,"data-arrow":!0},I(l,{collapsed:o},()=>[c(fe,{clsPrefix:s},{default:()=>this.rtlEnabled?c($e,null):c(Le,null)})])),n==="left"&&a),ge(e,{collapsed:o},g=>c("div",{class:`${s}-collapse-item__header-extra`,onClick:this.handleClick,"data-extra":!0},g))),c(Pe,{clsPrefix:s,displayDirective:f,show:!o},i))}}),Ae={style:{display:"flex"}},Me=["src"],Ne={style:{margin:"0 10px"}},He=["href"],Re=["innerHTML"],Ee={key:0},Fe=["href"],Ie=["innerHTML"],Be={key:1},Oe=["innerHTML"],je={style:{display:"flex"}},Ue=["src"],Ze={style:{margin:"0 10px"}},qe=["href"],Ve=["innerHTML"],We={key:0,style:{margin:"5px"}},Ye=["href"],Ke=["innerHTML"],Xe={key:1},Ge=["innerHTML"],Je={__name:"steaminfo",setup(r){const i=E({steam_enable:!1}),n=E({steam_enable:!1});function o(){we().then(t=>{typeof t!="string"&&(i.value=t)}).catch(t=>{V(t,{theme:"auto",type:"error"})})}function f(){be().then(t=>{typeof t!="string"&&(n.value=t)}).catch(t=>{V(t,{theme:"auto",type:"error"})})}function s(t){let a="",e="gray";switch(t){case 0:a="离线",e="gray";break;case 1:a="在线",e="#69D1F5";break;case 2:a="忙碌",e="red";break;case 3:a="离开",e="orange";break;case 4:a="休息",e="blue";break;case 5:a="寻找交易",e="purple";break;case 6:a="寻找游戏",e="yellow";break;default:a="未知状态",e="gray"}return`<span style="color: ${e};">${a}</span>`}function u(t){let a="",e="gray";return 1&t&&(a+="离线 ",e="gray"),2&t&&(a+="在线 ",e="green"),4&t&&(a+="金牌用户 ",e="gold"),64&t&&(a+="通过Steam大画面模式在线 "),256&t&&(a+="通过Web客户端在线 "),512&t&&(a+="通过移动设备在线 "),1024&t&&(a+="通过Steam控制器在线 "),a=a.trim(),`<span style="color: ${e};">${a}</span>`}return ye(()=>{o(),f()}),(t,a)=>i.value.steam_enable?(v(),F(C(_e),{key:0,title:"Steam Status",style:{"min-width":"200px"}},{default:L(()=>[N(C(B),{onClick:o,text:"",style:{margin:"10px 0",float:"right","font-size":"20px"},title:"刷新"},{default:L(()=>a[0]||(a[0]=[O("↻")])),_:1}),i.value.status_code==200?(v(!0),b(j,{key:0},U(i.value.data.response.players,(e,l)=>(v(),b("div",{style:{margin:"5px"},key:l},[d("div",Ae,[d("img",{src:e.avatarfull,alt:"头像",style:{width:"70px",height:"70px"}},null,8,Me),d("div",Ne,[d("a",{href:e.profileurl,target:"_blank",style:{padding:"0",color:"#69D1F5"}},$(e.personaname),9,He),d("div",{innerHTML:s(e.personastate)},null,8,Re),e.gameextrainfo?(v(),b("div",Ee,[d("a",{href:"https://store.steampowered.com/app/"+e.gameid,target:"_blank",style:{padding:"0"}},$(e.gameextrainfo),9,Fe)])):Z("",!0),d("div",{innerHTML:u(e.personastateflags)},null,8,Ie),d("div",null,"最后登录时间: "+$(C(q)(new Date(1e3*e.lastlogoff).toLocaleString())),1)])])]))),128)):(v(),b("div",Be,[d("div",{innerHTML:i.value.text||"未知错误"},null,8,Oe)])),N(C(De),{"default-expanded-names":["1"]},{default:L(()=>[N(C(Te),{title:"好友",name:"1"},{default:L(()=>[N(C(B),{onClick:f,text:"",style:{margin:"10px 10px",float:"right","font-size":"20px"},title:"刷新好友"},{default:L(()=>a[1]||(a[1]=[O("↻")])),_:1}),n.value.status_code==200?(v(!0),b(j,{key:0},U(n.value.data.response.players,(e,l)=>(v(),b("div",{style:{margin:"5px"},key:l},[d("div",je,[d("img",{src:e.avatarfull,alt:"头像",style:{width:"70px",height:"70px"}},null,8,Ue),d("div",Ze,[d("a",{href:e.profileurl,target:"_blank",style:{padding:"0",color:"#69D1F5"}},$(e.personaname),9,qe),a[2]||(a[2]=d("br",null,null,-1)),d("span",{innerHTML:s(e.personastate)},null,8,Ve),e.gameextrainfo?(v(),b("span",We,[d("a",{href:"https://store.steampowered.com/app/"+e.gameid,target:"_blank",style:{padding:"0"}},$(e.gameextrainfo),9,Ye)])):Z("",!0),d("div",{innerHTML:u(e.personastateflags)},null,8,Ke),d("div",null,$(C(q)(new Date(1e3*e.lastlogoff).toLocaleString())),1)])])]))),128)):(v(),b("div",Xe,[d("div",{innerHTML:i.value.text||"未知错误"},null,8,Ge)]))]),_:1})]),_:1})]),_:1})):(v(),F(C(ke),{key:1,text:"",repeat:5}))}},ta={__name:"steam",setup:r=>(i,n)=>(v(),F(Je))};export{ta as default};
